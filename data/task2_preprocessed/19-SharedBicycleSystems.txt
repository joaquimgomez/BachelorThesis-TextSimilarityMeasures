develop station-level demand predict visual tool support bike-shar system oper sciencedirect avail onlin www.sciencedirect.com transport research procedia 47 (2020) 5158 2352-1465 2020 authors. publish elsevi b.v. open access articl cc by-nc-nd licens ( peer-review respons scientif committe 22nd euro work group transport meeting. 10.1016/j.trpro.2020.03.072 10.1016/j.trpro.2020.03.072 2352-1465 2020 authors. publish elsevi b.v. open access articl cc by-nc-nd licens ( peer-review respons scientif committe 22nd euro work group transport meet avail onlin www.sciencedirect.com sciencedirect transport research procedia 00 (2019) 000000 www.elsevier.com/locate/procedia 2352-1465 2020 authors. publish elsevi b.v. peer-review respons scientif committe 22nd euro work group transport meeting. 22nd euro work group transport meeting, ewgt 2019, 18-20 septemb 2019, barcelona, spain develop station-level demand predict visual tool support bike-shar system oper neofyto boufidisa, andrea nikiforiadisa*, katerina chrysostomoua, georgia aifadopouloua acentr research technolog hella - hellen institut transport, 6th charila thermi rd., thessaloniki 570 01, greec abstract bike-shar system oper number citi world, aim promot sustain urban mobility. success manag system larg extent link optim distribut bicycles, impli accur predict demand rental return station day. purpose, tool predict bike demand rental return visual result develop present present paper. differ predict model base machin learn regress algorithm train evaluated. tool test data bike-shar oper citi thessaloniki, greec result indic test system util highli correl locat spatial characterist station, season year time day. propos machin learn algorithm us custom engin featur learn correl achiev highest possibl performance. 2020 authors. publish elsevi b.v. peer-review respons scientif committe 22nd euro work group transport meeting. keywords: bike-shar systems; demand prediction; machin learn 1. introduct main object european transport policy, reflect european commiss white paper transport 2011 (com 144, 2011), promot sustain mode transport, cycling. promot cycl pursu signific benefit in: a) health issu (oja et al., 2011; mullei et al., 2013), b) travel well-b (friman et al., 2017; singleton, 2018; vaitsi et al., 2019), c) environ (litman, 2018), d) economi (blondiau et al., 2016) e) car reduct (wood masthoff, 2017). promot cycling, essenti develop comfortable, safe extens bicycl network (buehler dill, 2015), implement secur * correspond author. tel.: +30 2311257622; fax: +30 2310498269. e-mail address: avail onlin www.sciencedirect.com sciencedirect transport research procedia 00 (2019) 000000 www.elsevier.com/locate/procedia 2352-1465 2020 authors. publish elsevi b.v. peer-review respons scientif committe 22nd euro work group transport meeting. 22nd euro work group transport meeting, ewgt 2019, 18-20 septemb 2019, barcelona, spain develop station-level demand predict visual tool support bike-shar system oper neofyto boufidisa, andrea nikiforiadisa*, katerina chrysostomoua, georgia aifadopouloua acentr research technolog hella - hellen institut transport, 6th charila thermi rd., thessaloniki 570 01, greec abstract bike-shar system oper number citi world, aim promot sustain urban mobility. success manag system larg extent link optim distribut bicycles, impli accur predict demand rental return station day. purpose, tool predict bike demand rental return visual result develop present present paper. differ predict model base machin learn regress algorithm train evaluated. tool test data bike-shar oper citi thessaloniki, greec result indic test system util highli correl locat spatial characterist station, season year time day. propos machin learn algorithm us custom engin featur learn correl achiev highest possibl performance. 2020 authors. publish elsevi b.v. peer-review respons scientif committe 22nd euro work group transport meeting. keywords: bike-shar systems; demand prediction; machin learn 1. introduct main object european transport policy, reflect european commiss white paper transport 2011 (com 144, 2011), promot sustain mode transport, cycling. promot cycl pursu signific benefit in: a) health issu (oja et al., 2011; mullei et al., 2013), b) travel well-b (friman et al., 2017; singleton, 2018; vaitsi et al., 2019), c) environ (litman, 2018), d) economi (blondiau et al., 2016) e) car reduct (wood masthoff, 2017). promot cycling, essenti develop comfortable, safe extens bicycl network (buehler dill, 2015), implement secur * correspond author. tel.: +30 2311257622; fax: +30 2310498269. e-mail address: 52 neofyto boufidi et al. / transport research procedia 47 (2020) 5158 2 boufidi et al. / transport research procedia 00 (2019) 000000 bicycl park space prioriti bicycl signal intersect (martino et al., 2010), carri promot activ (urbanczyk, 2010). also, implement bike-shar system action appli assist bicycl usag increase. time, share mobil solutions, enabl user short-term access transport mode as-need basi (shaheen et al., 2017), constantli gain ground. context clear bike-shar system import transport system modern citi citi worldwid implement system (shaheen et al., 2010). histori bike-shar system (bss) begin 1965, white bicycl plan amsterdam (demaio, 2009). today, wai system oper vari consider year gener form (demaio, 2009; shaheen et al., 2010): free bike system white bikes: character total absenc rule coin-deposit systems: gener system stations, bicycl rent coin deposit introduc inform technology-bas systems: system gener collect data rental user order deal phenomena vandal theft demand responsive, multi-mod systems: element generation' system usag gp devic bicycles, usag electr bicycles, advanc method bike re-distribution, integr transport mode usag mobil station lack fix station (dockless systems). evolut bike-shar system reveal import role plai technology. also, oper systems, particularli generations, show success depend solut optim problems: a) number locat stations, b) capac stations, c) bicycl distribution. solv problems, essenti estim system' demand. extens review bike-shar research publish 2010 2018 conclud demand estim evolutionari trend field bike-shar research global (si et al., 2019). literatur studi attempt identifi factor affect station demand. accord unit state depart transport (2012), station demand correl with: a) popul density, b) employ density, c) proxim universities, d) commerci activ density, e) avail bicycl infrastructure, f) proxim tourist attract recreat areas, g) avail public transit, h) topography. impact factor station demand explor surveys. zhao et al. (2015) us data nanjing, china identifi demand bike-shar trip mainli gener residenti area mainli attract rail stations. noland et al. (2016) us bayesian regress model conclud station close subwai station bicycl infrastructur exhibit higher demand. apart bicycl infrastructure, presenc neighbor bike-shar station signific impact station usag (hyland et al., 2018). studi highlight demand lower area higher elev (faghih-imani et al., 2017). factor mention affect station demand relat built environment, land us transport system us inform optim plan bike-shar systems, determin number, locat capac stations. however, proper manag specif re-distribut bicycles, us estim chang demand station, year, day. kim (2018) identifi demand bike-shar trip approxim weekend weekdays, lower public holidai dai high temperatures. weather variables, temperature, wind intensity, rainfal humid level, import predictor ashqar et al. (2019) corcoran et al. (2014) studies. recent studi appli machin learn techniqu order develop tool short term predict demand station level (hulot et al., 2018; wang kim, 2018; lozano et al., 2018; lin et al., 2018). studi mainli exploit tempor weather data appli method random forests, gradient boost recurr graph convolut neural networks. aim present paper present methodolog develop tool, tool itself, consist demand predict model web-bas applic visual predictions. contrast predict model develop field, model propos paper focus small-medium size system intend easili adapt need characterist differ bike-shar system similar size. such, innov tool, system, neofyto boufidi et al. / transport research procedia 47 (2020) 5158 53 boufidi et al. / transport research procedia 00 (2019) 000000 3 machin learn regress algorithm test evalu user (the bike-shar system operator) provid result best-fit algorithm. tool compris us assist bike-shar oper order optim bike redistribut process offer reliabl servic system users. 2. methodolog develop predict tool base data driven model fuse data differ sources; static file inform locat (coordinates) bike-shar stations, rental record databas system, includ spatial tempor data start end rental, weather data area oper short term weather forecast. differ time interv model train issu predict considered, 1-hour, 2-hour 3-hour. system high rental density, one- two-hour interv consid meaning suitable. however, analyz system spars rental frequency, case differ station 0 rental vast major short intervals. cases, increas time interv 3 hour countermeasure. desir time interv selected, effici algorithm group rental record accord trip start station count rental select tempor interval, creat depend (target) variabl demand predict algorithms. similar method appli bike return predict model; however, group implement respect station trip ended, target variabl number bike return station time interval. model rest process step identical. weather rental dataset resampl match time intervals. time interv sample, weather featur extract weather database: a) averag temperatur b) wind speed c) sky cover (ordin numer variabl repres clear, scattered, broken, overcast obscur conditions) d) liquid precipitation. final data preprocess step featur engineering; method appli raw data order creat custom independ variabl util model. tool automat extract variabl date time interval. binari variabl indic dai holidai sundai respectively, import featur bike demand typic differenti days. time, weekdai month time interv encod cyclic fashion, consid day, week year complet circl respectively. example, week circl consist n=7 weekdays, repres n=0, 1, 2, ... ,6 map correspond angl =(2pi*n)/7 rad code tupl (sin,cos). consecut weekdai map angl minimum differ (2pi)/7 rad, code tupl small sine cosin numer difference, unlik inconsecut weekdays. finally, ordin variabl encod year us system oper prolong period time demand chang years. station demand return bss affect number avail bike rent nearbi stations. case station empty, demand nearbi station increase. furthermore, accord bss policy, station accept bikes. scenario number bike return nearbi station expect increase. develop predict model, state nearbi station util independ variabl data limitations. histor dataset util case studi consist rental records; data redistribut bike available, number bike station point time unknown. preprocess histor data util order train differ predict models, base machin learn regress algorithm suitabl specif task, accord previou studies. test algorithm vari ensembl boost method like random forests, gradient boost xgboost artifici intellig method util neural networks. initially, model construct default hyperparamet values, configur python machin learn librari scikit-learn (pedregosa et al., 2011). neural network input layer size 20, follow hidden layer size 20 8 respectively, output layer size 1. model perform evalu 10-fold cross-valid method. consid evalu metric mean squar error (mse), root mse log-transform predict target values, call root mean squar logarithm error (rmsle), easier interpret mean absolut error (mae). coeffici determin (r2) monitored, indic percentag variabl depend variabl 54 neofyto boufidi et al. / transport research procedia 47 (2020) 5158 4 boufidi et al. / transport research procedia 00 (2019) 000000 model abl explain. detail evalu report automat compos tool, rank algorithm respect predict performance. user abl select algorithm optim achiev highest predict performance. optim achiev grid search cross- valid (gscv), procedur model train cross-valid differ hyperparamet valu combin identifi optim configuration. gscv computation expens procedure, includ train (with potenti larg datasets) test models. result, implement initi evalu model performance, specif algorithm design user. tool implement python program languag util establish librari panda (mckinney, 2010) scikit-learn (pedregosa et al., 2011) data processing, transformations, analysi machin learning. neural network realiz kera (chollet, 2015) run tensorflow (abadi et al., 2015). interact user interfac built dash plotli (plotli technolog inc., 2015). system architectur present fig. 1. fig. 1. propos tool architecture. 3. evalu tool thessaloniki bike-shar 3.1. studi area bike share propos demand predict visual tool appli evalu citi thessaloniki, second largest citi greece, popul 1 million people. cycl usag level low thessaloniki (nikiforiadi basbas, 2019), city' environ judg citizen unsaf uncomfort cycl (vaitsi et al., 2019). bicycl lane network current oper thessaloniki total length 11.73 provid suffici access bicycl users. nevertheless, estim situat chang near futur appropri intervent result implement sustain urban mobil plan (sump), conduct local authority. citi thessaloniki, bike-shar system, name thessbike, oper septemb 2013. foundat octob 2018, 16000 member regist 92000 rental made. current situation, oper 200 bicycl 8 stations, mainli locat citi center. fig. 2 provid us inform understand usag patterns. specifically, fig. 2(a), show demand distribut similar manner month year oper peak appear, september, month weather condit citi ideal cycling. fig. 2(b) mainli note distribut hourli demand differenti accord season; summer demand low neofyto boufidi et al. / transport research procedia 47 (2020) 5158 55 boufidi et al. / transport research procedia 00 (2019) 000000 5 dai peak sharpli late afternoon, contrari winter season reveal opposit pattern. spring autumn hourli demand distribut follow similar motives. fig. 2. (a) distribut rental month year operation; (b) distribut rental hour base season. furthermore, demand higher weekend especi sundays, indic mainli recreat purpos commuting. 3.2. data descript needed, dataset util test tool, concern inform bike rental scheme (station locat histor rentals) weather data. extract bike-shar oper databas local airport weather station databas .csv format. best author knowledge, airport weather station local station provid accur open histor current data. ideally, tool directli connect dynam databas (weather rentals) order access real time rental data short-term weather forecast. mechan foreseen develop tool; however, exploit case study, proprietari natur bike rental data. weather dataset record averag wind speed temperatur previou 30 minutes, sky clearanc report 3 hour precipit level 6 24 hours. precipit valu normal hourli valu enabl correct resampl desir tempor interv 1, 2 3 hours. rental dataset includ rent return timestamp station rental. variabl includ user bike id. analysi dataset reveal 2.5% rental durat 5 minutes. accord bike share operator, trip consid invalid, exclud analysis. furthermore, data 2013 exclud train set demand initi period oper low, fig. 2(a) confirms. final preprocess step, dai consid 18-hour duration, 6:00:00 a.m. 23:59:59 p.m., main rental station autom oper time window. 3.3. applic evalu demand predict model station-level bike demand return predict visual tool, describ section 2, test data bss oper citi thessaloniki. tempor aggreg level chosen test 3-hour interval. 1-hour 2-hour level investig consid inappropri bike share thessaloniki, station produc 0 rental major time intervals. applic cross-valid predict model reveal xgboost outperform rest model margin. however, perform model converg optim hyperparamet valu obtain gscv utilized. random forest gradient boost model appear fit train set better algorithms, lower error higher r2 values, tabl 1 indicates. however, model predict perform gener abil accur assess test dataset, subset data model training. test set, gradient boost produc margin error compar rest models. final import comment evalu result neural network model produc similar result train test set. clearli worst fit train set, however, 56 neofyto boufidi et al. / transport research procedia 47 (2020) 5158 6 boufidi et al. / transport research procedia 00 (2019) 000000 test set produc error slightli larger models. indic neural network prone overfit test predict algorithms. neural network commonli known overfit tendenc study, overfit avoid adopt dropout strategi hidden layer util proper train epoch layer size network. tabl 1. evalu metric predict model gscv hyperparamet optimization. train set metric test set metric bike rental mae mse rmsle r2 mae mse rmsle r2 gradient boost 0.75 1.81 0.42 0.76 0.85 2.69 0.46 0.64 xgboost 0.76 1.91 0.43 0.74 0.85 2.71 0.46 0.63 random forest 0.72 1.91 0.40 0.74 0.85 2.77 0.46 0.63 neural network 0.89 2.66 0.49 0.64 0.91 3.00 0.49 0.6 bike return gradient boost 0.74 1.80 0.42 0.75 0.85 2.69 0.46 0.63 xgboost 0.76 1.90 0.43 0.74 0.85 2.70 0.46 0.63 random forest 0.71 1.90 0.40 0.74 0.84 2.76 0.46 0.62 neural network 0.89 2.66 0.48 0.64 0.91 3.00 0.49 0.59 evalu metric directli present user, choos model specif date. bike demand return estim 3-hour interv consecut ones, date. result visual map, user interact zoom out, move direct hover select point (bike stations) inform (see fig. 3). fig. 3. predict tool applic interfac estim 15:00 21:00 april 29th, 2018. neofyto boufidi et al. / transport research procedia 47 (2020) 5158 57 boufidi et al. / transport research procedia 00 (2019) 000000 7 4. conclus paper, tool predict demand rental return bike station-bas bike share scheme visual result presented. tool facilit simple, intuit interfac requir special train expertis util bike-shar operator. receiv harvest histor bike rental dataset, automat produc best perform algorithm rental demand return forecast station system. level model appropri report user detail report predict perform differ algorithms. model evaluation, tool-us opt desir time interv issu predict (i.e. 1, 2 3 hours). produc result visual interactive, user-friendli environ real-time, support oper decis make data-driven manag fleet stations. develop tool empow manag bike-shar system enabl accurate, data-driven decis optim system oper provid us insight develop strategi incentiv user return/r bicycl from/to specif station accord expect demand. futur work deploi demand predict output tool, develop optim bicycl redistribut tool support bike-shar system operation. acknowledg research implement framework i-bikeshar project, cofinanc european union greek nation fund oper program competitiveness, entrepreneurship innovation, research creat innov (project code: t1edk-02831). author like thank thessbik bike-shar share system usag data current work. refer abadi, m., agarwal, a., barham, p., brevdo, e., chen, z., citro, c., corrado, g., davis, a., dean, j., devin, m., ghemawat, s., goodfellow, i., harp, a., irving, g., isard, m., jozefowicz, r., jia, y., kaiser, l., kudlur, m., levenberg, j., man, d., schuster, m., monga, r., moore, s., murray, d., olah, c., shlens, j., steiner, b., sutskever, i., talwar, k., tucker, p., vanhoucke, v., vasudevan, v., vigas, f., vinyals, o., warden, p., wattenberg, m., wicke, m., yu, y., zheng, x., 2015. tensorflow: large-scal machin learn heterogen systems. avail at: www.tensorflow.org. ashqar, h., elhenawy, m., rakha, h., 2019. model bike count bike-shar consid effect weather conditions. case studi transport policy. blondiau, t., van zeebroeck, b., haubold, h., 2016. econom benefit increas cycling. transport research procedia 14, 2306-2313. buehler, r., dill, j., 2015. bikewai networks: review effect cycling. transport review 36, 9-27. chollet, f., 2015. keras. github. com 2011. 144 white paper: roadmap singl european transport area competit resourc effici transport system. european commission, brussels. corcoran, j., li, t., rohde, d., charles-edwards, e., mateo-babiano, d., 2014. spatio-tempor pattern public bicycl share program: effect weather calendar events. journal transport geographi 41, 292-305. demaio, p., 2009. bike-sharing: history, impacts, model provision, future. journal public transport 12.4, 41-56. faghih-imani, a., hampshire, r., maria, l., eluru, n., 2017. empir analysi bike share usag rebalancing: evid barcelona seville. transport research 97, 177-191. friman, m., grling, t., ettema, d., olsson, l., 2017. travel affect emot well-b life satisfaction? transport research 106, 170-180. hulot, p., aloise, d., jena, s.d., 2018. station-level demand predict effect rebalanc bike-shar systems. kdd 18: 24th acm sigkdd intern confer knowledg acm, discoveri & data mining, august 1923, 2018, london, unit kingdom. hyland, m., hong, z., pinto, h., chen, y., 2018. hybrid cluster-regress approach model bikeshar station usage. transport research 115, 71-89. kim, k., 2018. investig effect weather calendar event bike-shar accord trip pattern bike rental stations. journal transport geographi 66, 309320. lin, l., he, z., peeta, s., 2018. predict station-level hourli demand large-scal bikeshar network: graph convolut neural network approach. transport research c 97, 258-276. 58 neofyto boufidi et al. / transport research procedia 47 (2020) 5158 8 boufidi et al. / transport research procedia 00 (2019) 000000 litman, t., 2018. evalu activ transport benefit costs. guid valu walk cycl improv encourag programs. prepar victoria transport polici institute. lozano, ., paz, j., villarrubia gonzlez, g., iglesia, d., bajo, j., 2018. multi-ag demand predict trip visual bike share systems. appli scienc 8, 67. martino, a., maffii, s., raganato, p., 2010. promot cycling. director gener intern policies, polici depart b: structur cohes policies, brussels. mckinney, w., 2010. data structur statist comput python. proceed 9th python scienc conference, 51-56. mulley, c., tyson, r., mccue, p., rissel, c., munro, c., 2013. valu activ travel: includ health benefit sustain transport transport apprais frameworks. research transport busi & manag 7, 27-34. noland, r., smart, m., guo, z., 2016. bikeshar trip gener new york city. transport research 94, 164-181. nikiforiadis, a., basbas, s., 2019. pedestrian cyclist share space? case citi low cycl level experience. sustain citi societi 46, 101453. oja, p., titze, s., bauman, a., geus, b., krenn, p., reger-nash, b., kohlberger, t., 2011. health benefit cycling: systemat review. scandinavian journal medicin & scienc sport 21.4, 496-509. pedregosa, f., varoquaux, g., gramfort, a., michel, v., thirion, b., grisel, o., blondel, m., prettenhofer, p., weiss, r., dubourg, v., vanderplas, j., passos, a., cournapeau, d., brucher, m., perrot, m., duchesnay, e., 2011. scikit-learn: machin learn python. journal machin learn research 12, 2825-2830. plotli technolog inc., 2015. collabor data scienc publisher: plotli technolog inc. montral, qc. shaheen, s., guzman, s., zhang, h., 2010. bikeshar europe, americas, asia: past, present, future. transport research record: journal transport research board 2143, 159-167. shaheen, s., bansal, a., chan, n., cohen, a., 2017. mobil share economy: industri develop earli understand impacts. uc berkeley: transport sustain research center. si, h., shi, j., wu, g., chen, j., zhao, x., 2019. map bike share research publish 2010 2018: scientometr review. journal cleaner product 213, 415-427. singleton, p., 2018. walk (and cycling) well-being: modal determin subject well-b commute. travel behaviour & society. unit state depart transportation, 2012. bike share unit states: state practic guid implementation. prepar by: tool design group pedestrian bicycl inform center, for: usdot feder highwai administration. urbanczyk, r., 2010. presto cycl polici guide: promot cycling. execut agenc competit innov (eaci), brussels. vaitsis, p., basbas, s., nikiforiadis, a., 2019. eudaimon aspect subject well-b affect transport mode choice? case thessaloniki, greece. social scienc 8.1, 9. wang, b., kim, i., 2018. short-term predict bike-shar servic machin learning. transport research procedia 34, 171-178. woods, r., masthoff, j., 2017. comparison car driving, public transport cycl experi european cities. transport research 103, 211-222. zhao, j., wang, j., deng, w., 2015. explor bikeshar travel time trip chain gender dai week. transport research c 58, 251-264.