discov plai patterns: time seri cluster free-to-plai game data alain saas, anna guitart africa perianez silicon studio 1-21-3 ebisu shibuya-ku, tokyo, japan email: abstractth classif time seri data challeng common data-driven fields. however, agreement effici techniqu group unlabel time-ord data. success classif time seri pattern depend goal domain interest, i.e. application-dependent. article, studi free-to-plai game data. domain, cluster similar time seri inform increasingli import larg data collect current mobil web applications. evalu method cluster accur time seri mobil games, focus player behavior data. identifi valid aspect clustering: similar measur represent techniqu reduc high dimension time series. robust test, compar tempor dataset player activ free-to-plai video-games. techniqu extract tempor pattern player behavior relev evalu game event game- busi diagnosis. experi provid intuit visualiza- tion valid result cluster determin optim number clusters. additionally, assess common characterist player belong group. studi allow improv understand player dynam churn behavior. i. introduct past years, free-to-plai (f2p) emerg domin monet model game mobil platform [1], [2]. f2p game offer free, monet charg in-gam content in-app purchases, player retent kei success monetization. always-connect natur mobil devic allow constantli collect data player behavior game. data guid design decis updat releas addit content maintain player interest, form period event give access new game content limit period time [3]. studi motiv idea automat cluster time seri player behavior lead better understand player engagement. daili activ user base rang thousand million players, game develop know player react game content update. best, visual averag manual defin segment [4]. paper, automat cluster visual main trend player behavior determin differenti characterist player belong differ clusters. consid evolut player end time seri studied, investig us cluster featur address tempor dynam supervis learn applications, e.g. churn predict model. previou effort cluster game data appear [5], [6], [7], [8], [9], common goal extract player pattern behavior. however, focu studi non- time-ori data. hand, work present [10], cluster time seri performed, measur obtain pc games, f2p game data allow robust behavior analysis. aim present paper identifi similar pattern unlabel tempor dataset player activ f2p games. order discov natur group players, base behavior interact game, appli divers cluster techniqu focu maxim dissimilar differ cluster maxim homogen groups. best knowledg articl appli unsupervis learn techniqu cluster time seri player behavior f2p games. successfulli extract relev user pattern f2p games: ag ishtaria grand sphere, help examin quickli player activity, allow visual game diagnosi intuit evalu weekly-bas game events. game chosen studi repres plai f2p mobil social role-plai game japan success worldwide, reach million players. ii. cluster time seri game data time seri consist sequenti observ collect order time. nowadays, application, web mobil based, produc massiv time seri data. goal unsupervis time seri learning, e.g. cluster methods, discov hidden pattern time order data. cluster time seri data receiv high attent decad [11], start semin work [12] 1993. face challeng [13], import probabl high dimension level time seri contain difficulti defin similar measure, i.e. distanc series, order classifi close pattern group. work ar x iv :1 71 0. 02 26 8v 1 [ st .m l ] 6 o ct 2 01 7 raw time seri computation expens tech- nical complicated. cluster efficiently, complex reduc represent techniqu [14], try maintain characterist featur data. dimension reduct similar distanc definit obvious application-dependent. furthermore, fast increas digit data, cluster algorithm readi deal big data challeng [15], e.g. vast volum data process high effici speed, real time. literatur time seri cluster extensive. comprehens review time seri similar search methods, check [16], [17], [18], [19]. section review method appli present paper cluster time seri player behavior. briefli explain separ represent method similar measur evalu cluster results. a. similar measur given time series, defin sequenc xn = (x1, x2, , xn ), (1) x observ measur differ time n, need determin level similarity/dissimilar (i.e. agreement/discrepancy) pair order cluster sampl k time series. tradit distanc computations, euclidean distance, produc interest results. however, case time series, notion distanc need confin simpl geometr paradigm. wai measur dissimilar pair time series. paper aim cluster player profil ag ishtaria grand sphere game base in-gam behavior, dissimilar measur chosen accord busi target. interest so-cal model-fre measur [20]. naiv model-fre approach treat seri n- dimension vector, calcul shape-bas geometr distanc measur (without take account absolut valu time seri selected). measur focu work, interest shape pattern behavior (geometr comparison) magnitud time series. dissimilar method tested, pro- vide robust result classifi time seri are: eu- clidean distance, correl (cor), raw valu tempo- ral correl (cort) dynam time warp (dtw). addition, complexity-bas approach [20] call complex- iti invari distanc (cid) [21] applied. method, instead focus shape series, expect group profil differ perspective, take account degre variabl time. measur evaluated, e.g autocorrelation-bas dissimilarity, frechet distanc measure, periodogram-bas dissimilarity, (a review techniqu [20]). however, method output satisfactori result on mention previou paragraph. select measur defin below, consid time seri x ,y size t (which tempor dimension). 1) dynam time warp (dtw): dtw non-linear similar measur obtain minim distanc be- tween time seri [22]. method permit group seri similar shape phase [23]. figur 3 show left panel dtw align seri delai similar patterns. dtw distanc express dtw (x,y ) = min rm ( m m=1 |xim yjm| ) , (2) path element r = (i, j) repres relationship series. goal minim time warp path r sum m compon give lowest measur minimum cumul distanc time series. dtw search best align x y , comput minimum distanc point xi yj . 2) correlation-bas measur (cor): perform dissim- ilar base estim pearson correl given time series. cor comput express cor(x,i ) =n n=1(xn x)(yn y )n n=1(xn x)2 n n=1(yn y )2 . (3) 3) tempor correl raw valu behavior mea- sure (cort): comput adapt index time seri cover dissimilar raw valu dissimilar tempor correl behaviors. written cort (x,y ) =n1 n=1 (xn+1 xn)(yn+1 yn)n1 n=1 (xn+1 xn)2 n1 n=1 (yn+1 yn)2 . (4) 4) complexity-invari distanc measur (cid): cid comput similar measur base euclidean distanc correct complex estim seri [21]. cid written cid(x,i ) = dist(x,i ) cf (x,y ), (5) cf complex correct factor defin cf (x,y ) = max(ce(x), ce(i )) min(ce(x), ce(i )) . (6) ce() correspond complex estim time seri length n , given ce(x) = n1 n=1 (xn xn+1)2. (7) fig. 1: illustr sax represent method (dimension- aliti reduct time series), perform follow paramet values: w = 7 = 3. b. represent method time seri data collect f2p game high di- mension objects. order reduc complex comparison feasible, conveni perform dimension reduct transform beforehand. wai reduc data n-dimens n - dimensions, depend applic domain, techniqu suitabl others. focu function approxim procedur simplifi time seri object aim cluster. follow subsections, briefli summar success procedur video-gam data test present study. 1) discret wavelet transform (dwt): method us wavelet decomposit approxim actual series. wavelet function approxim target time seri mean superposit (wavelet) functions. wavelet object provid inform variat time seri locally, shown figur 3 right lower panel. dwt assign coeffici wavelet compon distanc comput wavelet- approxim time series. 2) symbol aggreg approxim relat function measur (sax): sax symbol represent simplifi continu time seri [24]. seri discret divid sequenti frame equal size. firstly, seri divid w set interv repres correspond mean piec wise aggreg approxim (paa) dimension reduction. sax repres subset alphabet letter size = (l1, ..., l) transform seri x = (x1, ..., x) comput determin equal-s zone gaussian distribution. distanc comput approxim time series. figur 1 depict schemat view sax dimension reduct method. 3) trend extraction: time seri compos differ element season components, medium long-term trend, cyclic movement (repeat pattern non-periodic) irregular fluctuat (also known residuals). depend cluster application, compon repres characterist raw time series. fig. 2: time seri decomposit dimens re- duction. origin seri upper panel, trend extract second plot, season random (residu fluctuations) compon shown fourth panel, respectively. interest character player behavior, focu trend compon provid essenti inform purpose. season behavior irregular data center attention, trend reflect signific inform player interests. mention [25] trend time seri consid smooth addit compon contain inform global change. method work extract trend move averag filtering. c. hierarch cluster subsection, method creat nest partit order classifi total number time series. hierarch cluster creat homogen partit data accord level dissimilarity, maxim differ cluster [26], [27]. cluster grow method increas (agglom cluster bottom- up) decreas (divis cluster top-down) step. normal repres dendrogram cluster level tree-bas graph. figur 4 illustr dendrogram hierarch cluster perform classifi player behavior ag ishtaria. method select cluster dataset studi current paper agglom clustering. differ method agglom cluster [26], analysi so-cal ward method minimum varianc technique. ward, distanc cluster defin devianc them. cluster merg group on lead minimum increas total within-clust varianc (calcul dissimilar measur select time series) [27]. method obtain result present section v, goal obtain low varianc clusters. fig. 3: illustr differ time seri clus- tere result obtain euclidean (eucl) correla- tion dissimilar measur (cor) (left upper panel), dynam time warp (dtw) upper right panel, complex invari distanc (cid) left lower panel, discret wavelet transform (dwt) right lower panel. iii. comparison cluster method select adequ techniqu cluster time seri depend applic busi interest. method review section ii test cluster time seri game data. want classifi player pattern- shape, give attent small fluctuat total magnitud time series. base aim conclude: dtw work particularli group similar player profil shift time axis. dtw group similar pattern differ scale. however, interest evalu impact game event player activity, focu cluster synchron profiles. therefore, suitabl tool measur distanc time seri purpos current study. dwt method dimension reduction, wavelet defin frequenc series, some- time fit weekli season want study. sax represent method us tool problem interest identifi pattern behavior, detail aspect time series. however, manual tune paramet w drawback, easili introduc apriori inform season time seri (the weekli event case). hope dimension reduct offer sax allow cluster longer time seri (2 month more) obtain conclus results. cor promis method goal. group similar geometr synchron profiles. drawback, cor sensit nois data outlier (which present datasets). cort similar cor, ultim obtain convinc result second. cor+trend combin cor trend extrac- tion, address cor sensit noise. method allow obtain best result non- spars time seri (such time seri time played). indeed, trend extract work time seri contain zero valu (such time seri in-app purchases). cid group seri similar complex patterns. method perform poorli classifi similar ge- ometr profiles, successfulli cor+trend appli time seri time played. however, method provid best result come classifi time seri contain larg zero valu (such time seri pur- chases). figur 3 show intuit comparison similar measur represent method help understand differ differ techniques. similar method represent techniqu describ paper test obtain result present section v. a. evalu metric cluster result valid cluster method challeng task, truth reli compar accuraci classification, contrari supervis learn models. techniqu evalu adequaci similar measur represent method cluster time seri tested, them: dunn averag silhouett width [28], normal hubert statist [29] entropi [30]. however, difficulti task high complex time seri objects, result satisfactory. kind visual techniqu valid cluster result determin optim number clusters. iv. dataset a. data sourc data come game ag ishtaria grand sphere silicon studio. work time seri follow variabl game independ measur free-to-plai games. variabl measur user day. time: time spent game sessions: total number plai session actions: total number action perform purchase: total in-app purchas time, session action time seri highli correl produc similar results. thus, purpos study, focu time variable, lower measur error. purchas time seri differ spars (thei contain zero values), major pai user complet in-app purchas day. tabl i: summari descript cluster result ag ishtaria grand sphere data. cluster result game data techniqu cluster start date end date ag ishtaria time cluster ag ishtaria time plai dai cor+trend 8 11-jun-2015 1-jul-2015 ag ishtaria spend cluster ag ishtaria spend dai cid 5 30-jan-2015 19-feb-2015 grand sphere time cluster grand sphere time plai dai cor+trend 8 11-sept-2015 1-oct-2015 fig. 4: hierarch cluster repres dendrogram ag ishtaria time-plai data. ag ishtaria time cluster perform cor similar measur trend extract represent method. b. time seri studi frequenc time seri daily. studi weekli basi weekli game event influenc player behavior. studi period p , contain nweek 7 values, nweek = 3 number week select study. synchron start date pstart end date pend time seri start date game events. order avoid bia partial absenc data player join leav game p , consid data player instal game pstart activ pend. final result cluster time seri time played, consid data user plai 6 dai week. reason choice. firstly, free-to-plai game develop perspective, interest activ players. secondly, cluster techniqu allow obtain best result cluster perform poorli spars time series. final result cluster time seri pur- chases, sparse, spenders, consid player pur- chase p . spars natur time series, obtain best result differ cluster technique. finally, random sampl 1000 time seri re- spect condit experiments. v. result section, present result cluster experi summar tabl i. experiment, event a, b c game event releas respect week 1, 2 3. name convent independ content events. a. cluster visual 1) cluster time seri time played: figur 5 visual classif obtain cluster time seri time plai dai ag ishtaria players, correl dissimilar measur trend extract raw time series. method cor+trend. cluster, plot mean time seri heatmap contain time seri (one time seri player includ sample). visual mean allow trend player behavior. example, activ class 3 plung event b spike event c, class 4 follow opposit pattern. game event usual design base predefin game templat (i.e. reus lifetim game), analysi help game design better understand group player differ kind game events. support futur game event plan improv knowledg impact game event player activity. visual time seri cluster heatmap allow quickli valid qualiti clustering. figur 5 show time seri follow pattern cluster. heatmap dendrogram visualization, repre- sent figur 4 5, prove better tool statist measur tested, mention section iii-a, choos optim number clusters. tool determin optim cluster obtain 8 clusters. appli cluster techniqu time seri time plai player grand sphere, obtain similar results, check figur 6. promis fact obtain adequ techniqu readi cluster data f2p games. 2) cluster time seri purchases: figur 7 depict cluster obtain cluster time seri purchas dai ag ishtaria players, complex invari distanc (cid) raw time series. cluster, repres distribut data separ week box-plot, heatmap contain time series. visual time seri cluster heatmap allow distinguish differ purchas patterns. example, player class 1 class 3 purchas spars player class 2 purchas nearli day. fig. 5: mean time seri heatmap cluster ag ishtaria time cluster (time plai day). vertic line delimit game events. cluster perform cor similar measur trend extraction. fig. 6: mean time seri heatmap cluster grand sphere time cluster (time plai day). vertic line delimit game events. cluster perform cor similar measur trend extraction. tabl ii: characterist player start date studi period (age ishtaria time clustering) variabl class 1 class 2 class 3 class 4 class 5 class 6 class 7 class 8 number player 40 283 161 65 172 71 131 77 ratio pu 30.0% 33.2% 44.7% 20.0% 33.1% 33.8% 35.1% 14.3% averag level 47 53 75 35 51 49 58 31 tabl iii: cumul churn ratio month follow clustering, period p (age ishtaria time clustering) churner ratio class 1 class 2 class 3 class 4 class 5 class 6 class 7 class 8 juli 15.0% 11.7% 4.3% 15.4% 19.2% 18.3% 5.3% 22.1% august 27.5% 19.8% 13.0% 26.2% 30.8% 31.0% 14.5% 28.6% novemb 45.0% 48.4% 29.2% 47.7% 51.7% 50.7% 32.8% 58.4% scale heatmap normal separ abl visual properli rang purchas heatmap, compar purchas cluster visualization. and, contrari cluster time seri time plai describ above, time seri purchas sparse, make irrelev plot mean time series. us box-plot represent spend week, order visual differ scale differ groups. addit plot allow us, example, class 5 contain high spender rel spars purchas behavior like class 1 3. b. extract player characterist interest cluster game user discov hidden patterns, want analyz characterist common. perform clustering, measur player behav period p analyz characterist start date pstart time series. tabl iii reflect class 3 contain player highest plai level highest ratio pai fig. 7: cluster result visual purchas time seri ag ishtaria data cid similar measur (age ishtaria spend clustering). box plot spend player week upper panel. correspond heatmap cluster below. date x-axi delimit weekli game events. users, class 4 8 contain player lowest level lowest ratio pai users. interest note cluster coincid on discuss earlier reflect opposit certain game events. observations, conclud event b unpopular advanc player popular advanc players, event c popular advanc player unpopular advanc players. game planner visual conclud better avoid trigger event event cs type soon user acquisit campaign, like unpopular new come advanc player acquired. exampl show possibl extract differenti- at player characterist cluster obtained. c. churn behavior player retent crucial import f2p games. model propos help understand predict churn player [31], [32], [33]. base result obtain tabl ii figur 5, studi evolut player period time p cover time series, order relat behavior p p . tabl ii show churn rate 1, 2 5 month period p cluster. observ class 3 7 significantli lower churn rate class 4 8, 3 4 time lower 1 month 1.5 2 time lower 5 months. accord result, player differ churn behavior follow profil classif perform period p . therefore, us unsupervis classif player profil suggest articl interest featur address tempor dynam player data churn supervis learn model. [32] altern approach propos hidden markov model. however, order us predictor supervis model chang need perform definit problem discuss section iv. comprehens analysi scope paper. example, involv cluster player base week behavior, e.g. time seri start date 3 week dai player connect game instead take fix date present work. time seri classif allow improv understand churn player but, hand, provid inform game event reaction, princip target current analysis. vi. summari conclus present article, conduct research unsupervis cluster time seri data free- to-plai games. evalu similar measur represent method extract meaning behavior pat- tern players. allow assess impact weekli game event discov hidden plai dynam purchas time plai day. appropri character time seri allow signific attribut common player belong group. ongo futur work involv applic time seri cluster result churn predict model analysi player profiles. vii. softwar analys present section v perform r version 3.2.3 windows, follow packag cran: tsclust 1.2.3 [20], timeseri 3022.101.2 [34], fpc 2.1-10 [35], rmisc 1.5 [36], reshap 0.8.5 [37], ggplot2 2.0.0 [38]. acknowledg thank colleagu sovannrith lay, hiroshi okuno, takeshi kimura, tomomi hamamura, kotaro narizawa yumi kida help collect data support study. thank thanh tra phan care review article. refer [1] t. fields, mobil & social game design: monet method mechanics, crc press, 2014. [2] a. annie, idc. 2014. mobil app advertis monet trend 2012-2017: econom free. [3] w. xing, unleash power event drive revenu games, mar. 2014. [online]. avail- able: unleash power event drive revenu games.php [4] e. fradley-pereira, beginn guid player segmentation, 2015. [online]. available: a-beginners-guide-to-player-segmentation/ [5] c. bauckhage, a. drachen, r. sifa, cluster game behavior data, comput intellig ai games, ieee transact on, vol. 7, no. 3, pp. 266278, 2015. [6] a. drachen, r. sifa, c. bauckhage, c. thurau, guns, sword data: cluster player behavior game wild, comput intellig game (cig), 2012 ieee confer on. ieee, 2012, pp. 163170. [7] a. drachen, c. thurau, r. sifa, c. bauckhage, comparison method player cluster behavior telemetry, corr, vol. abs/1407.3950, 2014. [online]. available: [8] r. sifa, c. bauckhage, a. drachen, playtim principle: large-scal cross-gam modeling, 2014 ieee confer comput intellig games, cig 2014, dortmund, germany, august 26-29, 2014, 2014, pp. 18. [online]. available: [9] a. drachen, r. sifa, c. bauckhage, c. thurau, guns, sword data: cluster player behavior game wild. cig. ieee, 2012, pp. 163170. [10] h. d. menendez, r. vindel, d. camacho, combin time seri cluster extract gamer profil evolution, comput collect intelligence. technolog applications. springer, 2014, pp. 262271. [11] t. fu, review time seri data mining, eng. appl. artif. intell., vol. 24, no. 1, pp. 164181, feb. 2011. [online]. available: [12] r. agrawal, c. faloutsos, a. n. swami, effici similar search sequenc databases, proceed 4th intern confer foundat data organ algorithms, ser. fodo 93. london, uk, uk: springer-verlag, 1993, pp. 6984. [online]. available: [13] p. esl c. agon, time-seri data mining, acm comput. surv., vol. 45, no. 1, pp. 12:112:34, dec. 2012. [online]. available: [14] h. ding, g. trajcevski, p. scheuermann, x. wang, e. keogh, queri mine time seri data: experiment comparison represent distanc measures, proc. vldb endow., vol. 1, no. 2, pp. 15421552, aug. 2008. [online]. available: [15] x. xi, e. keogh, c. shelton, l. wei, c. a. ratanamahatana, fast time seri classif numeros reduction, proceed 23rd intern confer machin learning, ser. icml 06. new york, ny, usa: acm, 2006, pp. 10331040. [online]. available: [16] t. w. liao, cluster time seri data - survey, pattern recog- nition, vol. 38, no. 11, pp. 18571874, 2005. [17] x. wang, k. smith, r. hyndman, characteristic-bas cluster time seri data, data mine knowledg discovery, vol. 13, no. 3, pp. 335364, 2006. [online]. available: //dx.doi.org/10.1007/s10618-005-0039-x [18] e. keogh s. kasetty, need time seri data mine benchmarks: survei empir demonstration, data min. knowl. discov., vol. 7, no. 4, pp. 349371, oct. 2003. [online]. available: [19] e. keogh, decad progress index mine larg time seri databases, proceed 32nd intern confer larg data bases, ser. vldb 06. vldb endowment, 2006, pp. 12681268. [online]. available: 1182635.1164262 [20] p. montero j. a. vilar, tsclust: r packag time seri clustering, journal statist software, vol. 62, no. 1, pp. 143, 2014. [online]. available: [21] g. e. batista, e. j. keogh, o. m. tataw, v. m. souza, cid: effici complexity-invari distanc time series, data mine knowledg discovery, vol. 28, no. 3, pp. 634669, 2014. [22] d. j. bemdt j. clifford, dynam time warp pattern time series, 1994. [23] c. a. ralanamahatana, j. lin, d. gunopulos, e. keogh, m. vlachos, g. das, mine time seri data, data mine knowledg discoveri handbook. springer, 2005, pp. 10691103. [24] j. lin, e. keogh, l. wei, s. lonardi, experienc sax: novel symbol represent time series, data mine knowledg discovery, vol. 15, no. 2, pp. 107144, 2007. [25] t. alexandrov, s. bianconcini, e. dagum, p. maass, t. mcelroy, review modern approach problem trend extraction, econometr reviews, vol. 31, no. 6, pp. 593624, 2012. [26] f. murtagh p. contreras, algorithm hierarch clustering: overview, wilei interdisciplinari reviews: data mine knowledg discovery, vol. 2, no. 1, pp. 8697, 2012. [27] f. murtagh p. legendre, ward hierarch agglom cluster method: algorithm implement ward criterion? journal classification, vol. 31, no. 3, pp. 274295, 2014. [online]. available: [28] b. desgraupes, cluster indices, univers pari ouest-lab modalx, vol. 1, p. 34, 2013. [29] m. halkidi, y. batistakis, m. vazirgiannis, cluster valid techniques, journal intellig inform systems, vol. 17, no. 2, pp. 107145, 2001. [30] m. meila, compar cluster - inform base distance, journal multivari analysis, vol. 98, no. 5, pp. 873895, 2007. [31] f. hadiji, r. sifa, a. drachen, c. thurau, k. kersting, c. bauck- hage, predict player churn wild, comput intelli- genc game (cig), 2014 ieee confer on. ieee, 2014, pp. 18. [32] j. runge, p. gao, f. garcin, b. faltings, churn predict high- valu player casual social games, comput intellig game (cig), 2014 ieee confer on. ieee, 2014, pp. 18. [33] a. perianez, a. saas, a. guitart, c. magne, churn predict mobil social games: complet assess surviv ensembles, submit dsaa, 2016. [34] d. wuertz y. chalabi, timeseries: rmetrics-financi time seri objects, r packag version 2100, 2009. [35] fpc: flexibl procedur clustering. [36] r. hope, rmisc: ryan miscellaneous. r packag version 1.5, 2013. [37] h. wickham, reshape: flexibl reshap data, 2007, r packag version 0.8.0. [38] h. wickham w. chang, ggplot: implement grammar graphics, r packag version 2.0.0, 2013. introduct ii cluster time seri game data ii-a similar measur ii-a1 dynam time warp (dtw) ii-a2 correlation-bas measur (cor) ii-a3 tempor correl raw valu behavior measur (cort) ii-a4 complexity-invari distanc measur (cid) ii-b represent method ii-b1 discret wavelet transform (dwt) ii-b2 symbol aggreg approxim relat function measur (sax) ii-b3 trend extract ii-c hierarch cluster iii comparison cluster method iii-a evalu metric cluster result iv dataset iv-a data sourc iv-b time seri studi v result v-a cluster visual v-a1 cluster time seri time plai v-a2 cluster time seri purchas v-b extract player characterist v-c churn behavior vi summari conclus vii softwar refer