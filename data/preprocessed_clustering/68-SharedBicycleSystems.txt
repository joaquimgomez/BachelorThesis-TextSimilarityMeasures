bicycle-shar analysi trip predict jiawei zhang?, xiao pan, moyin li?, philip s. yu? ?univers illinoi chicago, chicago, il, usa shijiazhuang tiedao university, china institut data science, tsinghua university, china abstractbicycle-shar systems, provid share bike usag servic public, launch big cities. bicycle-shar systems, peopl borrow return bike station servic region conveniently. therefore, bicycle-shar system normal short- distanc trip supplement privat vehicl regular public transportation. meanwhile, station locat differ place servic region, bike usag skew imbalanced. station incom bike jam dock upcom bikes, station quickli lack bike peopl check out. therefore, infer potenti destin arriv time individu trip effect help servic provid schedul manual bike re-dispatch advance. paper, studi individu trip predict problem bicycle-shar systems. address problem, studi real-world bicycle-shar analyz individu bike usag behavior first. base anal- ysi results, new trip destin predict trip durat infer model introduced. experi conduct real-world bicycle-shar demonstr effect propos model. index termstrip prediction, bicycle-shar system, mobil data mine i. introduct bicycle-shar refer public transport servic urban area offer bicycl share us individu rel short period time (about 3045 minutes) free low charg [10]. bicycle- share systems, peopl borrow bike station near return bike station city, short-dist trip supplement privat vehicl regular public transport (e.g., buse metro trains). bicycle-shar green low carbon, bike peopl day. what more, wide spread branch station avail city, peopl usual borrow return bike conveni wast time wait (need public transportation) concern park issu citi (of privat vehicles). result, bicycle-shar system popular nowadays, adopt larg cities, e.g., chicago (divvi bike), new york (citi bike), san francisco (bai area bike share), washington, d.c. (capit bikeshare). bicycle-shar allow peopl borrow bike one-dai pass annual subscrib membership. one-dai pass usual prefer peopl temporari usages, e.g., tourist short-tim sightseeing, charg dai slightli higher. meanwhile, subscrib member- ship great option peopl frequent travel needs, e.g., offic worker students. generally, trip complet one-dai pass/membership holder 30 minut includ pass/membership, trip longer 30- minut incur overtim fees. inform detail price rule avail divvi offici website1. unlik tradit fixed-rout public transport pre- schedul time, servic provid bicycle-shar system flexibl meet daili travel need differ categori users. bicycle-shar provid microscop perspect understand individu travel behaviors, includ aspect trips, e.g., trip origin station start time, trip destin station end time. generally, travel behavior differ categori peopl travel purpos different. instance, tourist one-dai pass tend us bike travel attract spots, regist subscrib (like worker students) mainli travel companies/school home bike. meanwhile, station locat differ place city, bike usag skew imbalanc [7]. station individu like borrow bike lack bike peopl check out, station peopl normal return bike jam easili dock upcom bikes. support claim, analyz real-world bicycle-shar data (to introduc section ii), count number bike borrow from/return station respectively. accord analysi results, 474 stations, 470 histor usag records: 235 station bike check (i.e., # bike check out># bike returned), 234 return bike (i.e., # bike check out<# bike returned), station (station id: 449) balanc usag (i.e., # bike check out=# bike returned). therefore, challeng task effect oper bicycle-shar system manual shift rebal bike jam station ones. monitor 1 ar x iv :1 60 4. 00 66 4v 1 [ cs .c y ] 3 pr 2 01 6 tabl properti divvi dataset dataset trip station 2013 q3-q4 759,788 300 2014 q1-q2 905,699 300 2014 q3-q4 1,548,935 300 2015 q1-q2 1,096,239 474 bike usag infer potenti destin individu trip advanc (e.g., moment indi- vidual borrow bike start trips) help servic provid schedul manual bike re-dispatch beforehand. problem studied: paper, propos predict potenti destin station arriv time peopl start trip check bike origin station beginning. problem formal defin trip predict problem. trip predict problem interest import research problem, challeng address individu bike trip complic depend factors: user composition: user composit bicycle- share system diverse, includ (1) long-term regist subscrib short-term temporari users, (2) male user femal users, (3) young, mid-ag senior users. trip predict problem strongli correl user categories, clear categor bike user prerequisit address problem. tempor travel patterns: start time trip import factor influenc individu travel behavior trip predict problem. consider, example, regist member (e.g., student) borrow bike morn workdays, highli like he/sh school classes. ana- lyze individu histor tempor travel pattern help predict trip accurately. spatial travel patterns: time factor, origin locat import factor affect trip individu travel behaviors. instance, temporari one-dai pass holder borrow bike station entranc sight-se trail, want end trail. studi util histor spatial travel pattern individu help improv trip predict perform lot. address trip predict problem, paper, analyz user composition, individu tempor spatial travel behavior pattern real-world bicycle-shar system. base analysi results, formul trip predict problem introduc new model infer trip destin station trip duration. remain paper organ follow. section ii, introduc divvi bicycle-shar dataset basic statist inform dataset. user decomposit bicycle- customer: 34% sub: 66% male: 50% female: 16% age<30: 7% ag 30-50: 7% age>50: 2% age<30: 17% ag 30-50: 27% age>50: 7% fig. 1. percentag trip belong differ categori user (red: femal subscribers; blue: male subscribers; green: subscribers; gray: cus- tomers). share divvi avail section iii. individu tempor spatial travel pattern studi section iv section v respectively. base analysi results, formul trip predict problem section vi introduc trip predict model section vii, evalu section viii. finally, discuss relat work section ix conclud paper section x. ii. divvi dataset descript analyz individu travel behaviors, introduc dataset real-world bicycle-shar section. dataset paper divvi bicycle-shar initi launch chicago citi june 28, 2013. beginning, divvi 750 bike 75 station (oper area span loop north berwyn avenue, south 59th street, west kedzi avenue, east lake michigan coast). quick expans earli 2015, divvi oper 4, 760 bicycl 474 station (in area bound 75th street south, touhi avenu north, lake michigan east, pulaski road west). divvi bicycle-shar dataset public new dataset releas quarters, download offici website2. download divvi bicycle-shar data novemb 2, 2015, contain 4 separ dataset time rang middl 2013 middl 2015 respectively. download dataset includ complet histor trip record station information, statist inform detail descript avail tabl follows. trip: trip record dataset uniqu id. trip record data, know trip start end time correspond origin destin bike stations. trip record indic user annual membership holder one-dai pass holder, call subscrib custom respectively. annual membership subscribers, trip record data includ gender birth year information, help catego- rize user (into male vs female, youth vs senior) allow studi bike-usag behavior differ categori people. 2 jan 20 14 feb 20 14 ma r 20 14 apr 20 14 ma y 2 014 jun 20 14 jul 201 4 aug 20 14 sep 20 14 oct 20 14 nov 20 14 dec 20 14 0 5000 10000 15000 20000 femal subscrib male subscrib subscrib custom total fig. 2. statist trip dai 2014 year (x axis: dai 2014; y axis: number trip day). station: station, know id, specif location, repres (latitude, longitude) coordin pair dataset. stations, bike lock dock number dock avail station call station capacities, avail datasets. shown tabl i, number trip 4 separ dataset 2013 q3-q4: 759, 788; 2014 q1-q2: 905, 699; 2014 q3-q4: 1, 548, 935; 2015 q1-q2: 1, 096, 239 respectively. generally, chicago peopl like us divvi bike lot and, average, 179, 610 trip taken month past years. meanwhile, number station doesnt chang 3 dataset (which 300), increas 474 dataset schedul expans begin 2015. follow sections, studi dataset great analyz user composition, individu tempor travel patterns, spatial travel pattern respectively. base analysi results, introduc trip predict problem model address problem. iii. divvi user composit predict trip taken user bicycle-shar sys- tems, need understand composit peopl bike first. studi histor trip record data, count number trip taken custom subscrib respect divvi user statist result shown figur 1. figur 1, observ major trip actual taken subscrib (i.e., green area mark sub), account 66% total trips, finish custom (i.e., grai area) account 34% all. extra inform avail customers, bui one-dai pass person inform recorded. meanwhile, subscrib formal membership registrations, know (e.g., gender age) studi compositions. shown figur 1, subscrib area divid male femal subscribers. divvi bike trips, male subscrib (i.e., blue area) finish 50% them, femal subscrib (i.e., red area) taken 16% trips. addition, count trip finish peopl be- long 3 differ ag groups, includ young people: age<30; mid-ag people: 30age<50; senior people: age50, denot red/blu color differ satur figur 1. result, observ 50% bike trip finish male subscribers, ratio trip taken young, mid-ag senior peopl account 17%, 27% 7% respectively. meanwhile, trip finish femal subscrib belong 3 group 7%, 7%, 2% respectively. therefore, divvi bike prefer frequent young mid- ag people, finish 58% total trip. summary, base analysi results, partit user categori (e.g., custom vs sub- scribers, male vs female, young vs mid-ag vs senior). follow sections, studi tempor spatial travel pattern differ categori user detail. iv. tempor travel pattern section, studi individu tempor travel pattern divvi bike. studi analyz divvi trip taken dai 2014 year, individu cyclic travel pattern observed. differ cycl length (one year, week day), analyz distribut individu bike usag cycle. finally, studi time durat histor bike trip dataset. a. trip tempor distribut overview divvi bicycle-shar provid bike share servic year. look bike usag year dataset, count trip record dai 2014 taken customers, male subscrib femal subscrib respectively, result avail figur 2. figur 2, observ peopl us divvi bike everyday, major trip concentr 201 4-ja n 201 4-f eb 201 4-m ar 201 4-a pr 201 4-m ay 201 4-ju n 201 4-ju l 201 4-a ug 201 4- ep 201 4-o ct 201 4-n ov 201 4-d ec 0 100000 200000 300000 400000 500000 2507628087 69308 158476 278745 346007 410340 392117 308513 237313 113875 86777 femal male custom (a) month year 010203040 sun mon tue wed thu fri sat subscriber(male, female) 0 5 10 15 20 25 30 35 104104 custom (b) weekdai week 050100150200250300350 12am 1am 2am 3am 4am 5am 6am 7am 8am 9am 10am 11am 12pm 1pm 2pm 3pm 4pm 5pm 6pm 7pm 8pm 9pm 10pm 11pm subscriber(male, female) 0 20 40 60 80 100 120 140 103103 custom (c) hour dai fig. 3. cyclic pattern year, week, day. month rang april november, number trip taken winter season limit (we studi monthli bike usag 2014 section iv-b). phenomenon correl weather chicago and, support statement, check histor weather chicago area 2014 weather underground3. accord histor weather data chicago, averag temperatur januari februari 2014 20f , averag temperatur novemb decemb 2014 40f respectively. meanwhile, 20 dai snow januari 2014, number snow dai february, novemb decemb larger 10. kind extrem weather conditions, travel bike infeasible. meanwhile, weather get better, divvi bike usag increas steadily. weather reasons, factor influenc divvi bike usages, like event celebr chicago. instance, figur 2, observ peopl bike ride activ reach peak juli 19-20, 2014 (saturdai sunday) chicago. accord chicago event schedule4, time, event taken place chicago includ pitchfork music festiv (ten thousand music fan involv gather together), tast river north, chicago craft beer festival, etc. attend celebr festivals, divvi bike worri park issu ideal travel option people. view perspective, divvi bike ride activ correl offlin events. addition, investig bike share activ chang- ing trend figur 2, observ activ pattern follow cyclic fluctuations. analysi peopl cyclic divvi bike usag follow section. b. cyclic travel pattern part, analyz cyclic fluctuat peopl bike usag year, week dai respectively. 1) cyclic pattern year: figur 3(a), count trip number month 2014 year taken customers, male subscribers, femal subscrib respectively, total number mark bars. similar observ discuss figur 2, 3 4 festivals-2014-calendar-highlights/1243/ trip april octob year 2014, weather reasons, like temperatur snow precipitations. addition, observ trip taken cus- tomer appear april october, rare us divvi bike winter earli spring seasons. support claim, calcul ratio trip taken custom total number trip month 2014. ratio januari februari 2014 5%, 10% novemb december. however, ratio increas rapidli 40% august (i.e., summer season). therefore, custom differ regular long-term subscribers, temporari visitor chicago. 2) cyclic pattern week: figur 2, observ cyclic fluctuat bike usag cycl length take 1 4 month, i.e., week. part, check cyclic pattern week custom subscribers. figur 3(b), base dataset, number trip finish customers, male femal subscrib respect weekdai sundai sat- urday. base results, observ custom bike usag pattern total differ subscribers. subscrib mainli us divvi bike weekdai mondai friday, usag weekend (i.e., sundai saturday) drop lot. instance, number trip taken subscrib tuesdai 473, 957 all, number drop 261, 321 sunday, decreas 45%. however, divvi bike usag custom follow total differ pattern: custom tend us divvi bike weekend weekdays. instance, number trip taken weekend (saturdai sunday) custom 721, 073, account 49% total trips. 3) cyclic pattern day: annual weekli patterns, wonder peopl bike usag daili cyclic pattern not. figur 3(c), divid dai 24 hour count trip taken hour, trip time denot start time. figur 3(c), observ divvi trip taken daytim 6am 7pm custom subscribers. however, activ pattern custom subscrib total different: (1) subscrib ride divvi bike 7am-9am 4pm-6pm; (2) custom us divvi bike <30min 30min-1h 1h-2h 2h-5h 5h-10h >10h 0 5 10 15 20 25 30 35 40 10 5 27 84 14 5 11 28 80 2 43 57 4 25 18 92 45 13 68 22 5 22 21 20 26 9 86 2 25 17 10 98 25 43 femal male custom fig. 4. trip durat (x axis: trip time duration, y axis: # trips). daytim 10am-6pm. peak divvi usag hour subscrib happen employe student commut rush hours, subscrib mainli us divvi (at of) workplace-hom commutes. mean- while, peak divvi usag hour custom concentr round daytime, especi visitor sightse hours. c. trip time durat addit cyclic bike usag patterns, interest time durat divvi bike trips. studi bike usag real-world, calcul averag trip time durat dataset 17.76 minutes. studi detail distribut trip time length, figur 4, partit trip length 6 bins: {<30 minutes, 30 minute-1 hour, 1 hour-2 hours, 2 hours-5 hours, 5 hours-10 hours, >10 hours} count number trip belong time bin. figur 4, observ number trip shorter 30 minut ridden subscrib custom 2, 784, 145 1, 128, 802, account 90.77% total bike trips. words, major user return bike free-rid time (i.e., 30 minutes) dont want pai over-tim charges. however, 397, 714 bike trip longer 30 minutes, major taken customers. number over-tim trip ridden custom 345, 446, account 86.85% total over-tim trips. v. spatial travel pattern section, studi individu spatial travel patterns. introduc overal distribut divvi bike station chicago city. next, analyz geo-dist trip taken differ categori people, studi 10 station individu frequent start end trip at, station pair peopl usual travel between. a. station spatial distribut overview figur 5, distribut divvi station chicago city, blue area blue dot exist servic region exist divvi station locations. vast travel demand public, divvi expand servic region broader area ad new station new exist servic regions, i.e., red area red dots. compar number station popul densiti exist locat & servic area plan locat & servic area fig. 5. divvi station distribut popul distribut chicago [1]. exist plan servic region (i.e., blue red areas), observ station distribut denser blue region, correspond dens popul area chicago city. prosper area chicago loop area, region divvi bike initi launch at. clear view station avail loop area, figur 5, zoom area (i.e., mark green dash square), observ divvi station loop region extrem dens new station added. b. trip geo-graph distanc bike trip taken differ categori peopl stations, distanc vari lot. figur 6, distribut distanc (in kilomet (km)) trip taken customers, male subscrib femal subscrib respectively. here, manhattan distanc [15] distanc measure, road chicago similar manhattan. observ distribut curv dont follow power law distribut [2] exactly, major trip distanc 0.5 5km, shorter 0.5km longer 5km account small proportion. what more, base histor trip data, calcul averag distanc trip ridden custom subscrib (both male femal subscrib users) 2.12km 1.91km respectively. words, trip finish custom slightli longer. c. 10 trip origin station trip origin station peopl frequent start trip (i.e., trip origin stations) different. figur 7, 10 divvi bike station 5 0 5 10 15 20 25 30 trip distanc 10-7 10-6 10-5 10-4 10-3 10-2 10-1 fr ac tio n t rip s % femal male custom fig. 6. trip geo-dist (x axis: geo-dist (unit: km), y axis: fraction trips). customers, male subscrib femal subscrib usual start trip from, includ rank station list station id station names. addition, number trip start station (i.e., length bars), specif coordin map. differ categori user certain overlap trip start stations, overlap station marker cover shown. instance, station 174 serv 3rd frequent visit station male femal subscribers, icon correspond femal subscrib hidden male subscrib map. results, observ male subscrib mainli us divvi bike loop area; femal subscrib normal us bike northern residenti area; custom us bike sightse attract spot lake michigan coast. instance, (1) rank site male subscrib frequent borrow bike start trip station 91, locat close loop area site larg pop- ulat flow, includ import transport hub chicago (i.e., chicago union station ogilvi transport center), apart buildings, offic buildings. (2) rank site femal subscrib usual start trip station 289, locat northern chicago city, rich safe residenti area chicago. (3) rank start station custom station 35, locat near famou chicago landmark navi pier, 2nd 3rd station locat millennium park, famou tourist site chicago. d. 10 trip destin station start stations, 10 station peopl usual end trips, i.e., destin trips, result shown figur 8. figur 8, observ 10 frequent visit station male subscribers, femal subscrib custom similar shown figur 7. instance, 7 rank end station male subscrib femal subscrib appear correspond origin station rank list, 10 end station custom ident origin station shown figur 7, trip number 91. clinton st & washington blvd 174. canal st & madison st 192. canal st & adam st 75. canal st & jackson blvd 81. dalei center plaza 287. franklin st & arcad pl 49. dearborn st & monro st 77. clinton st & madison st 195. columbu dr & randolph st 36. franklin st & jackson blvd 10^4 1 2 3 4 5 60 top-10 trip start station (male) 35. s treeter d r & illinoi s t 76. lake s hore d r & m onro s t 90. m illennium p ark 85. m ichigan ve & o ak s t 177. theater lake 97. m useum c pu 268. lake s hore d r & n orth b lvd 26. m cc lurg c t & illinoi s t 341. dler p lanetarium 25. m ichigan ve & p earson s t 0 1 2 3 4 5 6 7 8 9 10 10^4 top-10 trip start station (customer) 91. clinton st & washington blvd 289. well st & concord ln 176. clark st & elm st 110. dearborn st & eri st 177. theater lake 81. dalei center plaza 192. canal st & adam st 66. clinton st & lake st 85. michigan av & oak st 10^3 1 2 3 4 5 60 7 8 174. canal st & madison st top-10 trip start station (female) milliennium park fig. 7. 10 trip origin stations. (i.e., bar width) different. potenti explan phenomenon bike trip user normal bi-directional. words, ride station station b certain event (which workplac subscrib users, sightse customers), need ride events. therefore, station station b serv origin destin station respect trips. e. 5 frequent travel station pair generally, differ divvi bike trip differ pur- poses, purpos captur clearli consid origin destin station time. example, bike trip depart residenti region destin campus, rider like student us divvi bike commut home schools; trip origin destin station attract sites, rider mainli us divvi bike sightseeing. motiv this, 5 frequent travel station pair male subscribers, femal subscrib custom figur 9, origin destin station list mark map. figur 9, observ rank divvi station pair male subscrib station 283 station 174, station 283 chicago loop region (i.e., chicago citi center area offic buildings) station 174 ogilvi transport center. therefore, divvi trip male user station 283 station 174 catch transport vehicl workplaces. meanwhile, rank station pair femal sub- scriber station 284 station 255, station 284 art institut chicago station 255 spots, e.g., field museum, chicago shedd aquarium chicago adler planetarium. addition, station 284 station 255, exist exercis trail jog bike-rid lake michigan coast, chicago peopl like relax lot. therefore, divvi trip femal user station 284 station 255 museum visit person exercises. 91. clinton st & washington blvd 174. canal st & madison st 192. canal st & adam st 75. canal st & jackson blvd 283. lasal st & jackson blvd 287. franklin st & arcad pl 49. dearborn st & monro st 77. clinton st & madison st 48. larrabe st & kingsburi st 100. orlean st & merchandis mart plaza 10^4 1 2 3 4 5 60 top-10 trip end station (male) 35. s treeter d r & illinoi s t 76. lake s hore d r & m onro s t 90. m illennium p ark 85. m ichigan ve & o ak s t 177. theater lake 97. m useum c pu 268. lake s hore d r & n orth b lvd 26. m cc lurg c t & illinoi s t 341. dler p lanetarium 25. m ichigan ve & p earson s t 0 1 2 3 4 5 6 7 8 9 10 10^4 top-10 trip end station (customer) 91. clinton st & washington blvd 289. well st & concord ln 176. clark st & elm st 110. dearborn st & eri st 177. theater lake 59. wabash av & roosevelt rd 85. michigan av & oak st 140. dearborn pkwy & delawar pl 35. streeter dr & illinoi st 10^3 1 2 3 4 5 60 7 8 174. canal st & madison st top-10 trip end station (female) union station presidenti tower ogilvi transport center fig. 8. 10 trip destin stations. customers, observ 5 divvi trip actual 3 stations, station 35 (a station chicago navi pier), station 76 (a station millennium park) station 85 (a station oak street beach). actually, 3 station close attract spot popular tourists. trip station pair list, notic custom depart arriv divvi station (e.g., station 76 station 76, station 35 station 35), mean borrow bike station wander nearbi place return bike station. however, observ (i.e., borrow return bike common stations) common subscrib users. vi. trip predict problem formul base analysis, introduc trip predict problem section. trip predict problem studi paper aim infer destin station trip end time, given user borrow bike divvi station certain time. propos formul problem origin destin station pair predict problem paper. words, given user, borrow bike known divvi station time t, trip predict problem aim return set potenti destin divvi station candid decreas order likelihood u ride bike trip durat . trip end time repres t+ . trip predict problem, repres trip origin destin station pair (so, sd), denot origin station sd repres trip destin station. base exist histor data, set featur depict user characterist station so, sd extracted, repres vector x(so, sd) rk length k (the featur introduc section vii). pair (so, sd) label relev score origin station potenti destin station sd, repres y(so, sd) (y(so, sd) = +1 trip end station sd 0 otherwise). meanwhile, time durat trip sd denot t(so, sd) r. formally, let t train set contain label station pairs. repres featur label extract 5 frequent travel station pair (female) 5 frequent travel station pair (male) 5 frequent travel station pair (customer) 76. lake shore dr & monro st 76. lake shore dr & monro st 76. lake shore dr & monro st 76. lake shore dr & monro st 35. streeter dr & illinoi st 35. streeter dr & illinoi st 35. streeter dr & illinoi st 35. streeter dr & illinoi st 85. michigan av & oak st 85. michigan av & oak st 76 35 85 283. lasal st & jackson blvd 174. canal st & madison st 195. columbu dr & randolph st 91. clinton st & washington blvd 52. michigan av & lake st 43. michigan av & washington st 195. columbu dr & randolph st 174. canal st & madison st 91. clinton st & washington blvd 91. clinton st & washington blvd 283 174 19591 52 43 284. michigan av & jackson blvd 290. kedzi av & palmer ct 255. indiana av & roosevelt rd 123. california av & milwauke av 35. streeter dr & illinoi st 177. theater lake 177. theater lake 35. streeter dr & illinoi st 90. millennium park255. indiana av & roosevelt rd 284 255 290 123 35 177 90 fig. 9. 5 frequent travel stations. pair t d = {x(so, sd), y(so, sd), t(so, sd)}. trip predict problem formal build function f : rk {1, 0} h : rk r, function f map station pair featur vector infer relev score (i.e., likelihood trip finish potenti destin stations), function h map featur vector infer trip durat time. regress function appli potenti station test set return predict confid score {y(so, sd)}(so,sd) durat length {t(so, sd)}(so,sd) station pair test set. vii. trip predict model address trip predict problem, part, introduc predict model detail. first, introduc featur extract station pair base inform users, start time stations. next, briefli talk specif model paper. a. featur user previou data analysi sections, type user (i.e., custom vs male subscrib vs femal subscriber) signific influenc bike trip destin station trip duration. result, base user person information, propos extract 3 featur users, includ user type: custom normal behav differ subscrib divvi bike usag (see figur section iv v). differenti other, base user type information, propos extract featur x1. user u subscrib user, x1 = +1; otherwise, x1 = 1. user gender: male us divvi bike activ region concentr chicago loop area, differ femal user (see figur 7, 8 9). denot gender subscrib users, defin featur x2, x2 = +1 male subscrib x2 = 1 femal sub- scribers. customers, idea gender assign x2 = 0. user age: addition, birth year inform avail subscribers. young peopl mid-ag peopl tend us divvi bike (see figur 1). propos extract featur x3 repres user age. customers, set x3 = 0, dont know ages. b. featur departur time user information, divvi bike usag correl trip start time lot. instance, peopl us divvi bike summer; custom tend us divvi bike weekends; subscrib mainli us divvi bike rush hours. therefore, 3 differ featur extract base trip start time: month trip time: winter earli spring chicago suitabl bike ride (see figur 3(a)). denot month trip start time, defin featur x4 paper, x4 = 1 trip january, x4 = 2 february, forth. weekdai trip time: subscrib user customers, total differ bike usag pattern differ weekdai (see figur 3(b)). util information, new featur x5 introduced. set x5 = 0 trip start sunday, set x5 = 1 monday, forth. hour trip time: time-rel featur ex- tract specif hour start time, start hour purpos trip lot (see figur 3(c)). simplicity, divid dai 24 hour defin featur x6 repres specif trip start hour, x6 = 0 start [12am, 1am); x6 = 1 [1am, 2am); forth. 3 extract featur inform trip start time 3 differ cyclic patterns. c. featur station figur 9, shown frequent com- mute station pair differ categori users. therefore, trip origin station provid import inform help infer destin station well. differ featur station extract experiments: station pairs: figur 9, station pair frequent travel users. station featur extract (so, sd) station id pairs, i.e., x7 = id((so), id(sd)). station geograph information: id infor- mation, geograph inform stations, repres (lati- tude, longitude) pairs. coordin pair feature, repres x8 = latitude(so), longitude(so), latitude(sd), longitude(sd). geograph distance: major divvi bike trip length 0.5 5km (see figur 6) trip short (around 0km) long (longer 10km) rare. propos extract featur x9 de- note geograph distanc station (so, sd), manhattan distanc distanc measure. base extract features, repres featur vector certain station pair (so, sd) x(so, sd) = [x1, x2, , x9] length 13 total (a x7 x8 length 2 4 respectively), label y(so, sd) time t(so, sd) build confid score trip durat predict models. d. trip destin station infer model trip destin station predict problem, propos map binari classif experiments. trip origin destin station pair (e.g., (so, sd)), assign differ label {1, 0} denot certain trip start end sd not. address problem, propos appli state-of-the-art pairwis base regress algorithm, mart (multipl addit regress trees) [16], develop regress function. mart base stochast gradient boost approach describ [5], [6] perform gradient descent optimiza- tion function space. experiments, log-likelihood loss function, steepest-desc (gradient descent) optim technique, binari decis tree fit function. inform mart model, refer [5], [6], [13]. e. trip durat infer model predict time length trip, set featur appli build trip durat infer model. differ regress model base predict model, and, loss generality, appli lasso regress model base regress model paper, fit linear equat t(so, sd) = k i=1 bixi+b0, t(so, sd) infer trip length station sd, term bi denot coeffici featur xi b0 repres bia term. coeffici valu train model, lasso us l1 prior regularizer, optim coeffi- cient learn solv follow equat argmin b (so,sd) (t(so, sd) t(so, sd))2 + |b|1 , t(so, sd) real durat trip sd weight regular term. viii. experi test effect model address trip predict problem, conduct experi real-world bicycle-shar divvi (introduc sec- tion ii). section, introduc experi settings, includ experi setups, comparison method evalu metrics. next, experi result detail analysis. a. experi set 1) experi setups: dataset, extract trip tupl (user, origin station, destin station, departur time) exist trip set, tupl contain complet 0.0 0.2 0.4 0.6 0.8 1.0 1.2 ac cu ra cy 0.87 0.72 0.84 0.61 user station time (a) accuraci 0.0 0.2 0.4 0.6 0.8 1.0 1.2 pr ec io n 0.84 0.72 0.81 0.58 user station time (b) precis 0.0 0.2 0.4 0.6 0.8 1.0 1.2 ca ll 0.91 0.72 0.9 0.76 user station time (c) recal 0.0 0.2 0.4 0.6 0.8 1.0 1.2 f1 0.88 0.72 0.85 0.66 user station time (d) f1 fig. 10. trip destin station predict result evalu differ metrics. inform trip. trip destin station predict problem, exist trip set posit set (i.e., assign label 1), equal-s neg trip tupl set random generated, instanc assign label 0. neg tupl set, (1) user custom subscrib equal chance, gender subscrib randomli assign male female, ag random select {1, 2, , 100}; (2) origin destin randomli select station set; (3) neg trip departur time random select juli 1st, 2013 june 30th, 2015. posit neg trip set divid part accord ratio 4 : 1 base time order, 4 fold train set 1 fold test set. set featur extract instanc train test sets. train trip end predict model mart train set, appli test set infer label test pairs. meanwhile, trip durat infer problem, similarly, divid exist trip set part accord ratio 4 : 1 base time order, 4 fold train set 1 fold test set. however, set trip durat infer slightli different: (1) neg trip set needed; (2) instanc train test set assign real-trip durat labels. set featur extract build trip durat infer model (i.e., lasso) base train set, appli infer trip time durat instanc test set. 2) comparison methods: comparison method trip destin durat infer divid categori depend inform used: model inform all: method build trip end predict trip durat infer model categori featur extracted, includ user, station time base features. model partial inform user: method user build trip end predict trip durat infer model featur user only. station: method station build trip end predict trip durat infer model featur station only. time: method time us featur time build trip end predict trip durat infer models. 0 2 4 6 8 10 12 14 m ae (m ut e) 7.39 9.51 8.27 10.25 user station time (a) mae 0.00 0.02 0.04 0.06 0.08 0.10 r 2 (m ut e) 0.059 0.036 0.031 0.002 user station time (b) r2 fig. 11. trip durat infer results. 3) evalu metrics: evalu perform differ method address trip predict prob- lem, appli differ evalu metric measur predict results. formul trip end predict problem binari classif problem, 4 comparison method output predict label trip pair test set. compar ground-truth labels, evalu perform 4 frequent metrics: accuracy, precision, recal f1-score. formul trip durat infer problem re- gression problem, comparison method output infer time durat trip test set. meanwhile, real-world trip durat dataset, i.e., ground-truth. differ metric regress problem appli here, us mae (mean absolut error) r2 (i.e., coeffici determination) evalu metrics. b. experi result experi result avail figur 10 figur 11. figur 10 result trip end predict figur 11 give result trip durat inference. compar method figur 10, observ outperform method sig- nific advantag consist evalu differ metrics. instance, figur 10(a), accuraci achiev 0.87 21% higher accuraci gain user (i.e., 0.72); 4% higher accuraci score achiev station (i.e., 0.84); 43% larger accuraci score obtain time (i.e., 0.61). similar result observ figur 10(b)-10(d), precision, recal f1 evalu metrics. generally, comparison methods, util 3 categori featur perform best. 3 method categori featur only, station outperform user, user perform better time. easi understand, task infer trip destin station, histor trip station pair inform provid direct inform address task. meanwhile, featur user trip start time provid indirect hints, bike user time, directli stations. figur 11(a)-11(b), result trip dura- tion infer problem, evalu mae r2 metrics. compar comparison methods, achiev better perform smaller mae larger r2 score. example, mae introduc 7.39 (minute), 22.23% lower mae intro- duce user, 10.64% smaller mae introduc station 28% lower mae introduc time. r2 metric, r2 score achiev 0.059, nearli doubl r2 score gain user station. advantag time obvious: mae account 72% achiev time; r2 score obtain larg 30 time r2 achiev time. therefore, util complet inform avail trips, outperform comparison method signific advantag predict trip destina- tion station infer trip durat time. ix. relat work bicycle-shar receiv increas attent recent year initi increas cycl usag improv mile/last mile connect mode transit, lessen environment impact transport activities. demaio give complet introduct history, impacts, mod- el provision, futur bicycle-shar system [3]. midglei provid complet overview work bicycle- share schemes, management, policies, challeng opportun [10]. larg number review case-studi work bicycle-shar system appear far [9], [17], [14], [4], studi bicycle-shar system differ aspect directions. recently, urban comput hot research area lot work zheng et al. [18], [11], [7]. bicycle-shar system import urban computing. research work bicycle-shar system transport system studi design problem [8], load balanc problem [12], bicycl traffic predict problem [7]. lin et al. [8] introduc strateg design problem bicycl share system incorpor bicycl stock considerations, formul hub locat inventori model. problem studi [8] cover design work aspect bicycle-shar system, e.g., number locat bicycl stations, creation bicycl lanes, select paths, etc. pavon et al. develop method maxim throughput mobility-on-demand urban transport introduc rebalanc polici minim number vehicl perform rebalanc trip [12]. optim rebalanc polici solut linear program effect propos model. li et al. propos hierarch predict model predict number bike rent from/return futur period bicycle-shar system [7], focu macroscop bike traffic flow bicycle-shar differ microscop trip destin durat predict problem specif trip studi paper. x. conclus paper, studi trip predict problem bicycle-shar system infer potenti trip destin station trip duration. extens analysi user composit real-world bicycle-shar system, individ- ual tempor bike usag behavior pattern spatial bike usag behavior pattern done. base analysi results, new regress base infer model introduc paper predict potenti trip destin station trip durat respectively. experi conduct real-world bicycle-shar dataset demonstr effect propos model. xi. acknowledg work support nsf grant iii- 1526499, cns-1115234, googl research award. research partial support grant natur scienc foundat china (no. 61303017), natur scienc foundat hebei provinc (no. f2014210068). refer [1] divvy: chicago newest transit system. com/post/95362930905/expansion-map-2015. [online; access 24- november-2015]. [2] a. clauset, c. shalizi, m. newman. power-law distribut empir data. siam review, 2009. [3] p. demaio. bike-sharing: history, impacts, model provision, future. journal public transportation, 2009. [4] c. etienn o. latifa. model-bas count seri cluster bike share usag mining: case studi velib paris. acm transact intellig system technology, 2014. [5] j. friedman. greedi function approximation: gradient boost machine. annal statistics, 2000. [6] j. friedman. stochast gradient boosting. comput statist & data analysis, 2002. [7] y. li, y. zheng, h. zhang, l. chen. traffic predict bike- share system. sigspatial, 2015. [8] j. lin, t. yang, y. chang. hub locat inventori model bicycl share design: formul solution. comput industri engineering, 2013. [9] p. midgley. role smart bike-shar system urban mobility. land transport author journey, 2009. [10] p. midgley. bicycle-shar schemes: enhanc sustain mobil urban areas. unit nation depart econom social affairs, 2011. [11] b. pan, y. zheng, d. wilkie, c. shahabi. crowd sens traffic anomali base human mobil social media. sigspatial, 2013. [12] m. pavone, s. smith, e. frazzoli, d. rus. load balanc mobility-on-demand systems. intern journal robot research, 2012. [13] s. tyree, k. weinberger, k. agrawal, j. paykin. parallel boost regress tree web search ranking. www, 2011. [14] p. vogel d. mattfeld. strateg oper plan bike- share system data mine case study. comput logistics, 2015. [15] d. wilson t. martinez. improv heterogen distanc functions. journal artifici intellig research, 1997. [16] q. wu, c. burges, k. svore, j. gao. adapt boost inform retriev measures. inform retrieval, 2010. [17] l. zhang, j. zhang, z. duan, d. bryde. sustain bike-shar systems: characterist common case urban china. journal cleaner production, 2015. [18] y. zheng, x. yi, m. li, r. li, z. shan, e. chang, t. li. forecast fine-grain air qualiti base big data. kdd, 2015. introduct ii divvi dataset descript iii divvi user composit iv tempor travel pattern iv-a trip tempor distribut overview iv-b cyclic travel pattern iv-b1 cyclic pattern year iv-b2 cyclic pattern week iv-b3 cyclic pattern dai iv-c trip time durat v spatial travel pattern v-a station spatial distribut overview v-b trip geo-graph distanc v-c 10 trip origin station v-d 10 trip destin station v-e 5 frequent travel station pair vi trip predict problem formul vii trip predict model vii-a featur user vii-b featur departur time vii-c featur station vii-d trip destin station infer model vii- trip durat infer model viii experi viii-a experi set viii-a1 experi setup viii-a2 comparison method viii-a3 evalu metric viii-b experi result ix relat work x conclus xi acknowledg refer