anatomi daili usag bike share systems: elevation, distanc season anatomi daili usag bike share systems: elevation, distanc season injung kim univers pittsburgh pittsburgh, pennsylvania konstantino pelechrini univers pittsburgh pittsburgh, pennsylvania adam j. lee univers pittsburgh pittsburgh, pennsylvania abstract bike share system place year urban area altern sustain mean transporta- tion. bicycl usag heavili depend avail infrastruc- ture (e.g., protect bike lanes), othermut immut environment characterist citi influenc adopt dwellers. hence, import understand factor influenc peopl decis us bike not. paper, investig altitud variat influenc usag bike share pittsburgh. trip data system, control number potenti confound factors, formul problem classif problem, develop framework enabl predict poisson regression, neg- ativ correl altitud differ number trip station (fewer trip station larger altitud difference). further, discuss result analysi inform decis make design oper bike share systems. cc concept computingmethodologiesartifici intelligence;model develop analysis. keyword bike share systems, altitud difference, pairwis station trips, interact analysis, poisson regress acm refer format: injung kim, konstantino pelechrinis, adam j. lee. 2020. anatomi daili usag bike share systems: elevation, distanc season- ality. acm sigkdd urbcomp 2020, august 24, 2020, sandiego, ca. acm, new york, ny, usa, 8 pages. 1 introduct citi try build sustain resili environ future, bike share system import urban transport landscap past decade. growth bike share system aim encourag sustain permiss digit hard copi work person classroom us grant fee provid copi distribut profit commerci advantag copi bear notic citat page. copyright compon work own acm honored. abstract credit permitted. copi otherwise, republish, post server redistribut lists, requir prior specif permiss and/or fee. request permiss conference17, juli 2017, washington, dc, usa 2020 associ comput machinery. acm isbn 978-x-xxxx-xxxx-x/yy/mm. . . $15.00 transport reduc congest cities. however, design attract push awai potenti riders. therefore, crucial obtain action insight help design oper better bike share systems. specifically, presenc bicycl infrastructur (e.g., protect bike lanes, cycling-friendli street-scape, etc.) crucial rider us [2, 3]. however, otherpotenti immutableenvironment topograph characterist citi impact number bicyclists. example, sprawling, citi rider inevit ride longer distanc reach destination. ad thing like weather effects, factor hinder growth cycl city. recent studi shown weather, capac bike stations, walkability, job access signific effect bike usag (e.g., [47]). study, focu particular environment featur impact ridership, namely, elevation. make intuit sens rider will ride (steep) uphill. instance, seattl bike share deal problem ev- eryon ride downhill, return bike uphil [1]. analysi montreal bixi [6] examin elev station correl usag station (in term bike drop-offs), identifi station higher elev lower usage. result point elev neg correl bike usage, result focu specif station. contrast, interest pairwis interact sta- tion , elev differ relat number trip vice versa. allow examin relat elev ridership finer granularity. specifically, build poisson regress model number daili (directional) trip station bike share citi pittsburgh (healthi ride - hr short) interact analysi factor elev difference, distance, seasonality. benefit data pittsburgh citi exhibit fairli signific elev variation, compar citi fairli flat surfac new york, chicago, philadelphia, washington d.c., boston, minneapolis. example, analysi chicago bikeshar usag [7], initi consid elev independ variable, final model exclud variabl small variat system station. figur 1 depict hr station rel altitud map, non-trivi chang differ area city. conference17, juli 2017, washington, dc, usa injung kim, konstantino pelechrinis, adam j. lee figur 1: pittsburgh healthi ride station june 2019 rel altitud map. analysi clearli indic higher altitud differ origin destin stations, associ lower daili trips. contribut work thus, threefold: (i) provid addit evid bikeshar literatur neg correl altitud bike share usage, focus altitud differ pairwis station trips. import aspect scientif process regard result reproduc generalizability. (ii) build evalu predict models, contrast ex- ist literatur area mainli focus descript model [6, 7]. important, predict model facili- tate plan oper examin what-if scenarios. example, identifi station suffer lack trip elevation, pair station expect highli asymmetr trips, help decis number front includ decis invest e-bikes, inform design rebalanc schemes. (iii) given type model choos (i.e., poisson regres- sion), examin probabilist interpret predictions, absent exist literature. rest paper organ follows: section 2, discuss relat studi literature, dataset experiment setup studi section 3. present descript analysi bike share trips, section 4 describ poisson regress model daili trip stations. finally, section 5 conclud work futur work. 2 relatedwork larg volum research bike share system deal problem rebalancing. rebalanc refer oper transfer bike dock larg number bikes, dock fewer bike available. larg oper cost (approxim 20-25% total opex) hence, improv beneficial. approach propos studi solv problem, e.g., [810, 17] (with list cours non-exhaustive). recently, oper start move awai dock-bas system build dockless bikeshar requir dock stations. system provid flexibl term return bike specif location, time creat problem come find bike. hence, literatur dockless system deal detect park hotspot bike [11, 12]. closer work, number studi explor con- nection system usag extern factors. example, [5, 9] author weather, walkability, job access signific effect bike usage. author [4] compar differ regress model predict bike avail dock, author [22] cluster- ing approach predict usage. number urban environ features, station density, capacity, point interest, popula- tion, hous unit correl demand [6, 7, 10, 18, 25]. studi examin elev stations, identifi neg correl station usage. however, previous mentioned, major studi focus individu station (rather interact pairwis stations), perform citi small elev variat begin. work support prior research uncov similar neg relationship elev ridership, extend literatur focus altitud differ station compris trip focus absolut altitud individu stations. 3 data experiment setup order perform analysis, collect analyz data sources. specifically, follow data: hr trips: hr provid inform trip taken system. trip repres tupl follow format: <date, start time, end time, origin station id, destin station id>. data span period 4 years, 05-31-2015 06-29-2019, includ total 76 million trip record 112 stations. addit inform station includ locat (latitude, longi- tude) capac (number docks). tabl 1 explain details. mapquest bike paths: order calcul distanc be- tween bike stations, us haversin distanc stations, consider (bike) street network. us mapquest api identifi bike distanc pair station system. elevation: station altitud inform //freemaptools.com station latitud longitud infor- mation. weather data: obtain weather data usclimatedata.com, provid inform high low temperatur record precipit level day. anatomi daili usag bike share systems: elevation, distanc season conference17, juli 2017, washington, dc, usa hr trip dataset date trip date start time bike rental time end time bike return time origin station id bike rental station destin station id bike return station hr station dataset station id station uniqu id station station street latitud station latitud longitud station longitud capac number dock tabl 1: healthi ride dataset analysi split parts. begin perform descript analysi trip span year data covers. allow better understand pattern trip choos appropri variabl model trip stations. second analysis, build poisson regress model estim number trip specif pair stations. train evalu model, us inform year cover data varieti reasons. instance, ride pattern year ago repres wai hr rider us todai (e.g., hesit take longer trip todai begin system). furthermore, updat year (new stations, station move etc.) hence, want focu period time signific chang network. 3.1 descript analysi daili bike trip begin perform basic, exploratori analysi under- stand trip pattern year hr oper better. particular, explor time-seri daili trips, trip characterist like altitud differ distanc covered. examin basic tempor dynam number daili trip observ system. figur 2 (top) depict time-series, see, expected, season system usage, trip happen warm weather seasons. middl figur depict averag altitud differ trip happen day. dai exhibit neg value, mean user tend ride bike downhil uphill. uphil trip winter season, however, actual shown averag daili trip altitud differ small number daili trips. omit uphil trip analysis, uphil trip year, uphil trip summer season winter. figur averag trip distanc cover day. see, averag stabl time, 2 miles, support idea bike good altern short trip [20]. central studi relationship altitud differ- enc origin destin trip volum trips. figur 3 (top) present distribut station altitud differ trips. see, major trip happen station altitude, smaller figur 2: number daili trip (top), averag daili trip altitud differ feet (middle), averag daili trip distanc mile (bottom) bicycl pattern year number downhil (left) uphil (right) trips. point absenc linear correl altitud differ number trip altitud difference. elabor follow sections, discret featur lead better perform predict models. examin distanc trips. figur 3 (bottom) present distribut trip distances, showsa expectedthat major trip (77.9%) 2 mile distance. worth note distribut remov trip start end station, nomin distanc 0, mean trip actual length 0. 4 predict model daili bike trip order better understand variabl relat number daili trip observ stations, build (interpretable) predict model. us poisson regres- sion model, depend variabl number daili trip (directional) pair stations, perform featur select valid set. 4.1 predict featur predictors, us differ type features: time-related: featur captur depend tempor variables, particular, dai week season year. conference17, juli 2017, washington, dc, usa injung kim, konstantino pelechrinis, adam j. lee figur 3: number bicycl trip altitud dif- ferenc rang feet (top) trip distanc rang mile (bottom) june 2019. weather-related: featur captur informa- tion relev weather condit day. include, highest daili temperature, lowest daili temperature, precipit day. urban environment-related: featur cap- ture inform built environ urban landscape. featur us number rack origin destin station, trip altitud differ- ence, trip distance; build model reli data year oper system. decis avoid issu chang pattern 4 year oper system1, pronounc chang itself. fo- cuse recent year oper elimin issues. particular, us data februari 1, 2019 februari 28, 2019 (winter data) 30, 2019 june 29, 2019 (summer data). period correspond distinct usag pattern system, allow understand relationship daili usag independ variabl better. altitud difference, explor differ ap- proaches; (i) continu variabl differ 1even identifi tempor differ pattern interesting. variabl descript dow seven variabl dai week separ season summer winter season dataset combin season combin summer winter season dataset origin- destin variabl mark origin destin station trip di * alti_diff (both range) interact variabl distanc altitud differ rang valu di * alti_diff (both real) interact variabl distanc altitud differ real valu di (real) * alti_diff (range) interact variabl distanc real valu altitud differ rang valu di (range) * alti_diff (real) interact variabl distanc rang valu altitud differ real valu high temp variabl highest temperatur fahrenheit dai low temp variabl lowest temperatur fahrenheit dai precipit variabl precipit inch dai o_station_rack variabl number rack ori- gin station d_station_rack variabl number rack des- tinat station tabl 2: set independ variabl considered. origin destin station, (ii) categor variabl indic rang altitud difference. us follow ranges: < -200, [-200,-100), [-100,0), [0,100), [100,200), 200 feet, mark -300, -200, -100, 100, 200, 300 model. men- tion previou section, rang variabl better captur non-linear altitud differ daili usage. featur select relat choos represent better. trip distanc continu variabl obtain mapquest suggest bicycl rout (i.e., simpli us distanc crow flies). note (bike) distanc station b usual differ dis- tanc station b station structur street network. base result fig. 3 linear relationship distanc daili usag stations, examin bin variabl distanc well. us follow ranges: [0,2), [2,4), [4,6), 6 mile featur select tabl 3. model includ interact term trip distanc altitud differ variable. includ featur binari variabl indic origin destin station same. ratio- nale trip origin destin stations, nomin distanc altitud differ 0, plasmat differ (e.g., actual distanc cover rider certainli > 0). inclus variabl driven featur selection. tabl 2 summar featur consid build model. anatomi daili usag bike share systems: elevation, distanc season conference17, juli 2017, washington, dc, usa featur fs1 fs2 fs3 fs4 fs5 fs6 fs7 fs8 fs9 fs10 dow separ season combin season origin-destin di * alti_diff (both range) di * alti_diff (both real) di (real) * alti_diff (range) di (range) * alti_diff (real) high temp low temp precipit o_station_rack d_station_rack train set 0.18173 0.2004 0.17839 0.17725 0.1827 0.17588 0.2004 0.17626 0.17588 0.17636 valid set 0.17503 0.1951 0.17177 0.17062 0.17591 0.16931 0.1951 0.16963 0.1693 0.16969 test set 0.16736 1 2 interact term regression. tabl 3: featur select results. 4.2 poisson regress goal model number daili trip station station . given depend variabl non-neg integer, linear regress appropri model. hence, choos us poisson regression, essenti data assum follow poisson distribution, i.e., (_ ). poisson regress essenti model averag rate depen- dent variabl linear combin set independ variabl x as: _ = +(bx) (1) paramet b obtain maximum likeli- hood estim thus, estim distribut as: ( = |x, b, ) = (+(bx)) ! +(bx) (2) 4.3 featur select order perform featur selection, randomli split dataset sets: train, validation, test, 7:2:1 ratio. examin differ models, tabl 3 present fea- ture model. note second featur correspond specif featur wai model trained. particular, separ season correspond differ model trained, summer data winter data only. combin season model us data training, includ categor variabl indic season. case separ model summer winter trained, calcul averag root mean squar error (rmse) weight number data point cor- respond season. set ensur model trained, valid test exactli data. figur 4: figur total coefficient/effect rang altitud differ summer (top) winter (bottom). + x distance, b given coeffici base result valid set, fs 9 exhibit lowest rmse, hence, analysi focus model. fs 9 us rang variabl altitud (a oppos continu variable) train separ model summer winter. tabl 4 show model obtain seasons. conference17, juli 2017, washington, dc, usa injung kim, konstantino pelechrinis, adam j. lee depend variable: daili bike usag coef_summ coef_wint intercept -6.0234*** -9.0476*** c(dayofweek)[t.monday] -0.3787*** -0.0154 c(dayofweek)[t.saturday] 0.1470*** -0.3716*** c(dayofweek)[t.sunday] -0.1828*** -0.2233* c(dayofweek)[t.thursday] -0.3819*** 0.2581*** c(dayofweek)[t.tuesday] -0.0228 0.1237 c(dayofweek)[t.wednesday] -0.2748*** 0.0924 c(alti_range)[t.-200] 0.8861*** 1.6210 c(alti_range)[t.-100] 1.2130*** 3.0086*** c(alti_range)[t.100] 1.0517*** 2.8639*** c(alti_range)[t.200] 0.0321 3.1160*** c(alti_range)[t.300] -1.1421* 1.8787* c(same origin-destination)[t.1] 1.8198*** 1.0229*** high_temp 0.0059** 0.0225*** low_temp 0.0013 0.0045 precipit -0.1179*** -0.1664*** o_station_rack 0.0724*** 0.0516*** d_station_rack 0.0893*** 0.0678*** distanc -0.3859*** -0.2652 distance:c(alti_range)[t.-200] -0.2326*** -0.4117 distance:c(alti_range)[t.-100] -0.1596** -0.4466* distance:c(alti_range)[t.100] -0.0986 -0.3863 distance:c(alti_range)[t.200] -0.2766*** -0.6793** distance:c(alti_range)[t.300] -0.0814 -0.1017 signific codes: < 0.05, < 0.01, < 0.001 tabl 4: fs 9 poisson regress model daili bike usag summer winter. figur 5: fs 9: actual (blue) predict (red) valu test data point summer (left) winter (right) x daili station pair trip index smaller station id earlier date (i.e., 135,213 trip station id 49,401 1,028 6/9/2019) y number trips. 4.4 result tabl 4 present result select model. major featur direct effect (i.e., posit negative) summer winter seasons. example, precipit neg correl usag seasons. however, effect size different. further- more, larg distanc origin destin station associ smaller number trips. given interact term distanc altitud differ- ence, order interpret relationship distanc anatomi daili usag bike share systems: elevation, distanc season conference17, juli 2017, washington, dc, usa daili usag need know altitud differ well. ex- ample, altitud differ -200 -100 feet, total coeffici distanc -0.39-0.23=-0.62. however, differ altitud correspond total coeffici go positive. similar interpret alti- tude differ effect. pure coeffici altitud differ altitud differ approach 0 largest posit impact daili usage, effect reduc downhil uphil trips. furthermore, uphil trip lower coefficients, neg (similar shape distribut figur 3). again, or- der quantifi total effect altitud differ need know distanc trip. example, averag distanc trip 1.8 miles, total coefficient/effect altitud differ be: 0.89+1.8 (0.23) = 0.47 trip altitud differ -200 -100 feet, 1.21 + 1.8 (0.16) = 0.92 trip altitud differ -100 0 feet, on. figure. 4 show total coefficient/effect rang altitud differ summer winter, total coeffici essenti line + , distance, given coefficients. mention earlier, evalu select model rmse achiev test set, approxim 0.16. fig- ur 5 depict perform data point test set. particular, point x-axi correspond test point, blue bar correspond actual number trip observ data point, red bar repres predict valu model. see, summer daili number trip larger averag compar winter predict model. furthermore, compar perform model differ seasons, rmse model winter test set smaller (0.0881), compar summer (0.2327). attribut fact variabl trip winter, major winter trip recreat (which typic predictable). benefit analysi abil obtain actual distribut predict number trip stations. particular, predict number trip , actual distribut number trip poisson distribut mean _ = . hence, examin probabl assign ourmodel valu actual trip observed. example, predict 2.4 trips, observ number trip 4, predict provid 0.125 probabl outcom ( ( = 4, _ = 2.4) = 0.125). low, predict provid maximum probabl valu 2, equal 0.26 - i.e., max (, _ = 2.4) = 0.26, = 2. 4.5 discuss limit discussion. best knowledge, analysi consid rel altitud differ ori- gin destin station bike share system factor predict trip likelihood. shown section 4.4, signific factor predict trip stations. prior work consid absolut station altitud easili overcompen- sate effect altitud look trip area citi littl altitud variation, work account explicitly. term futur work, interest investig health-rel microtask exploit neg correl help bicycl rebalanc small local areas. phrase way, individu incentiv short break (e.g., 15 minutes) ride bike uphil station nearbi (but higher altitude) station walk home workplace? posit health bene- fit individuals, posit benefit bike share term bike availability, highli applic citi like pittsburgh high varianc altitud small distances. daili bike usag predict model built evalu narrow featur analyz interact wai features. unlik descript model work [6, 7], predict model facilit plan oper ex- amination. improv urban bike share system, resolv transport problem transport method possibl prediction. example, citi planner build bu line uphill, reduc line short distanc downhill, expand bike station dock down- hill stations, ultim reduc bicycl rebalanc cost. limitations. given thatw interest elev chang trip, ideal abl identifi sourc altitud variat trip, simpli altitud dif- ferenc origin destin stations. similarly, slope chang interest featur consid analysi ours. unfortunately, possibl reasons. first, know path rider follow origin destin stations. further, assum rider took shortest bike rout stations, servic identifi bike path (e.g., mapquest) provid path altitud information. googl map visual altitud variat route, avail api provid access data. addition, analysi consid city. interest carri analysi bike share data hilli citi (e.g., san francisco) flatter citi (e.g., chicago). furthermore, extend analysi wider fea- ture set inclus factor job density, population, nearbi bu stations, like improv perform models, allow fulli understand import rel- ativ altitud compar to, say, access form public transportation. 5 conclus paper, explor daili usag term number trip (directional) pair station bike share pittsburgh. us poisson regress model perform featur select valid set. result indic altitud difference, station distance, as, weather featur impact usag system. add evid exist bodi literatur impact elev bike usage. conference17, juli 2017, washington, dc, usa injung kim, konstantino pelechrinis, adam j. lee futur work, intend explor direc- tion improv predict power model. example, poisson model, neg binomi better fit trip data. furthermore, regular help improv predict performance. plan extend studi cover citi (both outsid states) order direct comparison obtain generaliz conclusions. acknowledg work pittsmartliv project support nsf award cns-1739413. refer [1] peopl dont like bike uphil that pronto rebal- anc come in, where-prontos-rebalance-com (last accessed, 18 may, 2020) [2] here bike-shar program need succeed, conversa- tion, succeed-85969 (last accessed, 18 may, 2020) [3] c. m. chardon, geoffrei caruso, isabel thomas. bicycl share success determinants. transport research a: polici practic 100 (2017): 202-214. [4] j. holmgren, s. aspegren, j. dahlstrma, predict bicycl counter data regression, procedia science, 113 (2017) 502-507. [5] a. nasri, h. younes, l. zhang, multi-level urban form bikesharing: insight bikeshar program unit states, annual meet transport research board (trb 2019) [6] c. morency, m. trepanier, a. paez, h. verreault, j. faucher, model bikeshar usag montreal 6 years, cirrelt-2017-33, 2017 [7] a. faghih-imani, n. eluru, "analys destin choic prefer bicycl share systems: investig chicago divvi system", 94th annual meet transport research board (trb 2015) [8] p. mcmullen, "a markov simul approach balanc bike-shar systems", american journal oper research, 2019, 9(1): 12-17 [9] p. hulot, d. aloise, s. jena, "toward station-level demand predict effect rebalanc bike-shar systems", kdd 18: 24th acm sigkdd intern confer knowledg discoveri data mining, august 19-23, 2018 [10] a. faghih-imani, r. hampshire, l. marla, n. eluru, "an empir analysi bike share usag rebalancing: evid barcelona seville", transport research a: polici practice, volum 97, march 2017, page 177-191 [11] k. zamir, i. bondarenko, a. nasri, s. brodie, k. lucas, "compar anal- ysi user behavior dock-bas vs. dockless bikeshar scootershar washington, d.c.", annual meet transport research board (trb 2019) [12] z. liu, y. shen, y. zhu, "where dockless share bike stacked? - park hotspot detect new city", kdd 18: 24th acm sigkdd intern confer knowledg discoveri data mining, august 19-23, 2018 [13] a. faghih-imani n. eluru, "role bicycl share infrastructur usage: evid montreal", 5th innov travel model conference, 2014 [14] m. oppermann, t. moller, m. sedlmair, "bike share atlas: visual analysi bike-shar networks", intern journal transportation, 2017 [15] s. graham, b. dean, o. rawashdeh, n. dahl, a. simenauer, "low cost bicycl share secur solut universities", proceed 2014 ase north central section conference, 2014 [16] k. pelechrinis, c. zacharias, m. kokkodis, t. lappas, "econom impact polici implic urban share transportation: case pittsburgh share bike system", plo 12(8): e0184092 (2017) [17] r. saltzman, r. bradford, "simul effici bike share system", journal suppli chain oper management, volum 14, number 2, decemb 2016 [18] d. shinghvi, s. singhvi, p. frazier, s. henderson, e. omahony, d. shmoys, d. woodard, "predict bike usag new york citi bike share system", comput sustainability: 2015 aaai workshop [19] g. wu, y. li, j. bao, y. zheng, j. ye, j. luo, "human-centr urban transit evalu planning", 2018 ieee intern confer data mine (icdm), singapore, 2018, pp. 547-556 [20] mcclintock, hugh, ed. plan cycling: principles, practic solut urban planners. elsevier, 2002. [21] t. arabghalizi, a. labrinidi (2019), "how bu be? frame- work predict bu crowd levels", 10.13140/rg.2.2.12969.75368, kdd urb- comp, 2019 [22] m. yang, c. chen, l. wang, x. yan, l. zhou, "bu arriv time predict support vector machin genet algorithm.", neural network world. 26. 205-217. 10.14311/nnw.2016.26.011., 2016 [23] x. ling, z. huang, c. wang, f. zhang, p.wang, "predict subwai passeng flow differ traffic conditions", plo 13(8):e0202707, 2018 [24] c. ding, d. wang, x. ma, h. li, "predict short-term subwai ridership priorit influenti factor gradient boost decis trees", sustainability, mdpi, open access journal, vol. 8(11), page 1-16, octob 2016 [25] i. mateo-babiano, r. bean, j. corcoran, d. pojani, "how natur built environ affect us bicycl sharing?", transport research a: polici practice, volum 94, 2016, page 295-307 abstract 1 introduct 2 relat work 3 data experiment setup 3.1 descript analysi daili bike trip 4 predict model daili bike trip 4.1 predict featur 4.2 poisson regress 4.3 featur select 4.4 result 4.5 discuss limit 5 conclus acknowledg refer