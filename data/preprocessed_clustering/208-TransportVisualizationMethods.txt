visual analyt urban transport bike-shar taxi perspect regular paper haoran dai yubo tao hai lin visual analyt urban transport bike-shar taxi perspect received: 15 februari 2020 / revised: 15 april 2020 / accepted: 13 june 2020 / publish online: 20 juli 2020 visual societi japan 2020 abstract urban transport footston citi infrastructure, boom bike- share vital urban transportation. understand bike-shar tradit taxi similar differ essenti bike-shar rebalancing, taxi dispatching, urban planning. however, spars record data differ servic regions, relationship obscure, previou solut focu singl system. paper, propos visual analyt investig similar differ bike-shar taxi systems. servic region bike station creat fuse bike-shar data taxi data. har three-ord tensor repres unifi framework gener potenti pattern tensor decomposition. visual analyt integr spa- tiotempor data sourc analyz pattern typic data sourc pattern common data sourc assist user better discov relationship taxi bike-shar system. demonstr effect real-world case studies. urban transport footston citi infrastructure, boom bike-shar vital urban transportation. understand bike-shar tradit taxi similar differ essenti bike-shar rebalancing, taxi dispatching, urban planning. however, spars record data differ servic regions, relationship obscure, previou solut focu singl system. paper, propos visual analyt investig similar differ bike-shar taxi systems. servic region bike station creat fuse bike-shar data taxi data. har three-ord tensor repres unifi framework gener potenti pattern tensor decomposition. visual analyt integr spatiotempor data sourc analyz pattern typic data sourc pattern common data sourc assist user better discov relationship taxi bike-shar system. demonstr effect real-world case studies. keyword tensor decomposit taxi bike-shar visual analyt 1 introduct optim urban transport requir understand link intern components, e.g., bus, taxi, subway, bike-sharing. subwai bu fix schedul routes, introduc h. dai y. tao (&) h. lin state kei lab cad&cg, zhejiang university, hangzhou, china e-mail: j vi (2020) 23:10531070 inconveni increas peopl commut cost. instance, peopl usual turn taxi bike locat want cover rout schedules. however, prolifer share economi provid new way, bike-sharing, solv problem. example, peopl conveni borrow bike bike station near return bike station near destination. februari 2020, citibike, greatest bike-shar program usa, 13,000 bike 850 station new york citi (nyc). 1 contrast, number yellow cab nyc 13,000. 2 burgeon bike-shar critic taxi citi transportation. user demands, taxi bike-shar system fail satisfi users. urgent need smarter taxi dispatch strategy, better bike rebalanc method, understand relationship demands. address problem offer recommend dynam bike-shar equilibrium taxi dispatch optimization, oper need determin potenti pattern hidden massiv record understand relationships. analyz taxi trip bike-shar trip records, determin underli behavior patterns. however, challenges, e.g., taxi bike-shar data sparse, servic region difficult define. peng et al. (2012) propos non-neg matrix factor optim method peopl main pattern weekdays: commuting, traveling, leisur activities, etc.. provid interact interfac users, visual pattern word clouds, line charts, heat maps. yan et al. (2018) propos tensor factor method captur potenti pattern bike-shar data design interact visual analyt system. provid intuit views, includ heatmap, sunburst graph, stack bar chart analyz underli pattern data. however, us explor urban transport perspect alone, e.g., bike taxi, arduou gain insight urban transport data sourc simultaneously. paper, introduc visual analyt interact probe dormant user activ pattern taxi bike-shar data, assist user find similar differences. compar pattern them, base assumpt peopl choos nearest bike station bike-shar solv last-mil problem, construct servic area bike station fuse taxi bike-shar data. establish tensor repres data time, space, destin dimens har tensor decomposit method extract potenti patterns. comput similar them, discov pattern common data. furthermore, gener typic pattern data hierarch clustering. help user compar pattern effectively, design multipl link view displai pattern simultan differ aspects. main contribut are: taxi data bike-shar data comparable, defin servic region bike station comb voronoi diagram, one-mil buffer, geograph boundaries, fuse data base spatial relations. portrai peopl activities, present tensor-bas model obtain underli pattern taxi bike-shar data. extract pattern common data pattern typic data. design analyt synchron visual time, space, destin dimens assist user effect understand similar differ taxi bike- share data. paper extend version previou work dai et al. (2019), includ main extensions. first, enrich content relat work (sect. 2) includ background tensor decomposit algorithms. second, demonstr detail descript heterogen data fusion process (sect. 4). third, modifi propos provid visual hint interact optim workflow analysi (sect. 5). fourth, present case studi demonstr effect propos explor bike-shar data taxi data (sect. 6). 1 2 1054 h. dai et al. 2 relat work section, review previou work tensor decomposition, urban user activ analysis, visu- aliz spatiotempor data. 2.1 tensor decomposit tensor decomposition, wide appli rang psychometr neurosci graph analysi data mining, goe hitchcock (1927, 1928). work tucker 1960 (tucker 1963, 1966), concept receiv scant attention. tucker method decompos tensor small core tensor band matrices. 1970s, carrol chang (1970) harshman harshman et al. (1970) introduc candecomp (canon decomposition)/parafac (parallel factors) (cp) method tensor decomposition, core tensor restrict diagonal. consid higher-ord gener matrix princip compon analysi (pca) singular valu decomposit (svd). later, ruiz-tolosa castillo (2006) contribut matlab packag work tensors. 2.2 urban user activ analysi recently, spike exploit spatiotempor data understand urban user activities. noula et al. (2011) present large-scal studi user behavior location-bas social network (lbsns) data provid method uncov human daili weekli patterns. karduni et al. (2017) introduc new insight human activ analyz demograph data geo-loc tweet content posit identifi distinct type activ citi density. however, social media data usual messi bring notabl risks, privaci problem inaccur information. pei et al. (2018) analyz buse dataset base node import evalu bu stops, help understand traffic congest patterns. lu et al. (2016) help user analyz taxi pattern introduc graphic filters. furthermore, statistics-bas (ju liu 2012; yamanishi et al. 2004), classification-bas (chen et al. 2001; wong et al. 2003), distance-bas (de vri et al. 2010; papadimitri et al. 2003) approach urban user activ anomali detection, method simultan analyz multifacet featur data. solv problems, tensor-bas method introduc simultan consid influenc multipl dimensions. zhang et al. (2013) analyz taxi trajectori ga station data. present urban refuel behavior three-wai tensor adopt tucker decomposit deter- custom refuel patterns. yang et al. (2014) nonneg tensor factor method probe potenti pattern time user. chen et al. (2017) design tensor cofactorization- base fusion framework decompos mobil tensor basic pattern detect urban events, evalu framework perform bike-shar data lbsn data. yan et al. (2018) repres bike-shar data three-ord tensor candecomp, nonneg tensor fac- toriz method, extract urban activ time, space, user dimension. furthermore, liu et al. (2019) propos piecewis rank-on tensor, i.e., vector, decomposit recommend best wai slice spatiotempor data extract latent pattern partition. base tensor decom- posit trajectori data, shi et al. (2019a) integr point interest data, provid interpretability. inspir works, consid data sources, peopl option traveling, analyz common typic pattern differ data sources. 2.3 spatiotempor data visual spatiotempor visualization, main featur distinguish geographi inform scienc (gis) disciplines, paid main attent gi researchers. langran chrisman g nr (1988) defin method visual spatiotempor data: time-spac cube, time-slic snapshot, base map overlays, space-tim composite. decades, meet demand non-profession gi users, interdisciplinari topic. andrienko et al. (2003) creat catalog contemporari techniques, data characteristics, data analysi tasks. furthermore, divid task elementari task (e.g., repres situat specif time) gener task (e.g., compar visual analyt urban transport 1055 behavior dispar time interv subsets), establish link exploratori approach task suitabl type data. spatiotempor data visual system produc base tasks. guo et al. (2006) propos geovisu analyt method strengthen parallel coordin plot, help user explor pattern differ perspectives. ferreira et al. (2013) built interact analysi environ involv map, time select widget, data summari view visual massiv taxi trips. karduni et al. (2017) extract user trajectori geo-loc tweet visual puls citi activ tweet flow, word cloud, tweet density, timeline. wu et al. (2015) introduc contour-bas treemap reveal spatiotempor features. andrienko et al. (2017) design novel visu- aliz method simplifi analyz data spatial tempor dimensions. shi et al. (2019b) focus bike-shar data propos visual analyt multipl inter-link view, enabl user find cluster region, station, core station levels. respons burgeon data, cao et al. (2018) propos visual anomali detect stream spatiotempor data base novel anomali analysi algorithm. present possibl anomal event special symbol map, time context, help user better understand events. system, advantag previou design guidelin techniques. extract latent pattern tensor-bas method, present pattern time, space, destin dimens multipl link views. better help user understand taxi bike-shar systems, support pattern comparison in/between data sources. 3 overview convers oper bike-shar compani taxi company, learn mainli focu aspect oper process. first, learn oper statu (e.g., know bike-sharing/taxi flow information). second, understand characterist user (e.g., know peopl start specif area certain time go). third, understand impact possibl competitor (e.g., understand circumst custom choos particular service, explor feasibl work differ transport method achiev win- win situation). base requirements, propos visual analyt includ easy-to- understand design analyz urban activ bike-shar taxi perspect help manag compani alloc resourc reason citi planner optim urban transportation. figur 1 show visual analyt pipeline. consist heterogen data fusion module, pattern extract module, visual analyt module. bike-shar data taxi data comparable, data fusion modul partit urban region set servic regions, fuse taxi bike-shar data base spatial associ information. pattern extract modul construct three-ord tensor repres taxi bike-shar data time, space, destin dimension. subsequently, tensor decomposit approach simultan extract temporal, spatial, destin patterns, captur peopl activ comprehensively. extract patterns, modul comput similar pattern differ data gener common patterns. then, hierarch cluster algorithm gener relationship typic pattern data source. visual analyt modul visual hierarch relat pattern provid multipl coordin view displai pattern time, space, destin dimensions. 4 data analysi section, briefli critic step transform raw data activ patterns. 4.1 heterogen data fusion focus taxi trip data bike-shar trip data. differ taxi trajectories, taxi trip record contain start end latitud longitudes. bike-shar trip record repres bike station ids. thus, data heterogeneous, make difficult fuse directly. appropri method need address problem. 1056 h. dai et al. straightforward strategi us neighborhood bike station locat us voronoi tessel wu et al. (2017) servic region station. however, peopl usual choos closest station station near them. distanc station greater certain threshold, nearest station, peopl station. addition, geo- graphic boundaries, land boundari citi islands, limit user choices. example, peopl usual choos station river, distanc station threshold. voronoi diagram caus biases. thus, introduc method base voronoi diagram, one-mil buffer, geograph boundari determin servic region bike station. specifically, urban area initi divid region geograph boundaries. then, voronoi diagram establish part, finally, servic area bicycl station obtain clip accord one-mil buffer. then, urban area divid sub-regions, base heterogen data fuse natur spatial relationship. mathematically, let x metric space euclidean distanc function d, stand urban area, g stand land citi x. let n set indic mean total bike station urban, pnn 2 n stand nth bike station. servic region sn, associ nth bike station set point x distanc pn greater mile distanc station pk, k index differ n. servic region n-th station defin follow sn x 2 g j dx;pn dx;pk k 6 n dx;pn d 1 d const distance, mile experiment. take nyc example, servic region station nyc shown fig. 2, number servic region 484. 4.2 tensor construct tensor multidimension array, denot x, order tensor number dimensions. dimension dimens depend element contains. instance, third- order tensor x 2 ri1i2i3 , i.e., cube, dimens dimension i1; i2; i3 element tensor x nonneg elements. accord user characterist oper sect. 3, user activ consid contain characterist time, space, destin dimension. therefore, third-ord tensor suitabl user behavior modeling. construct third- order tensor repres bike-shar data taxi data, respectively. spatial dimension, defin servic region bike station, user choos us bike-shar taxi region. present peopl are, choos servic region bike station bike-sharing/taxi trip start spatial dimens tensor models. fig. 1 deriv present typic common pattern taxi bike-shar data primari modules: (1) heterogen data fusion module, (2) pattern extract module, (3) visual analyt modul visual analyt urban transport 1057 tempor dimension, focu need, i.e., trip starts. thus, emploi one-hour interv divid week 168 regions. concentr peopl daili activities, time interv short captur peopl random changes, e.g., person work 8.10 a.m. today, 8.15 a.m. tomorrow reason indiffer study. peopl activ periodic, consid week circle, hour time granular illustr peopl start trip. destin dimension, demonstr peopl want go, us bike station servic region bike-sharing/taxi trip end destin dimens tensor models. subsequently, count number record group start time, start region, end region data source, construct third-ord tensor b 2 risitid ta 2 r isitid , shape 484 168 484. note element tensor nonnegative. 4.3 tensor decomposit repres taxi data bike-shar data tensors, extract pattern dimens directli break relationship dimensions, result poor interpretability. thus, appli tensor decomposit method simultan extract pattern hidden tensor angles. fig. 2 servic region bike station nyc fig. 3 tensor decomposit 1058 h. dai et al. adopt cp decomposit factor nonneg tensor seri vectors. decompos tensor b tensor ta way. take tensor b example, fig. 3 illustr cp decomposition. tensor b repres follows: b xn n1 kndn sn tn 2 n number components, dn 2 nd, sn 2 ns, tn 2 nt , n 1; . . .;n repres destin factor, space factor, time factor, respectively. symbol denot vector outer product. vector k 2 nn stand weight component. simplicity, hypothes compon equal importance, i.e., ki 1 1; . . .;n. then, tensor b written as: bi;j;k xn n1 dinsjntkn 1; . . .; i; j 1; . . .; j; k 1. . .;k 3 thus, main goal tensor decomposit comput tensor n compon best approxim b, i.e., optim follow function: minkb bk b xn n1 dnsntn 4 k k denot frobeniu norm tensor. optimization, tensor b repres as: b xn n1 b n xn n1 dn sn tn 5 b n stand nth latent pattern, dn, sn, tn are, respectively, correspond desti- nation, spatial, tempor dimension factor b n . number n latent pattern evalu root-mean-squar error (rmse): rmse = ffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffip bd; s; t bd; s; t2 jjbjj s 6 pattern divid into, smaller rmse, i.e., better reconstruct accuracy. larg n lead captur subtl activities, interest users. however, small n result larg rmse, lose import patterns. trade-off qualiti quantity, us larg n rmse small gener patterns, hierarch cluster facilit exploration. specifically, choos n = 50 experiment. therefore, 50 potenti pattern bike-shar data produc correspond rmse 0.7550, 50 latent pattern taxi data produc correspond rmse 0.3711. 4.4 common typic pattern analysi obtain potenti pattern taxi bike-shar data, difficult user probe relationship similar differences. comput similarity, identifi common pattern taxi bike-shar data identifi typic pattern data set. differ pattern comparable, normal dimens patterns. take des- tinat dimens nth pattern example: pi i1 tin 1, stand number element destin dimension, i.e., 484 regions. din reveal destin distribut nth pattern. comput destin similar lth pattern hth pattern destin perspect follows: s pld;p h d x jdil dihj 1; . . .; 7 similarly, spatial similar tempor similar lth pattern hth pattern calculated, respectively: visual analyt urban transport 1059 s pls;p h s x jsjl sjhj j 1; . . .; j 8 s plt ;p h t x jtkl tkhj k 1; . . .;k 9 find common pattern typic patterns, calcul similar pattern differ data follow function: s0pl;ph s pld;p h d s pls;p h s s plt ;p h t 10 base similarity, establish connect group patterns, enabl figur common pattern data sets, rest pattern group typic patterns. specifically, bike pattern taxi pattern coupl accord similarity, gener total 25 pairs, similar exce user-specifi threshold common patterns. implementation, set 1 threshold gener 15 common pattern data set 35 typic pattern data set. pattern typic pattern similar, increas cognit load users, pattern need cluster relationship clearer. complic determin number cluster unfamiliar data, k-mean cluster spectral cluster appropriate. gener relat typic patterns, emploi hierar- chical cluster algorithm, adequ demonstr relationship pattern level. specifically, us bottom-up approach cluster patterns. pattern cluster initially, merg similar cluster base distanc metric eq. 10. distanc origin cluster new cluster averag distanc origin cluster merg clusters. repeat iter merg process clusters. experiment, consid peopl behavior pattern mainli includ travel, commut leisur activ (peng et al. 2012), stop process cluster left. consequently, tree-lik hierarch relationship establish patterns, allow user explor differ levels. addition, comput varianc vector cluster repres divers element cluster is. take group cluster tempor dimens example: varianc vector v calcul follow vi xn n1 tkn avg2 n avg xn n1 tkn n k 1; . . .;k 11 n stand number pattern cluster. 5 visual interact analysi modes: pattern analysi mode (focu singl data) compar analysi mode (focu data). user switch mode click button, shown fig. 4(1). section, visual interact compon system. start design requir discuss technic detail component. 5.1 design requir take account concern oper mention sect. 3, focus attent requir follows. 5.1.1 r1: explicit express relat pattern pattern reflect overal situat region. guid user select pattern interest, essenti illustr relationship them. 1060 h. dai et al. 5.1.2 r2: facilit pattern analysi dimens pattern characteristics, reflect space, time, destin dimensions. help user understand pattern perspectives, design allow user comprehens visual analyz differ pattern aspects. 5.1.3 r3: effect illustr raw data raw data contain evid confirm refut latent pattern inflow outflow inform region. better understanding, abl explor illustr raw data effectively. base requirements, design system visual interact components. shown fig. 4, interfac consist seri view satisfi requirements: (1) hierarch relat view (fig. 4a) show pattern relationship (r1). (2) main map view (fig. 4c) present raw record statist region spatial dimens patterns. (3) assist map view (fig. 4d) illustr destin dimens patterns. (4) timelin view (fig. 4e) visual tempor dimens patterns. main map view, assist map view, timelin view simultan interconnect present pattern aspect (r2). (5) pattern analysi mode, raw data analysi view (fig. 4b) plot inflow outflow region pattern. compar analysi mode, view illustr inflow/outflow region bike-shar taxi data (r3). 5.2 hierarch relat view tensor decomposit hierarch clustering, obtain set typic pattern hierarch structur bike-shar data taxi data. reduc user memori burden, pattern assign differ color allow user compar easily. compar tree diagram, sunburst diagram fulli displai hierarch relationship littl space, shown fig. 5. emploi sunburst diagram present structur patterns. sunburst diagram depict concentr circl appropri hierarch data. circl closer center repres higher levels. sector inner circl hierarch relat sector outer circl lie range. sector render correspond color pattern list (fig. 4(3)), make easi user fig. 4 overview. hierarch relat view list pattern visual relationship them. b raw data analysi view illustr statist trip record region pattern. c main map view displai spatial dimens pattern heat maps. d assist map view present destin aspect pattern heat maps. e timelin view plot tempor dimens visual analyt urban transport 1061 understand relationship patterns. larger sector area, pattern contains, mean common real world. addition, mous hover sector, sector previou sector highlighted, relationship shown legend. sunburst diagram, user preview overal distribut pattern similar interest patterns, e.g., user quickli notic no. 84 no. 91 cluster small sector high level, indic differ pattern level. detail analysi present sect. 6.2.1. pattern analysi mode, pattern list contain patterns. mode, list common pattern put descend order similarity. common pattern contain pattern data set. user select pattern displai choos list click sunburst diagram sector. previou work, pattern pattern list present differ color, font, confus pattern analyz pattern not. better distinguish them, addition us bold regular font. besides, user renam pattern reduc confusion. 5.3 pattern view design multipl coordin views, includ main map view, assist map view, timelin view, present time, space, destin dimens pattern simultaneously. layout design, illustr spatial dimens destin dimens overlap map view conduc visual compar short trip multipl patterns, appli juxtaposit design explicit encod superposition. specifically, main map view assist map view unifi scope map displai time creat sens contrast. 5.3.1 spatial dimens spatial dimens pattern indic spatial aggreg degre start positions, us heat map visual main map view (fig. 4c). base base map openstreetmap, gener set overlay patterns. overlay identifi pattern id correspond color. addition, creat individu overlay bike station servic regions. allow user studi specif region, like main map view shown fig. 1, user focu region selecting. specifically, render region base inflow select region, i.e., visual inflow select region choropleth map. also, user detail shown tooltip, e.g., accur valu inflow. 5.3.2 tempor dimens unlik real-world space, geograph coordinates, time dimens linear. shown fig. 4e, visual tempor distribut pattern line chart, line color correspond fig. 5 sunbrust diagram. tree-lik relationship (left) pattern transform circles-lay relationship sunburst diagram (right) term pattern hierarch relationship 1062 h. dai et al. color pattern pattern list. line chart horizont axi repres hour weekdai week, vertic axi repres normal valu tn. pattern gener hierarch clustering, auxiliari area gener illustr standard deviat pattern intern elements. color similar correspond pattern. 5.3.3 destin dimens previou user activ analysi sect. 4.2, destin factor repres peopl want go, natur visual map. thus, similar main map view, assist map view (fig. 4d), pattern destin dimens shown heat maps. 5.4 raw data analysi view pattern analysi mode, raw data analysi view illustr inflow outflow region pattern. design raw data analysi view horizont ax vertic axes. shown fig. 4b, upper repres weekdai repres hour weekday, left/right vertic axi denot inflow/outflow. mode, stand outflow/inflow calcul bike-shar taxi data, respectively. consist time interv tensor construction, view present raw data base one-hour interv one-week period. user click region select pattern, automat update. also, mous move chart, tooltip show current weekday, hour, vertic ax value. 5.5 interact provid follow interact help data analysis: 5.5.1 filter queri hierarch relationship view, user select pattern filter data shown raw data analysi view. addition, user queri raw data base time, weekday, specif station click main map view set queri condit navig bar (fig. 4(2)) enhanc understand patterns. 5.5.2 merg delet user domain knowledg accur similar pattern confirm correct patterns, choos pattern think similar merging, creat exact pattern, delet pattern consid improper. 5.5.3 dynam zoom pan user scroll mous wheel zoom drag mous pan main map view assist map view, scale updat automatically. 5.5.4 renam note pattern identifi id meaningless. user assign specif attach comment pattern double-click correspond pattern pattern list, e.g., renam pattern 84 commut pattern (lower manhattan workdays). 5.5.5 highlight sunburst diagram highlight sector mous move sector ancestors. addition, mous move raw data view main map view, tooltip show correspond information. visual analyt urban transport 1063 6 case studi section, present case studi illustr effect model analyz taxi bike-shar data. taxi data produc nyc taxi limousin commiss (tlc). contain trip record april june 2016 nyc includ 40 million trips. record contain time posit pick-up drop-off, trip distances, item fares, etc.. bike-shar trip data provid citibike. period bike-shar data taxi data, total 3,118,670 records. record includ start stop times, start stop station names, station ids, station latitud longitudes, bike ids, user type, gender. present similar data compar analysi mode examin characterist pattern analysi mode. 6.1 compar analysi mode compar analysi mode, manag explor common pattern data sets, understand similarities, gain insight potenti competitors. common pattern add pattern list. manag select common pattern higher similar pattern list, i.e., pattern higher ranking. example, shown fig. 6a, manag select common pattern, includ pattern no. 0 bike-shar data pattern no. 32 taxi data. figur 6b, c show spatial destin distribut present data sets, indic trip record happen central park. line chart (fig. 6d), manag find peak pattern 12 p.m. 6 p.m., higher valu weekends. therefore, manag infer pattern relev peopl leisur activ near central park leisur central park patterns. furthermore, reflect peopl activ near central park frequent weekends. response, manag analyz servic provid near central park weekend meet peopl need exist custom loss. addition, manag find gct workdai morn pattern data. similar tempor distribut (fig. 7c) spatial destin distribut (fig. 7a, b). patterns, peopl primarili start trip grand central termin (gct) 6 a.m. 12 p.m. workdays. end midtown north midtown west, compani scattered. manag consid pattern relat peopl get train gct go work, notic bike- share pattern destin dimens coverag farther taxis. differ fig. 6 leisur central park patterns. pattern list. b pattern spatial dimension. c pattern destin dimension. d pattern tempor dimens 1064 h. dai et al. taxi effici bike-shar medium distanc peak hours, lead prefer bike-shar situation. 6.2 pattern analysi mode pattern analysi mode, manag explor differ bike-shar taxi data. manag guid hierarch relat view select typic pattern analyze, confirm check raw data. manag analysi scenario typic patterns. 6.2.1 typic pattern analysi taxi data week midnight pattern guid hierarch relat view fig. 4a, manag notic pattern no. 84 second highest level contain sub-patterns, arous manag interest. shown fig. 4e, trip record 6 p.m., 6 p.m., number record begin increas peak midnight. peopl reluct ride bike midnight, pattern absent bike-shar data. pattern, peopl trip mainli start lower east side, pub club (fig. 4c), destin scatter part nyc (fig. 4d). therefore, manag infer pattern relat peopl go home even recreat activities. addition, number record fridai saturdai higher days, peak later nearli hour compar days, interpret peopl tend enjoi nightlif work day. verifi assumption, manag check outflow correspond region base raw data. shown fig. 4b, outflow peak midnight dai higher peak valu fridai saturday, support inference. also, enlarg auxiliari area peak timelin view indic pattern includ signific differ valu time, remind manag analyz further. penn station workdai morn pattern shown fig. 8c, distribut tempor dimens workdai morn pattern mainli concentr workdai 6 a.m. 12 p.m. reach peak 8 a.m.. peopl trip mainli start near penn station (fig. 8a) end near baruch college, borough manhattan commun colleg (bmcc) corpor (fig. 8b). manag infer pattern relat school work activ peopl live far manhattan. subwai penn station taxi destination, have medium-and-long distanc trip, inconveni ride bicycles. 6.2.2 typic pattern analysi bike-shar data bmcc workdai pattern similar analysi taxi data, manag find bmcc workdai patterns, contain type patterns: go school (yellow) school (blue). pattern opposit spatial dimens destin dimensions, i.e., trip bpt, bu station, bmcc, trip bmcc bpt (fig. 9a, b). tempor distribut entir workdai peak 7 a.m. 6 p.m. workdai (fig. 9c). student need bu near college, will us bike-shar rel fig. 7 gct workdai morn patterns. bike (purple) taxi (light green) pattern spatial dimension. b pattern destin dimension. c tempor dimens pattern visual analyt urban transport 1065 expens taxi. therefore, manag specul pattern relat bmcc student com- mute activ impli bmcc class time. addition, inflow region near bmcc (fig. 9d) reflect trend patterns. base raw data view, manag estim number bike-shar requir student activities. lower manhattan workdai morn short distanc pattern manag notic record signific 7 a.m. 12 p.m. workdai (fig. 10c), mainli start station near world trade centr end financi district (fig. 10a, b); distanc involv obvious short. rush hour, ride bike faster take taxi regions, motiv peopl choos rider. manag specul pattern relat short-dist com- mute consid resourc invest area. gct workdai even pattern figur 11 illustr gct workdai even pattern bike-shar data manag finds. contain patterns. blue one, short-dist trip main fig. 8 penn station workdai morn pattern. pattern spatial dimension. b pattern destin dimension. c pattern tempor dimens fig. 9 bmcc workdai patterns. pattern spatial dimension. b pattern destin dimension. c inow outflow region bmcc located. d pattern tempor dimens 1066 h. dai et al. start midtown manhattan (fig. 11a), headquart famou companies, end gct (fig. 11b). brown contrari blue one, peopl trip mainli start gct end midtown manhattan. tempor distribut 6 p.m. 8 p.m. workdai (fig. 11d). manag infer blue pattern relat peopl work, i.e., bike compani station subwai place, brown pattern relat peopl work night. addition, inflow region near gct (fig. 11c) reflect trend patterns, i.e., notabl inflow outflow peak 8 p.m. workdays. manag explor bike-shar rebalanc problem optim match departur arriv time train gct station. 6.3 implement facilit share access, establish browser/serv structure. browser implement bootstrap, driven node postgresql. visual analyt module, us echarts, d3, leaflet librari implement user interfac user interaction. fig. 10 lower manhattan workdai morn short distanc pattern. pattern spatial dimension. b pattern destin dimension. c pattern tempor dimens fig. 11 gct workdai even patterns. pattern spatial dimension. b pattern destin dimension. c pattern tempor dimens visual analyt urban transport 1067 6.4 discuss limit bike-shar taxi system vital compon urban transport plai critic role peopl daili lives. abund activ pattern trip records. analysi modes, explor human activ nyc bike-shar taxi perspective, common uniqu characterist systems, provid suggest optimization. furthermore, bike- share exclus daytime, taxi day; commuting. addition, peopl recreat activ increas longer weekends. compar differ patterns, identifi bmcc student commut activities. base findings, propos suggest rebalanc bike-shar taxi dispatching. example, citibik guarante servic suppli 7 a.m. bpt bu station 6 p.m. bmcc workdays, tlc dispatch taxi lower east midnight schedul taxi weekends. case studies, demonstr effect analyz pattern hidden trip record taxi bike-shar support comparison them, propos recommend optim systems. however, limitations. 6.4.1 algorithm limit limit three-ord tensor, user inform dimens absent tensor, depict user group precisely, e.g., confirm user bmcc workdai pattern teenagers. besides, decompos tensor separately. need ensur data common pattern introduc similar user travel habits, reduc gener abil algorithm. addition, one-mil buffer bike station construct base euclidean distance. however, walk distanc user locat one-mil buffer station significantli differ euclidean distanc complex road network. better road network account calcul servic region station dynam access (kamw et al. 2020). 6.4.2 visual limit map provid basic geograph information, user familiar studi region confused. addition, provid basic renam function. increas collaboration, better integr advanc interact e.g., proven record result report system. 7 conclus futur work paper, propos visual analyt interact discov urban activ pattern bike-shar taxi perspective. introduc ad hoc approach defin servic region bike station fuse taxi bike-shar data. then, pattern hidden data tensor decomposit analyz common pattern typic patterns. furthermore, present pattern multipl interlink view visual hierarch relationship typic patterns. real- world data, demonstr us effect discov common typic patterns. increas share economi enlarg vehicl hire market, future, intend consid data system, like uber lyft, increas understand urban activities. addition, three-ord tensor partial depict user behavior, pai attent user future, i.e., add user characterist higher-ord tensor. besides, consid appli joint decomposit tensors, forc partial share basi vectors, gener common patterns. furthermore, plan improv help user understand latent pattern richer context, e.g., provid demograph inform region interest. acknowledg work support nation kei research & develop program china (2017yfb0202203), nation natur scienc foundat china (61672452, 61890954, 61972343), nsfc- guangdong joint fund (u1611263). 1068 h. dai et al. refer andrienko n, andrienko g, gatalski p (2003) exploratori spatio-tempor visualization: analyt review. j vi lang comput 14(6):503541 andrienko g, andrienko n, fuch g, wood j (2017) reveal pattern trend mass mobil spatial tempor abstract origin-destin movement data. ieee tran vi comput gr 23(9):21202136 cao n, lin c, zhu q, lin yr, teng x, wen x (2018) voila: visual anomali detect monitor stream spatiotempor data. ieee tran vi comput gr 24(1):2333 carrol jd, chang jj (1970) analysi individu differ multidimension scale n-wai gener eckart-young decomposition. psychometrika 35(3):283319 chen y, zhou xs, huang ts (2001) one-class svm learn imag retrieval. in: icip (1), citeseer, pp 3437 chen l, jakubowicz j, yang d, zhang d, pan g (2017) fine-grain urban event detect character base tensor cofactorization. ieee tran hum mach syst 47(3):380391 dai h, tao y, lin h (2019) visual analyt urban transport bike-shar taxi perspective. in: proceed 12th intern symposium visual inform commun interaction, vinci2019. associ comput machinery, new york, ny, usa. vri t, chawla s, houl (2010) find local anomali high dimension space. in: 2010 ieee intern confer data mining, ieee, pp 128137 ferreira n, poco j, vo ht, freir j, silva ct (2013) visual explor big spatio-tempor urban data: studi new york citi taxi trips. ieee tran vi comput gr 19(12):21492158 guo d, chen j, maceachren am, liao k (2006) visual space-tim multivari pattern (vis-stamp). ieee tran vi comput gr 12(6):14611474 harshman ra et al (1970) foundat parafac procedure: model condit explanatori multimod factor analysi hitchcock fl (1927) express tensor polyad sum products. j math phy 6(14):164189. org/10.1002/sapm192761164 hitchcock fl (1928) multipl invari gener rank p-wai matrix tensor. j math phy 7(14):3979. doi.org/10.1002/sapm19287139 ju z, liu h (2012) fuzzi gaussian mixtur models. pattern recognit 45(3):11461158 kamw f, al-dohuki s, zhao y, eynon t, sheet d, yang j, ye x, chen w (2020) urban structur access model visual joint spatiotempor constraints. ieee tran intel transp syst 21(1):104116 karduni a, cho i, wessel g, ribarski w, sauda e, dou w (2017) urban space explorer: visual analyt urban planning. ieee comput gr appl 37(5):5060 langran g, chrisman nr (1988) framework tempor geograph information. cartogr int j geogr inf geovi 25(3):114 liu d, xu p, ren l (2019) tpflow: progress partit multidimension pattern extract large-scal spatio- tempor data analysis. ieee tran vi comput gr 25(1):111 lu m, liang j, wang z, yuan x (2016) explor od pattern interest region base taxi trajectories. j vi 19(4):811821 noula a, scellato s, mascolo c, pontil m (2011) empir studi geograph user activ pattern foursquare. in: fifth intern aaai confer weblog social media, pp 570573 papadimitri s, kitagawa h, gibbon pb, faloutso c (2003) loci: fast outlier detect local correl integral. in: proceed 19th intern confer data engineering, ieee, pp 315326 pei w, wu y, wang s, xiao l, jiang h, qayoom (2018) bvis: urban traffic visual analysi base bu spars trajectories. j vi 21(5):873883. peng c, jin x, wong kc, shi m, lio p (2012) collect human mobil pattern taxi trip urban area. plo 7(4):e34487 ruiz-tolosa jr, castillo e (2006) vector tensors. springer, berlin shi x, lv f, seng d, xing b, chen b (2019a) visual explor mobil dynam base multi-sourc mobil dataset poi information. j vi 22(6):12091223 shi x, wang y, lv f, liu w, seng d, lin f (2019b) find commun bicycl share system. j vi 22(6):11771192 tucker lr (1963) implic factor analysi three-wai matric measur change. probl mea chang 15:122137 tucker lr (1966) mathemat note three-mod factor analysis. psychometrika 31(3):279311. 1007/bf02289464 wong wk, moor aw, cooper gf, wagner mm (2003) bayesian network anomali pattern detect diseas outbreaks. in: proceed 20th intern confer machin learning, pp 808815 wu w, xu j, zeng h, zheng y, qu h, ni b, yuan m, ni lm (2015) telcovis: visual explor co-occurr urban human mobil base telco data. ieee tran vi comput gr 22(1):935944 wu w, zheng y, cao n, zeng h, ni b, qu h, ni lm (2017) mobiseg: interact region segment heterogen mobil data. in: 2017 ieee pacif visual symposium (pacificvis), ieee, pp 91100 yamanishi k, takeuchi j, william g, miln p (2004) on-lin unsupervis outlier detect finit mixtur discount learn algorithms. data min knowl discov 8(3):275300. 72185.7c yan y, tao y, xu j, ren s, lin h (2018) visual analyt bike-shar data base tensor factorization. j vi 21(3):495509 yang d, zhang d, zheng vw, yu z (2014) model user activ prefer leverag user spatial tempor characterist lbsns. ieee tran syst man cybern syst 45(1):129142 visual analyt urban transport 1069 zhang f, wilki d, zheng y, xie x (2013) sens puls urban refuel behavior. in: proceed 2013 acm intern joint confer pervas ubiquit computing, ubicomp 13, acm, new york, ny, usa, pp 1322. publish note springer natur remain neutral regard jurisdict claim publish map institut affiliations. 1070 h. dai et al. visual analyt urban transport bike-shar taxi perspect abstract introduct relat work tensor decomposit urban user activ analysi spatiotempor data visual overview data analysi heterogen data fusion tensor construct tensor decomposit common typic pattern analysi visual interact design requir r1: explicit express relat pattern r2: facilit pattern analysi dimens r3: effect illustr raw data hierarch relat view pattern view spatial dimens tempor dimens destin dimens raw data analysi view interact filter queri merg delet dynam zoom pan renam note highlight case studi compar analysi mode pattern analysi mode typic pattern analysi taxi data week midnight pattern penn station workdai morn pattern typic pattern analysi bike-shar data bmcc workdai pattern lower manhattan workdai morn short distanc pattern gct workdai even pattern implement discuss limit algorithm limit visual limit conclus futur work acknowledg refer