understand bike-shar system data mining: explor activ pattern avail onlin www.sciencedirect.com procedia social behavior scienc 20 (2011) 514523 14th ewgt & 26th mec & 1st rh understand bike-shar system data mining: explor activ pattern patrick vogela,*, torsten greisera, dirk christian mattfelda univers braunschweig, decis support group, mhlenpfordtstra 23, d-38106 braunschweig, germani abstract paper analyz extens oper data bike-shar system order deriv bike activ patterns. common issu observ bike-shar system imbal distribut bikes. us data mine gain insight complex bike activ pattern stations. activ pattern reveal imbal distribut bike lead better understand structure. structur data mine process support plan oper decis design manag bike-shar systems. keywords: bike-sharing; data mining; activ pattern 1. introduct bike receiv increas attent citi transportation, mainli provid miss link exist point public transport desir destin (midgley, 2009). bike-shar describ short-term bicycl rental servic inner-c transport provid bike unattend stations. recent years, bike-shar system (bss) rapidli emerg major citi world. bike-shar provid ensur high bike avail order satisfi customers. challeng task, movement custom highli dynam redistribut bike expensive. accord recent studies, analysi ride spatio-tempor depend bike usag (borgnat et al., 2010, froehlich et al., 2009, kaltenbrunn et al., 2010). addition, one-wai us short rental time lead imbal spatial distribut bikes. differ measur overcom imbalances, e. g. locat plan bike stations. help geograph busi intellig (geo bi), ride data analyz process order support locat decis (feix, 2007). * correspond author. tel.: +49-531-391-3215; fax: +49-531-391-8144. e-mail address: 2011 publish elsevi ltd. open access cc by-nc-nd license. select and/or peer-review respons organ committee. 18770428 2011 publish elsevi ltd. open access cc by-nc-nd license. select and/or peer-review respons organ committe doi:10.1016/j.sbspro.2011.08.058 patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 515 paper make follow contributions: taxonomi measur allevi bike imbal bss given section 2. geo bi process includ data mine (dm) method locat plan present follow section. furthermore, year oper ride data vienna bss citybik wien analyz accord geo bi process. present result exploratori data analysi cluster station accord pickup return activ understand tempor spatial caus imbalances. 2. design manag bss decades, tradit bike rental leisur activ evolv modern bss offer environment-friendly, individu urban mobility. accord shaheen et al. (2010), primari goal bss reduct congest pollution, improv public health, increas bike us enhanc public transport options. however, bike mainli suit short trip bike us strongli depend weather topography. typically, station spread citi provid free bike free boxes, respectively. easi quick citi wide access bss provid inform commun technolog support autom bike rental store cyclist rental activ bill control purposes. bike-shar provid compris transport agencies, local governments, profit non-profit organ advertis compani (demaio, 2009). advertis compani common type provider. receiv right municip advertis street furniture. exchang bss provided. contrast tradit rental services, bss price model linear progressive. minut ride free. that, fee increas progress certain time steps, e. g. 30 minutes. incent custom rental time short, make bike avail reach high bike turnover. avail free bike box crucial usag accept bss. instance, provid arlington bss ensur station bicycl 60 minut daytim 180 minut nighttim (zahory, 2009). ensur high avail easi task. common issu observ bss imbal spatial distribut bike station time one-wai us short rental times. number bike box station limited. imposs return bike station pick bike stations. identifi design manag measur allevi imbal divid differ plan horizons: strateg (long-term) network design compris decis location, number size stations. tactic (mid-term) incent custom base distribut bikes. example, parisian bss vlib grant 15 extra minut return bike uphil station (demaio, 2009). oper (short-term) provid base reposit bikes. here, staff reloc bike stations. e. g. cost reposit bike vlib 3 $ (demaio, 2009). decis strateg level great impact follow levels. locat size station implemented, chang short-term basis. unsophist design decis compens extens effort tactic oper level. fluctuat pickup return oper level anticip consid design phase. paper present geo bi process bss design. hand, process consist dm gain insight complex bike oper stations. hand, approach present incorpor gain knowledg bss design decisions. 3. data mine improv bss design plan oper bss receiv attent academia practice. however, scientif literatur field scarce. literatur overview dm articl bss given follows: borgnat et al. (2010) us dm analyz dynam bike movement lyon bss. tempor pattern system-wid bike usag examined. weekdai usag peak morning, noon late afternoon, usag concentr afternoon weekend days. statist model predict number rental daili hourli basi given. furthermor spatial pattern examin cluster bike flow stations. spatial tempor depend exist station cluster interchang bicycles. 516 patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 froehlich et al. (2009) data number avail bike vacant bike box barcelona bss. station cluster accord number avail bike activ score cours day. visual station spatial dependencies, e. g. uphil station tend activ station locat edg bike-shar network. kaltenbrunn et al. (2010) detect bike usag pattern data barcelona bss. result similar froehlich el (2009). statist model present predict number free bike box station minut ahead time. perspective, lin yang (2011) present mathemat decis model determin adequ number locat bike station consid bike avail stations. network structur bike path station travel path user origin destin determined. artifici bike demand data test model. recent work focus mine bike-shar data build decis model incorpor real world bss behavior. instance, lin yang (2011) consid avail bike avail boxes. contrast observ real world bss, hourli fluctuat rental ignor lin yang model. present integr approach dm or. dm provid inform structur determin attribut serv input decis model refin decis model structur (meisel mattfeld, 2010). strateg point view necessari understand bike activ station oper level. ignor oper activ lead suboptim locat decis (salhi rand, 1989). locat size station determin wai fluctuat caus stations. therefore, anticip oper bike activ long-term locat plan crucial actual bike avail stations. anticip bike activities, geo bi approach locat plan bss presented. geo bi base knowledg discoveri databas (kdd) (fayyad et al., 1996) extend spatial analysi visualization. novel understand pattern deriv data includ spatial relations. geograph inform technolog dm method structur compani intern extern data. identifi pattern visual aim support busi decis (feix, 2007). potentially, dm gener multitud patterns. domain knowledg necessari separ interest uninterest patterns. pattern interest e. g. valid hypothesi sought confirm (han kamber, 2006). concern locat plan bss, look spatial relat bike usag station locat stations. lead follow hypothesis: pickup return bike station type custom certain station depend station surroundings. assumpt valid, bike usag map new station accord location. help geo bi process hypothesi evaluated. bike activ station deriv bss ride data. bike activ compris station pickup return aggreg suitabl timescale. cluster analysi yield distinct group station show similar activ patterns. custom behavior examin cluster analysi lead custom segment differ rental behavior. furthermor locat factor deriv station surroundings. bike station cluster accord locat factors. factor includ e.g. access station public transport, population, hous commerci area. station custom cluster match locat clusters, hypothesi confirmed. patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 517 figur 1. geo bi process style feix (2007) set expand bss, pickup deliveri potenti locat anticipated. locat factor ascertain possibl new location. activ pattern custom segment exist station map potenti locat base locat factors. follow locat decis model adequ number, locat size station determin anticip oper activ bike avail considered. geo bi depict figur 1 process compris dm follow steps: preprocessing: preprocess phase ride custom data locat factor term extern geograph data gathered. data suitabl dm properli clean selected. aggreg normal data assur solid basi dm algorithms. data mining: help cluster analysi station activ locat factor pattern custom segment identified. first, cluster valid necessari order determin cluster tendenc data set distinguish non-random structur data not. second, cluster algorithm determin group object similar. last, cluster valid measur adequaci cluster analysis. postprocessing: result cluster analysi valid postprocess step. visual cluster geograph inform need spatial interpret clusters. oper research: knowledg structur process data dm serv input phase. obtain knowledg data lead sophist models. adequ number, size locat station output locat decis models. help geo bi, bike activ station custom behavior anticip potenti locations. improv qualiti strateg decisions. follow case studi give insight tempor spatial depend bike pickup return stations. 4. case study: explor activ pattern section ride data analyz base geo bi process. imbal distribut bike tempor spatial reasons, ride data examin spatio-tempor activ patterns. therefore, bike station cluster accord pickup return cours day. analysi station surround valid determin cluster give insight possibl caus imbal distribut bikes. 518 patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 analyz data cover year oper ride data vienna bss citybik wien ( oper gewista werbegesellschaft m. b. h. consist 60 bike stations. rapidmin commun edit rapid-i gmbh ( data analysis. result visual geograph inform googl earth ( 4.1. preprocess provid data set consist ride inform form pickup station timestamp return station timestamp (cf. tabl 1). data cover approxim 760000 ride year 2008 2009. trip durat calcul subtract pickup return timestamps. geograph coordin avail station. tabl 1. structur ride data pickup station pickup timestamp return station return timestamp 1074 2008-01-01 17:13:27 1052 2008-01-01 17:25:54 accord preprocess phase, data object follow characterist removed: ride start end test stations. ride bike report defect stolen. ride neg drip durations. happen error occur bike box return bike. ride 60 second start end station. indic bike immedi return pick up. actual ride place. station pickup returns. station non-typ return pickup pattern distort clustering. remov affect data sets, number data set declin 2 % approxim 743000. number station drop 59. extens data, inspect singl ride lead gener impress bike activities. look tempor pattern bike activities, ride aggreg suitabl timescale. tradeoff following: smaller time windows, larger fluctuations, larger time window smooth relev observations. citybik wien grant 60 minut ride free charge. case 90% trips. averag trip last 29 minutes, median trip durat 15 minutes. glanc data show bike activ highli fluctuant respect time day, dai week type day, e.g. holidays. ride data aggreg 24 time window dai week, lead 168 valu repres year data. time window correspond common approach traffic system analysi (pinkofski 2006). total number rent bike cours week depict figur 2. pattern work dai weekend observed. work dai weekend dai peak cours day. work days, night peak occur 0-2 a.m. reason subwai stop servic 0-1 a.m. activ hour 5 a.m. morn commut peak number rental 8-10 a.m. peak situat late afternoon hours. here, commut leisur activ overlap. weekends, night peak distinct, morn peak absent. indic citybik predominantli leisur activ weekends. accord hypothesis, bike pickup return depend station locations. necessari break wide usag pattern station relat pickup return activities. work dai weekend dai similar usag patterns, pickup return aggreg station hourli basis. work dai weekend dai consid separately. public holidai exclud aggregation. normal data need order compar activ stations. thus, activ station defin proport pickup return certain hour dai divid total daili number pickup returns. lead 48 attribut describ daili pickup return activ station. exampl station activ data set state tabl 2. patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 519 figur 2. number ride cours week tabl 2: normal activ station 1020 cours dai station pickup 0-1 pickup 23-0 return 0-1 return 23-0 1020 0.065148353 0,035205517 0,05418259 0,038980892 4.2. data mine normal activ station serv input dm phase. here, cluster analysi order group station accord normal bike pickup return activity. outcom form tempor pattern spatial examin discov locat depend reason activ patterns. first, cluster tendenc ride data determined. then, differ cluster algorithm appli evalu valid measures. visual interpret cluster complet section. cluster algorithm clusters, data natur cluster structur (tan et al., 2006). thus, cluster valid necessari order determin cluster tendenc data set distinguish non-random structur data not. help hopkins-statist (tan et al., 2006) ratio nearest neighbor distanc randomli gener actual data point calculated. valu near 0.5 indic randomli distribut data valu close 0 1 indic data highli cluster regularli distributed. hopkins-statist appli normal pickup return station yield valu 0.743. indic data set suitabl cluster analysis. cluster analysi group station accord pickup return activity. goal data object group similar differ object group (tan et al., 2006). tan et al. (2006) suggest compar outcom differ cluster algorithm vari number clusters. k-mean (km) (tan et al., 2006), expect maxim (em) (tan et al., 2006) sequenti information- bottleneck (sib) (slonim et al., 2002) appli cluster analysis. well-known partit cluster algorithms. high dimensionality, partit cluster algorithm promis approach (berkhin, 2006). data object assign k cluster number cluster chosen beforehand. base initi partitioning, object reloc minim distanc object cluster maxim distanc object differ clusters. em algorithm extend paradigm. object assign cluster basi weight repres probabl membership. sib agglom cluster method origin design cluster analysi documents. sib capabl deal high dimension data. cluster valid indic measur structur cluster analysi adequate. refer extern inform taken account appli measures. davies-bouldin-index (jain dubes, 1988), dunn-index (abonyi feil, 2007) silhouette-index (tan et 520 patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 al., 2006) determin cohes separ cluster accord distanc data set clusters. higher valu dunn silhouett index better clustering. opposit hold davies-bouldin-index. cohes separ better ascend number clusters. (local) optimum indices` values, call elbow, indic reason cluster (tan et al., 2006). em, sib appli normal activ data k vari ten. best result 100 iter differ seed algorithm chosen euclidian distanc similar measure. maximum 500 step perform iteration. addit paramet em minimum standard deviat normal densiti comput set 1e-10. sib number differ solut minimum number chang singl step zero. comput result valid indices. 0,15 0,20 0,25 0,30 0,35 0,40 0,45 0,50 1,00 1,10 1,20 1,30 1,40 1,50 1,60 1,70 1,80 1,90 2 3 4 5 6 7 8 9 10 d n, s ilh ou et te d av s- bo ul di n number cluster em: davies-bouldin km: davies-bouldin sib: davies-bouldin em: dunn km: dunn sib: dunn em: silhouett km: silhouett sib: silhouett figur 3. index valu differ cluster algorithm cluster valid valu work dai depict figur 3. clear elbow indic drop davies-bouldin-index peak dunn und silhouett identifi em-algorithm 5 clusters. accord elbow criterion, sib yield best cluster k = 5. comparison cluster algorithm show em outperform sib km. cluster valid indic determin cohes separ clusters, interpret cluster needed. result discuss follow section. 4.3. tempor spatial valid cluster accord hypothesis, daili bike activ depend station location. thus, result em algorithm cluster tempor spatial validated. follow valid conduct close consult oper bss. centroid cluster tempor valid clusters. centroid repres averag point space cluster. activ stations, centroid averag pickup return proport singl hour station belong cluster. centroid depict figur 4. blue cluster station averag 6% total daili return occur 8 9 a.m., example. patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 521 figur 4. activ pattern pickup return daili cours work dai differ pattern tempor pickup return activ station distinguished. better understand cluster label accord daili pickup return patterns: 16 station assign cluster return morn pickup even (rmpe). station higher return activ morn compar pickup activ (6 % vs. 2 %). evening, pickup activ slightli higher return activity. cluster pickup morn return even (pmre) consist 13 station featur opposit pattern. morn return activ time higher pickup activ return activ domin even hours. 12 station cluster activ night pickup morn (anpm) show highest activ cluster nighttime. morn activ slightli increas compar pmre. biggest cluster 19 station label avg reflect averag pickup return activities. averag activ stations, outcom similar pattern cluster. cluster activ daytim (ad) smallest cluster 3 stations. cluster pickup return activ domin cluster daytime. help cluster algorithm station group accord tempor activities. locat plan purpos necessari examin activ depend spatial factors. cluster geograph distribut visual figur 5. station cluster tend locat neighbor areas. exploratori analysi cluster surround lead follow findings: blue rmpe station locat inner citi area offer high number work place compar district (vienna statist yearbook, 2009). support assumpt worker us citybik commuting. tourist attract citi center. tourist worker caus high pickup return activ even hours. middl cluster rmpe lai station 1021 orang ad cluster. citybik tourist card hand near station. ad station locat near famou tourist attract castl schoenbrunn southwest prater carniv northeast. confirm high daili low nightli activ station caus tourists. station night activ red anpm cluster tend locat edg network close citi center. example, popular night club bar lai immedi vicin station 1041 falkostieg 1042 pilgramgass caus high nightli activity. cluster pmre show similar activ pattern anpm, activ morn evening. green station locat peripheri residenti buildings. avg station randomli spread network, occur small groups. reason spatial factor overlap stations. 522 patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 figur 5. geograph distribut cluster (aerial view citi vienna) present find spatio-tempor analysi reason certain pickup return activ bike station complex diverse. presumpt activ pattern station locat correl promis accord result geo bi process. investig station surround need fulli support hypothesis. 5. conclus outlook bss enhanc inner-c public transport options. ensur high bike avail crucial accept systems. one-wai us short rental time imbal spatial distribut bike occur. measur allevi imbal suitabl locat plan bike station or. geo bi process present gain insight complex bike activity. lead better hypothes bss structur increas effectiveness. hypothes bike activ demand custom depend station locations. help geo bi, exploratori cluster analysi ride data reveal spatio-tempor depend pickup return activ pattern bike stations. support state hypothesis. futur research, custom profil cluster station accord locat factor determin aim support hypothesis. ride data adequ process incorpor locat plan models. acknowledg thank gewista werbegesellschaft m.b.h. provid data project citybik wien discuss relat issu results. refer abonyi, j. & feil, b. (2007).cluster analysi data mine identification. birkhus verlag ag. berkhin, p. (2006). survei cluster data mine techniques. in: group multidimension data. 25 71. patrick vogel et al. / procedia social behavior scienc 20 (2011) 514523 523 borgnat, p., robardet, c., rouquier, j.-b., abry, p., fleury, e. & flandrin, p. (2010). share bicycl city: signal process data analysi perspective. demaio, p. (2009). bike-sharing: history. impacts. model provision. future. in: journal public transportation. vol. 12. no. 4. 2009. fayyad, u. m., piattetsky-shapiro, g., smyth, p. (1996). data mine knowledg discovery: overview. in: fayyad, u. m., piatetsky-shapiro, g., smyth, p., uthurusamy, r. (ed.): advanc knowledg discoveri data mining. aaai press, menlo park, 1 34. feix, c. (2007). bedeutung von "geo busi intelligence" und geomarket zur entscheidungsuntersttzung unternehmerisch planungsprozess im kontext wirtschaftlich liberalisierung. freie universitt berlin. froehlich, j., neumann, j. & oliver, n. (2008). sens predict puls citi share bicycling. (proceed intern workshop urban. community. social applic network sens systems). han, j. & kamber, m. (2006). data mining: concept techniques. morgan kaufmann. san francisco. jain, a. k. & dubes, r. c. (1988). algorithm cluster data. prentice-hall. kaltenbrunner, a., meza, r., grivolla, j., condina, j. & banchs, r. (2010). urban cycl mobil patterns: explor predict trend bicycle-bas public transport system. pervas mobil computing. 6(4). 455466. lin, j.-r. &yang, t.-h. (2011). strateg design public bicycl share system servic level constraints. transport research e: logist transport review 47 (2), pp. 284294. meisel, s. & mattfeld, d. c. (2010). synergi oper research data mining. european journal oper research. 206(1). 1 10. midgley, p. (2009). role smart bike-shar systems. in: urban mobility. journeys. may. 23 31. pinkofsky, l. (2006). typisierung von ganglinien der verkehrsstrk und ihr eignung zur modellierung der verkehrsnachfrage. dissertation. technisch universitt carolo-wilhelmina zu braunschweig. institut fr verkehr und stadtbauwesen. salhi, r. & rand, g. k. (1989). effect ignor rout locat depots. european journal oper research 39 (1989). 150 156. shaheen, s., guzman, s. & zhang, h. (2010). bikeshar europe. americas. asia: past. present future. transport research record. slonim, n., friedman, n. & tishby, n. (2002). unsupervis document classif sequenti inform maximization. in: beaulieu. m. (ed.): sigir 2002. tampere. finland. 129 136. tan, p.-n., steinbach, m. & kumar,v. (2006). introduct data mining. pearson addison-wesley. vienna statist yearbook (2009). zahory, m. n. (2009). tender bss arlington. www.metrobike.net/index.php?s=file_download&id=18.