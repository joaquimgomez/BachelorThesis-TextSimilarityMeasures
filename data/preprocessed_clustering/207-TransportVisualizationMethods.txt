visual analyt bike-shar data base tensor factor regular paper yuyu yan yubo tao jin xu shuilin ren hai lin visual analyt bike-shar data base tensor factor received: 31 august 2017 /accepted: 30 novemb 2017 / publish online: 10 februari 2018 visual societi japan 2018 abstract bike-shar system grown tremend worldwid recent years. understand user activ urban area invaluable, especi bike rebal urban planning. however, difficult directli captur user activ pattern bike-shar data spars discontinu characteristics. recent years, method explor visual user activ patterns. previou method focus visual present tempor spatial distri- bution directly. paper, construct tensor base spatial, temporal, user inform bike-shar data, emploi tensor factor extract latent user activ patterns. facilit user analyz understand patterns, visual analyt design interact explor pattern spatial, temporal, user dimens compar pattern in/between cities. demonstr effect case studi real-word datasets. keyword bike-shar system visual analyt tensor factor 1 introduct promot environment sustainability, bike-shar system wide deploi 700 citi worldwide, new york, paris, beijing. bike-shar servic bicycl avail share us individu short term basis. bike-shar scheme allow peopl borrow bike station return station b. bike-shar system offer environ friendli solut first-and-last mile connect short long distanc destinations. addi- tion, conveni user transfer nearbi places. example, user check bike ride destin get subway. meanwhile, good wai avoid jams. bike-shar usual user commuting, recreation, shopping. check out/ y. yan y. tao (&) j. xu s. ren h. lin state kei lab cad&cg, zhejiang university, hangzhou, china e-mail: y. yan e-mail: j. xu e-mail: s. ren e-mail: h. lin e-mail: j vi (2018) 21:495509 bike, user requir swipe radio-frequ identif card. gener record, consist start/end station, start/end time, ride time, bike id, user id. bike-shar find difficult meet demand users, bike usag skewed, chang time locations. consequently, station bike avail users, station return piles. thus, bike-shar face challeng bike rebal stations. bike-shar data, explor user activ patterns, help guid bike station placement bike schedule. moreover, studi urban structur pattern bike-shar data, import urban planning, avoid traffic congestion. bike-shar data mixtur user activ patterns, infer latent user activ pattern analyz bike-shar data. however, user activ pattern explicit, dynam context-dependent. us latent user activ pattern challeng bike-shar data. work exploit latent activ pattern bike-shar data. chen et al. (2015) detect bike usag anomali bike station tempor infor- mation, aggreg anomali spatial distanc stations. propos tensor cofactorization-bas data fusion framework chen et al. (2016) detect urban event bike-shar data foursquar check-in data. activ pattern simpli present heat map, line chart word clouds. provid interact visual analyt assist user explor patterns, consid user inform bike-shar data. wood et al. (2011) propos visual origindestin maps, flow map grid view bike demand trend time space. easi analyz tempor spatial distribut entir data, difficult user latent activ pattern global distribution. paper, propos interact visual analyt design explor latent user activ pattern bike-shar data compar pattern in/between cities. discov latent user activ patterns, construct tensor captur spatial, temporal, user inform bike-shar data, decompos tensor latent user activ patterns. way, discov spatial, tempor user pattern simultaneously. hard determin number patterns, hierarch cluster pattern spatial, temporal, user dimensions, respec- tively. facilit user explor similar patterns. assist user under- stand explor latent user activ patterns, design multipl coordin view visual spatial, temporal, user dimensions, similar patterns. particular, main contribut paper follows: propos tensor model repres bike-shar data introduc tensor factor method captur latent activ pattern bike-shar data. visual spatial, temporal, user dimensions, design multipl coordin view analyz latent user activ pattern compar differ patterns. develop interact visual analyt leverag activ analysi algorithm visual techniqu assist user explor latent user activ pattern effectively. 2 relat work work relat tensor factorization, user activ analysis, trajectori data visualization. 2.1 tensor factor tensor factorization, introduc hitchcock (1927), regard gener matrix singular valu decomposit (svd) matric tensors. base work hitchcock, tucker (1966) propos tucker decomposition, decompos tensor set matric small core tensor. later, carrol et al. carrol chang (1970) harshman harshman (1970) propos candecomp parafac decomposition, respectively, decompos tensor linear combin finit rank-1 tensors. tensor factor wide recommend systems, data compress signal processing, etc. kolda bader kolda bader (2009) provid survei high-ord tensor factorizations, applications, avail softwares. 496 y. yan et al. 2.2 user activ analysi user activ analysis, research exploit differ type digit footprints. location-bas social network (lbsn) user activity, liang et al. (2013) model size, duration, tempor dynam short-liv crowd form user activities. however, user-contribut lbsn data noisi incomplete. zhang et al. (2015) extract human flow dynam taxi trace propos probability-bas method detect happen time, venu scale event abnorm user activities. taxi trace repres user activities. short trips, peopl like ride destinations. chen et al. (2015) propos two-phas framework identifi social activ urban activ center base bike-shar data detect bike usag anomali bike station. addition, research tensor explor user activities, discov spatial tempor pattern simultaneously. wang et al. (2014) propos order-3 tensor model base origin area, destin area time domain taxi trajectori adopt tucker decomposit discov spatial clusters, tempor pattern relat simultaneously. yang et al yang et al. (2015) emploi non-neg tensor factor collabor infer tempor activ prefer- enc lbsn. chen et al. (2016) propos tensor cofactorization-bas data fusion framework fine- grain urban event detect bike-shar data foursquar check-in data. construct crowd mobil tensor bike-shar data spatial tempor dimensions. paper, consid user attributes, differ kind user differ user activities. develop visual analyt help user better explor understand activ patterns. 2.3 trajectori data visual directli draw trajectori data basic visual method, includ polygon line visual trajectori liu et al. (2011), describ spatial tempor featur timelin wang yuan (2014), har parallel coordin visual multi-dimension aspect trajectori guo et al. (2011). trajectori large, spatio-tempor aggreg visu- aliz suitable. reduc visual clutter uncertainti discontinu trajectories. andrienko et al. (2012) util visual analyt method explor understand tempor variat spatial situat deriv episod movement data mean spatio-tempor aggregation. better visual dens many-to-mani flows, yang et al. (2017) design maptrix combin origin destin matrix flow map representations, overcom clutter associ tradit flow map, provid geograph embed miss standard origindestin matrix repre- sentations. jiang et al. (2015) design visual analysi big taxi o/d data heat map view, circular pixel graph, spatio-tempor stack graph nest pixel bar. similarly, lu et al. (2016) pre- sent visual analysi explor origindestin pattern interest region base taxi trajectories. bike-shar data, wood et al. (2011) present visual method hire bicycl us travel pattern london bicycl system. design studi visual techniqu bike- share system describ wood et al. (2004). moreover, work visual activ pattern trajectori data data mine algorithm (such pca, bayesian networks) discov latent patterns. wang et al. et al. (2013) propos traffic jam propag graph extract deriv traffic jam information, form high-level descript traffic jam propag time space. present multipl view visual explor analyz urban traffic congestion. liu et al. (2017) present interact visual analyt deal problem formul solut immedi compar rapidli billboard place- ments. extract semant inform gp trajectories, chu et al. (2014) transform taxi trajectori document consist taxi travers street names, taxi topic maps, topic routes, street cloud parallel coordin visual probability-bas topic inform extract topic model. dohuki et al. (2017) present method manag visual taxi trajectori data intuitive, semant rich, effici mean textual transform process. liao et al. (2015) propos semantic-enhanc interact visual system, categor daili activ suspect differ semant type connect trajectori data transact data. addition, wu et al. (2017) util non-neg matrix factor (nmf) extract latent activ pattern type heterogen mobil data (taxi trajectories, metro passeng radio-frequ identif card data, telco data). chen et al. (2015) provid overview relat data process techniques, summar exist method depict temporal, spatial, numerical, visual analyt bike-shar 497 categor properti traffic data. understand multipl aspect activ patterns, tensor model base spatial, temporal, user inform bike-shar data. thus, spatial tempor dimensions, visual analyt support visual explor user inform activ pattern comparison pattern in/between citi (fig. 1). 3 overview bike-shar data contain trip record consist start/end station, start/end time, bike id, user id. base global statist bike-shar data, extrem hard unintuit user discov user activ pattern hidden data, activ pattern explicit multipl stations, dynam time, depend users. user activ affect location, time user type. example, bicycl like vehicl eating, shop get work downtown 7 oclock evening. hence, analyz user activ pattern aspect space, time user. number pattern larg user pattern similar, help provid hierarch structur pattern users. thus, user brows organ structur patterns. accord requir above, follow task system: t1: activ pattern extract bike-shar data contain mixtur user activ patterns. user activ affect location, time user type. so, construct suitabl model aspect infer latent user activ pattern bike-shar data. pattern captur user activ comprehensively. t2: activ pattern understand user abl captur activ patterns. inform contain spatial, tempor user dimensions. moreover, user easili quickli understand pattern distribu- tion pattern representations. t3: pattern comparison obtain latent user activ patterns, necessari comput similar pattern organ patterns, user know pattern contain bike-shar data effectively. fig. 1 overview , ag distribut view displai ag distribut bike records. b pattern relat view visual hierarch cluster result pattern dimension. c control panel provid set oper users. d map view present overview spatial distribut bike-shar data patterns. e pattern time view illustr tempor distribut patterns. f stack view show tempor distribut week differ ages. g dashboard view present ag distribut pattern 498 y. yan et al. addition, better understand pattern compar interest pattern aspect space, time user. task mind, visual analyt pipelin shown fig. 2. accord task t1, analyz user activ pattern aspect space, time user. thus, construct tensor base spatial, tempor user dimensions. meanwhile, tensor factor discov spatial, temporal, user pattern simultaneously, consid relationship dimension. latent user activ pattern dimensions. provid multipl coordin view visual spatial, temporal, user distribut pattern (t2), user easili captur activ pattern bike-shar data. task t3, hierarch cluster extract pattern spatial, temporal, user dimension, respectively, visual hierarch cluster tree provid hierarch structur assist user brows patterns. 4 activ pattern extract section, construct tensor bike-shar data us tensor factor extract latent user activ pattern bike-shar data. 4.1 tensor construct bike-shar data record compos start/end time, start/end station, bike id, user id. obtain user inform record accord user id. consid bike record flow, flow start station flow end station. extract activ patterns, need suitabl data structur repres bike flow. analyz relationship discret attribut (for example, spatial temporal), matrix commonli choice. however, user fig. 2 visual analyt pipelin latent user activ pattern bike-shar data. mainli contain data analysi modul visual analyt modul fig. 3 outflow adjac station region. map view. select region contain station station b. b outflow station. c outflow b station. d outflow region visual analyt bike-shar 499 activ affect locat time, user themselves. thus, introduc tensor model relationship spatial, tempor user dimensions. spatial dimension, bike station distribut eac street city. influenc adjac stations, conting bike usag station. fig. 3 show number outflow adjac station b new york week. differ station large, hard discov tempor pattern. fig. 3d, bike outflow region period regularli chang time, outflow rel stable. difficult period trend singl station, highli dynam context-dependent. user usual select station near start point/destin loan/return bike, user station nearbi loan/return bike station full. affect station, region station. thus, us region instead station spatial dimens tensor. adopt spectral cluster algorithm divid area citi multipl regions. cluster consid neighbor relat geograph space, bike flow stations. therefore, similar station combin geograph distanc bike flow vector distanc follows: di; j w disti; j 1 w cosfii;fij cosfoi;foj 1 fii foi inflow outflow vector station i, distanc flow vector measur cosin distance. dist (i, j) geograph distanc stations. standard station posit flow remov mean scale unit variance. w weight balanc geograph distanc flow vector distance. station region close other, paramet w set 0.7 paper. valu balanc geograph distanc bike flow vector distanc well. number region great impact activ pattern extraction. number region increases, region area smaller, random increases, dimens tensor larger. thus, number region 50 implementation. cluster region new york chicago shown fig. 4(a)(b). tempor dimension, adopt hour time interval, mainli focu user daili activ pattern bike-shar data. user behavior usual stochastic, time interv minut second. thus, useless measur sustain activ granular second minute, user activ periodical. paper, explor period user activ regular week. so, period paper week, tempor rang tensor 1 week, i.e., 168 h. user dimension, public bike-shar data usual provid user inform privacy. birthdai usual provid public bike-shar data, new york chicago. thus, fig. 4 cluster result bike station bike spatial distribut loan activ summer. cluster result bike station new york. b cluster result bike station chicago. c bike spatial distribut new york. d bike spatial distribut chicago 500 y. yan et al. us user ag record dimens tensor, limit ag rang 16 80 year old. thus, choos region, hour, ag spatial, temporal, user dimension, respectively. spatial dimension: cluster bike station nr region r r1; r2; :::; rnr , nr 50 implementation.. tempor dimension: divid week hour t t1; t2; :::; tnt , nt 168. user dimension: select ag user dimension. limit ag scale 16 80 year old a1; a2; :::; ana , na 65. base dimensions, construct order-3 tensor x 2 rnrntna . summar number bike loan/return region ri, time tj ag ak, sum valu x(i, j, k), i.e., activ ith region, jth time interv ag 16 k. 4.2 tensor factor bike-shar data mixtur basic patterns, difficult extract us inform mixtur pattern directly. relationship spatial, tempor ag dimension, usual error-pron directli extract activ pattern accord dimension. tensor factor decompos tensor low-rank latent factors, consid relationship dimensions. illustr fig. 5, factor rank-k matrix, k denot number latent patterns. thus, obtain region factor r 2 rnrk , time factor t 2 rntk , ag factor 2 rnak . sum- mari bike-shar data non-negative, emploi non-neg tensor factor method candecomp (cp) decompos tensor x follows: bx b; r rt ta 2 n denot mode-n tensor product matrix. core tensor b; dimens k k k handl correl differ factors. sake simplicity, set b; diagon tensor. b; 1; br bt ba 0; ( br , bt, ba indic dimens tensor b;, b; element tensor b;. tensor b; diagon tensor, valu element bx repres as: bxr;t;a xk k1 rr; k tt; k aa; k 3 words, bx approxim repres sum number basic patterns: bx xk k1 bx k xk k1 rk tk ak 4 x gi rregion k o k t o k fig. 5 tensor factor visual analyt bike-shar 501 rk kth dimens region factor r, tk kth dimens time factor t, ak kth dimens ag factor a. bx k kth basic pattern. cp tensor decomposition, obtain k basic patterns, correspond set user activities. basic pattern repres cross product factors. 4.3 pattern hierarch cluster number k basic pattern select root-mean-squar error (rmse). number basic pattern larger, valu rmse smaller. rmse ffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi p bxr; t; xr; t; 2 x v u u t 5 usually, select larg number k better captur activ patterns, difficult user similar differ pattern k large. discov relationship patterns, emploi hierarch cluster algorithm dimens patterns. pattern bx k , us rk, tk, ak compon user activ prefer region, time age. example, gener time similar pattern, accord tempor dimens patterns. normal tk pattern: xnt t1 tt; k 1 6 normalization, consid tk time distribut patterns. peak distribut closer, distribut similar. example, distribut peak noon. consid distribut similar, matter valu peak vari greatly. jensenshannon diverg kl diverg suitable. valu tk non-neg normalized, defin distanc pattern follows: d0k1; k2 1 xnt t1 mintt; k1;tt; k2 0\k1; k2\ k 7 calcul overlap interv time distribut measur similar time distributions. similar way, calcul distribut distanc spatial ag dimensions. 5 visual design base extract latent user activ patterns, design visual analyt visual explor compar latent user activ patterns. global distribut bike-shar data pre- sent provid overview. hierarch structur pattern dimens facilit user select pattern interest. spatial, tempor user factor activ pattern displai detail analysi comparison. shown fig. 1, user interfac consist set views, includ (1) ag distribut view displai ag distribut bike-shar data; (2) pattern relat view visual hierarch cluster result pattern assist user brows patterns; (3) map view illustr urban area studied, bike station position, spatial distribut entir data patterns; (4) pattern time view show tempor distribut patterns. (5) stack view present tempor distribut week differ ages. (6) dashboard view show ag distribut pattern. 5.1 global view global view contain map view, ag distribut view, stack view. view global attribution. ag distribut view shown fig. 1a, horizont axi ag vertic axi bike loan/return amount. stack view show quantiti bike flow week 502 y. yan et al. differ ages. encod stack graph, fig. 1f shown. color stack bar relat ag light green dark green, similar color leav life cycle. pattern selected, map view show number bike flow region heat map. 5.2 pattern relat view obtain multipl activ pattern bike-shar data tensor factorization. usual select larg latent activ pattern number k, necessari adapt hierarch cluster organ pattern hierarch structure. help user brows pattern interest patterns. addition, select sunburst graph visual hierarch cluster result, shown fig. 1b. us space better repres hierarch structure. color outer ring correspond pattern color pattern time view. color inner ring relat hierarchy, interior exterior. hierarch cluster base dimens patterns, temporal, spatial, user dimension. so, user select dimens pattern explor correspond hierarch cluster result. relationship activ patterns, user select pattern sunburst graph. node selected, pattern associ node ad select patterns, view updat displai spatial, tempor ag distributions. 5.3 activ pattern view pattern obtain tensor factor dimensions. explor dimens intuitively, design multipl coordin view spatial, tempor ag dimensions. 5.3.1 spatial dimens map view displai geograph inform openstreetmap openstreetmap contributor (2017). bike-shar data contain bike record information, includ geograph posit bike stations. thus, displai station point map. region cluster sect. 4.1 encod differ colors. heat map show activ distribut region. analyz station region, allow user select interest region. region select polygon clicking. station select region label red color. border select region encod blue color, interior region fill light blue. accord select region, comput inflow outflow station region. shown fig. 2a, horizont axi user age, vertic axi number records, orang line repres number loan records, blue line repres number return records. chart, bike usag trend age. moreover, provid heat map displai outflow select region accord record interior station stations. 5.3.2 tempor dimens pattern time view illustr tempor distribut patterns, shown fig. 1(e). time import factor patterns. activities, commut eating, obviou time charac- teristics. pattern, time characterist weekdai weekend great difference. hence, select week time rang present tempor dimens patterns. tempor dimens pattern encod curv lines. horizont axi repres 168 h week. vertic axi normal valu tk. color curv correspond color pattern. left pattern time view pattern list. user select pattern checkbox pattern list. addition, previou select pattern list. 5.3.3 user dimens user dimension, design dashboard view, shown fig. 1g. dashboard repres ag distribut pattern. user ag increas clockwis direction, label ag tick dashboard. color map user ag like green leaf life cycl chang light green dark green, stack view. bar inner ring show ag distribut value, visual analyt bike-shar 503 obtain normal k dimens ag factor ak. color circl center correspond pattern color. 5.4 interact provid user rich interact navig data comprehens analysis. support follow interactions: merging: user select singl pattern multipl pattern detail analysi visual com- parison. tensor factor perfect. thus, similar pattern combin process analysis. example, fig. 6 show pattern time view pattern 1 pattern 2, tempor distribut pattern same. result, combin pattern group merg operation. filtering: allow user select pattern hierarch structur pattern pattern relat view. moreover, offer brush oper select time rang tempor dimens pattern time view. user select time rang time axis, updat view accord select time range. provid filter oper user dimens ag slider. user select region discuss sect. 5.3.1. summary, support filter region, time, ag pattern. highlight: hover mous node sunburst graph, upper layer node highlight pattern node displai views. zoom panning: zoom pan support map view. user scroll mous wheel zoom drag mous pan good view map. 5.5 implement base browser/serv mode, easier share access. server implement java servlet framework. browser side, us bootstrap web framework queri implement control. visual module, us d3 bostock et al. (2011) implement user interfac map creat leaflet library. 6 case studi dataset demonstr effect system: new york chicago public bike- share data. time divid stages: summer juli 2015 septemb 2015, winter decemb 2015 februari 2016. stage record 84 days. record contain start/end time, start/end station, bike serial number, user id. select record user ag 16 80 year old. number public bike station new york 2015 460. station cover main area new york. accord distanc flow similar stations, cluster station 50 clusters. data contain 2,708,624 record summer, 1,874,477 record winter. number public bike station chicago 475, number record 947,563 summer. case study, select outflow station tensor construction. words, analyz user rental activity. fig. 6 pattern oper 504 y. yan et al. 6.1 global distribut provid pattern analysis, global analysi bike-shar data. emploi heat map spatial distribution. fig. 4c, d show number bike outflow new york chicago summer. figure, main check-out area new york manhattan transport hub near manhattan. main region chicago near ogilvi transport center, humboldt park lake. stack view fig. 2b provid overview bike activ ag time, number rental record weekdai increas 7 10 6 oclock evening. infer user ride bike commut weekdays. weekends, user probabl ride bike outside. thus, number record increas morn decreas evening. bar lower layer repres younger users, label gradient colors. user bike-shar young people. 6.2 pattern analysi new york select summer data new york first. fig. 1b show hierarch structur pattern accord tempor dimension. hover mous node sunburst graph analyz distribut patterns. discov pattern roughli divid weekdai morn patterns, weekdai nightfal patterns, weekdai alldai patterns, weekend patterns. weekdai morn patterns: fig. 1e show tempor distribut weekdai morn patterns, peak pattern weekdai 6 9 oclock, littl peak nightfall. map view fig. 1d, main area pattern cover area manhattan traffic routes. user dimens (fig. 1g), user ag wide distribution, mainli concen- trate 32 56 year old. pattern relat working. weekdai nightfal patterns: fig. 7a displai weekdai nightfal pattern new york. common characterist pattern peak appear near 6 oclock even weekday. ag distribut pattern 24 64 year old. but, ag distribut fourth pattern mainli 24 32 year old. seen map view main area pattern near rout transport hubs, subway. thus, infer pattern relat peopl work. weekdai alldai patterns: pattern shown fig. 8 bike record day. larg number record morn nightfall. also, small number record noon. main area pattern distribut near subwai stations, park, etc. ag distribut ages. main area pattern near grand central terminal, pattern b near pennsylvania station new york, pattern c near washington squar d near time square. main user ag pattern d 24 32 year old, pattern larger 32 year old. infer pattern contain kind activities: get trains, shopping. weekend patterns: weekend pattern bike-shar data, shown fig. 9. tempor distribut valu weekend larger weekdays, rental activ dai weekends. user dimension, user young people. geograph locat near central area citi park area. compar distribut new york summer, area winter concentrated, fig. 7 weekdai nightfal pattern (a) new york summer (b) chicago summer. visual analyt bike-shar 505 fig. 8 weekdai alldai pattern new york summer fig. 9 weekend pattern (a) new york summer (b) new york winter (c) chicago summer 506 y. yan et al. shown fig. 9b. infer user activ concentr activ cold weather snow roads. special patterns: special pattern summer data new york. shown fig. 10a, ag distribut pattern concentr 20 year old, spatial distribut near washington squar accord heat map. near new york univers washington university. pattern time view fig. 10a, differ rental trend dai small. addition, rental activ day. flow smaller weekends. hence, infer user area ride class parks. discov pattern new york demonstr approach effect extract latent activ patterns, visual analyt clearli show relationship pattern detail spatial, temporal, ag distribut information. 6.3 user activ differ citi compar user activ differ cities, select public bike-shar data chicago new york. aspect climate, chicago new york belong temper zone. user activ affect cold weather, select summer data period. brows pattern chicago accord pattern relat view (fig. 2d). similar hierarch structur pattern cities. weekdai morn patterns, weekdai nightfal patterns, weekdai alldai patterns, weekend patterns. fig. 7b show weekdai nightfal pattern chicago. map view, region univers illinoi chicago, region b west loop gate. larg station regions. similar new york. however, ag distribut difference. ag distribut mainli 24 40 year old dashboard view chicago. weekend patterns, new york chicago similar spatial, temporal, ag distributions. addition, special pattern new york appear chicago. shown fig. 10b, user pattern mainli young people. area lincoln park, biggest park chicago. pattern similar fig. 10a new york dimension. summary, effect support comparison pattern in/between cities. fig. 10 special pattern (a) new york summer (b) chicago summer visual analyt bike-shar 507 7 conclus futur work present visual analyt investig user daili activ pattern base tensor factor bike-shar data. activ station dynam context-dependent, emploi spectral cluster group station regions. then, construct tensor base temporal, spatial, user dimens introduc tensor factor extract latent user activ patterns. better captur relat patterns, adopt hierarch cluster cluster patterns. then, design pattern relat view base sunburst graph visual relat patterns. provid structur pattern help user brows patterns. addition, develop multipl coordin view analyz compar activ pattern in/between cities, pattern time view, dashboard view map view. finally, demonstr effect case studi public bike-shar data new york chicago. bike-shar data perfectli repres user activ pattern city. plan fuse differ data, taxi data social media data. data, construct suitabl tensor repres it, emploi tensor cofactor captur latent user activ patterns. addition, tensor paper order-3 tensor. bike check-out activ bike check-in activities. next, plan studi activ simultaneously. extend tensor order-5 tensor base start time, end time, start station, end station, user ag better model user activities. addition, intend us user information, gender occupation. moreover, hierarch cluster pattern perfect. similar pattern cluster cluster. future, intend provid interact user adjust hierarch cluster result. acknowledg work partial support nation natur scienc foundat china no. 61472354 61672452, nsfc-guangdong joint fund no. u1611263, fundament research fund central universities. map data copyright openstreetmap contributor avail refer chen l, yang d, jakubowicz j, pan g, zhang d, li s (2015) sens puls urban activ center leverag bike share open data. in: 2015 ieee 12th intl conf ubiquit intellig comput 2015 ieee 12th intl conf autonom trust comput 2015 ieee 15th intl conf scalabl comput commun associ workshop (uic-atc-scalcom), p 135142 (2015). chen l, jakubowicz j, yang d, zhang d, pan g (2016) fine-grain urban event detect character base tensor cofactorization. in: ieee transact human-machin system wood j, slingsbi a, dyke j (2011) visual dynam london bicycle-hir scheme. cartographica 46(4):239251 hitchcock fl (1927) express tensor polyad sum products. j math phy 6(1):164189 tucker lr (1966) mathemat note three-mod factor analysis. psychometrika 31(3):279311 arrol jd, chang jj (1970) analysi individu differ multidimension scale n-wai gener eckart-young decomposition. psychometrika 35(3):283319 harshman ra (1970) foundat parafac procedure: model condit explanatori multi-mod factor analysis. ucla work paper phonet 16(1), 84 kolda tg, bader bw (2009) tensor decomposit applications. siam rev 51(3):455500 liang y, caverle j, cheng z, kamath ky (2013) big crowd?: event locat base popul model social media. in: proceed 24th acm confer hypertext social media, ht 13, p 99108. acm, new york zhang w, qi g, pan g, lu h, li s, wu z (2015) city-scal social event detect evalu taxi traces. acm tran intel syst technol 6(3):40:140:20 wang j, gao f, cui p, li c, xiong z (2014) discov urban spatio-tempor structur time-evolv traffic networks. springer, cham, pp 93104 yang d, zhang d, zheng vw, yu z (2015) model user activ prefer leverag user spatial tempor characterist lbsns. ieee trans. systems, man, cybernetics: system 45(1):129142 liu h, gao y, lu l, liu s, qu h, ni lm (2011) visual analysi rout diversity. in: 2011 ieee confer visual analyt scienc technology, vast 2011, providence, rhode island, p 171180 wang z, yuan x (2014) urban trajectori timelin visualization. in: intern confer big data smart computing, bigcomp 2014, bangkok, thailand, p 1318 guo h, wang z, yu b, zhao h, yuan x (2011) tripvista: tripl perspect visual trajectori analyt applic microscop traffic data road intersection. in: 2011 ieee pacif visual symposium, p 163170 andrienko n, andrienko g, stang h, liebig t, hecker d (2012) visual analyt understand spatial situat episod movement data. ki - kunstlich intelligenz 26(3):241251 yang y, dwyer t, goodwin s, marriott k (2017) many-to-mani geographically-embed flow visualisation: evaluation. ieee tran vi comput graph 23(1):411420 jiang x, zheng c, tian y, liang r (2015) large-scal taxi o/d visual analyt understand metropolitan human movement patterns. j vi 18(2):185200 508 y. yan et al. lu m, liang j, wang z, yuan x (2016) explor od pattern interest region base taxi trajectories. j vi 19(4):811821 wood j, beecham r, dyke j (2014) move sequenti design: reflect rich multi-channel approach data visualization. ieee tran vi comput graph 20(12):21712180 wang z, lu m, yuan x, zhang j, van weter h (2013) visual traffic jam analysi base trajectori data. ieee tran vi comput graph 19(12):21592168 liu d, weng d, li y, bao j, zheng y, qu h, wu y (2017) smartadp: visual analyt large-scal taxi trajectori select billboard locations. ieee tran vi comput graph 23(1):110 chu d, sheet da, zhao y, wu y, yang j, zheng m, chen g (2014) visual hidden theme taxi movement semant transformation. in: 2014 ieee pacif visual symposium, p 137144 al-dohuki s, wu y, kamw f, yang j, li x, zhao y, ye x, chen w, ma c, wang f (2017) semantictraj: new approach interact massiv taxi trajectories. ieee tran vi comput graph 23(1):1120 iao zf, li y, peng y, zhao y, zhou ff, liao zn, dudlei s, ghavami m (2015) semantic-enhanc trajectori visual analyt digit forensic. j vi 18(2):173184 wu w, zheng y, cao n, zeng h, ni b, qu h, ni lm (2017) mobiseg: interact region segment heterogen mobil data. in: 2017 ieee pacif visual symposium (pacificvis) chen w, guo f, wang fy (2015) survei traffic data visualization. ieee tran intel transp syst 16(6):29702984 openstreetmap contributors: planet dump retriev (2017) bostock m, ogievetski v, heer j (2011) d3 data-driven documents. ieee tran vi comput graph 17(12):23012309 visual analyt bike-shar 509 visual analyt bike-shar data base tensor factor abstract introduct relat work tensor factor user activ analysi trajectori data visual overview activ pattern extract tensor construct tensor factor pattern hierarch cluster visual design global view pattern relat view activ pattern view spatial dimens tempor dimens user dimens interact implement case studi global distribut pattern analysi new york user activ differ citi conclus futur work acknowledg refer