pone.0074685 1..17 structur spatial network commun bicycl share system martin zaltz austwick1*, oliv obrien1, emanuel strano2, matheu viana3 1 centr advanc spatial analysis, univers colleg london, london, unit kingdom, 2 laboratori geograph inform systems, ecol polytechniqu federal lausanne, lausanne, switzerland, 3 instituto fsica sao carlos, univers sao paulo, sao paulo, brazil abstract bicycl share system exist hundr citi world, aim provid form public transport associ health environment benefit cycl burden privat ownership maintenance. citi provid research data journei (start end time location) take place bicycl share system. paper, emploi visualization, descript statist spatial network analysi tool explor usag cities, techniqu investig featur specif uniqu geographi each, uncov similar differ systems. journei displac analysi demonstr similar journei distanc citi sampled, (out)strength rank curv 50 stand citi displai similar scale law each. commun detect deriv network identifi local pocket use, spatial network correct provid opportun insight proximity/popular correl predict simpl spatial interact models. citation: zaltz austwick m, obrien o, strano e, viana m (2013) structur spatial network commun bicycl share systems. plo 8(9): e74685. doi:10.1371/journal.pone.0074685 editor: jesu gomez-gardenes, universidad zarazoga, spain receiv march 21, 2013; accept august 7, 2013; publish septemb 4, 2013 copyright: 2013 zaltz austwick et al. open-access articl distribut term creativ common attribut license, permit unrestrict use, distribution, reproduct medium, provid origin author sourc credited. funding: author support fund report. compet interests: author declar compet interest exist. * e-mail: introduct role smart citi increasingli seen incorpor technology, sustain qualiti life, bike share concept fit neatli rubric [1], combining, does, low-carbon lowpollut transporta- tion, sens technologies, share societ resourc public health benefit (especi respect kei issu obes [2]). sens humbl bicycl cut number kei issu 21 st centuri city, especi seen smart citi lens. bicycl share offer low-cost healthi public transport option citi world, typic allow user special bicycl autom dock point group stand dock station particular location. user return dock point stand locat city. approxim 450 system worldwid [3], provid near-real-tim data stand occupation, releas origin- destin (journey) information. literatur bicycl share system world take number differ approach rich dataset available. [4] explor subset london system journei data analys spatial tide city. [5] us stand occup data london cluster similar stand tempor behaviour, identifi railwai station-lik park-lik node system; work base stand occup data, consid flows. stand occup captur minute, busi time reason likelihood bike arriv leave, give inform net chang occupation. previou work [6] focus network analysi commun detect lyon bicycl share system, spatio-tempor characterist cluster network communities. argue, however, time-sl journei data need extrem cautiou convert journei (flow) edges. author circumv problem deal flow term number bike leav origin destin j timeslic k. repres number bike rout particular time (a journei finit length time complete), simplifi process convert journei edg weights. network theori branch empir scienc evolv graph theori short, examin system node (or vertices) connect wai edges. breadth definit seen appli system divers social networks, co-authorship networks, epidemiolog- ical patterns, internet, link world wide web, system review articl newman [7] and, technic detail, textbook [8] excel place start interest reader. earli work focus time-independent, unweighted, undirect (link reciproc directed), recent work introduc techniqu deal time-dependence, weighting, direct spatial factors. net- work theori produc number result identifi import node edges, examin scale import features, examin subcommun network. studi interest turn flow bike seri networks; consid journei period, creat network node bike stand locations, edg flow plo | www.plosone.org 1 septemb 2013 | volum 8 | issu 9 | e74685 direct stands, weight number journei carri edge. work [9] ship [10] subwai topolog wai gener network represent abstract flow geospati structur specif transport networks. us network method understand spatial system rel new phenomena [11] work telecommun network estab- lish practic measur mechan creat spatial null model real data test against. motiv spatial scale deriv analys waldo tobler law geographi [12]: relat else, near thing relat other. potenti network analys neglect spatial embed simpli highlight proxim effects. paper describ varieti techniqu us network spatial analysi understand flow bicycl share schemes, compar activ cities. data sourc preliminari method visualis data, cover inform deriv aggreg data, simpl spatial model counter variat activ densiti stands. creat flow network allow examin network paramet strength distribut (the total flow bike in, node), move simpl commun detect cluster analysi outflows. finally, basic spatial model highlight popular rout spatial commun detect identifi network link strongli spatial proxim stand activ suggest. rich rang literatur commun detect networks, exampl [13] [14], appli simpler methods; computationally, rang approach possibl network rel small (no 400 nodes). however, network appear spars tradit sense, requir differ approach network analysi tradition takes. network base individu journeys, raw network spatial, weighted, directed, time-depend (in term time day, week year), contain self-loop non- sparse. mean dataset amen wide rang analys aggreg simplification. commented, simplif necessari set self- journei loop (single-edg journei start end location) zero analyses, notabl spatial network commun detection. materi method data sourc dataset citi (london, uk; boston, ma; denver, co; minneapolis, mn; washington, d.c.) filter cover rang month (april-octob inclusive) order sampl correspond season effects. course, climat citi distinct different, resid northern hemispher summer occur approxim time year. scheme (denver, minneapoli boston) closur winter months, data avail limit report period. data taken 2011, except boston, drawn 2012 data (which cover march 2012 septemb 2012 inclusive) supplement octob 2011 data. tabl 1 displai summari statist dataset used. term total journei stands, london far active; london smaller averag minimum distanc stands, tend influenc proxim statist t b le 1 . s u m m ry st ti st ic s fo r sy st e m s e x p ss e d s ta l jo u rn e y s, il lu st ra ti n g th e v o lu m e s o f d ta st u d d . c y t o ta l [j o u rn e y s (j o u rn e y s p e r d y )] n o . o f c ti v e s ta n d s (a t e n d o f p e ri o d ) j o u rn e y s o n m o s t p o p u la r ro u te : [o v e ra ll (p e r d y )] m o s t p o p u la r s ta n d : tr ff ic [o v e ra ll (p e r d y )] m e n s ta n d tr ff ic p e r d y [t o ta l (% o f m x )] m x e x te n t [k m ] m e n m . s e p . [m ] l o n d o n 3 ,5 8 3 ,1 2 0 (1 6 , 8 2 2 ) 4 0 6 3 7 6 2 (1 7 .7 ) 6 4 ,7 7 3 (3 0 4 ) 4 2 (1 4 % ) 1 0 .6 3 5 0 b o st o n 4 7 3 ,2 4 0 (2 0 3 5 ) 9 6 2 0 5 0 (9 .6 ) 2 0 , 0 9 2 (9 4 ) 2 1 .2 (2 2 .6 % ) 8 .4 3 6 0 d e n v e r 1 6 8 ,5 1 7 (7 9 1 ) 5 2 1 ,1 4 9 (5 .4 ) 7 6 4 9 (3 5 .9 ) 1 5 .2 (4 2 % ) 9 .9 6 2 0 m n e p o li s 2 1 3 ,0 8 8 (1 0 0 0 ) 1 1 6 2 5 2 0 (1 1 .8 ) 9 ,6 6 3 (4 5 .4 ) 3 5 .9 (1 9 % ) 1 6 .5 8 0 0 w sh g n d .c . 9 0 3 ,1 5 0 (4 2 4 0 ) 1 1 9 3 ,0 6 1 (1 4 .3 7 ) 3 7 , 2 1 9 (1 7 4 .7 ) 3 5 .9 (2 0 .5 ) 1 4 .3 7 0 0 p e r- d y m e tr ic s (i n b ra c k e ts ) ls o sh o w n . d o i:1 0 .1 3 7 1 /j o u rn l.p o n e .0 0 7 4 6 8 5 .t 0 0 1 spatial network bicycl share system plo | www.plosone.org 2 septemb 2013 | volum 8 | issu 9 | e74685 below. scheme 213 dai data 150,000 journeys. visualis initi data exploration, explicitli visualis bike journei citi particular days. purpos visualis data output itself, begin identifi strong pattern larg volum sourc data. data point includ origin destin stand ids, start end time journey, id bike journey. however, bike location/gp sensors, precis rout inform available. creat theoret cycl rout stand, softwar package, routino, used, openstreetmap extract built-up area, includ dedic cycl infrastruc- ture road network path links. routino us configur profil user type. cyclist avoid motorwai rout constant speed 20 km/h, path step 5 km/h. road desir factor in, road type given score trunk road given score 35%, primari road 80%, smallest road 95%. cyclewai given score 100% reflect attract bicycl share users. road rout information, one-wai street turn restrictions, applied. routino gener seri latitude/longitud waypoint bike journeys, allow multi-stag linear interpol creat continu journei city. individu bike drawn small ellips current posit journeys. screenshot london [video s1 appendix 3 file s1] figur 1; similar plot gener boston [video s2 appendix 3 file s1] minneapoli [video s3 appendix 3 file s1]. here, semi-opaqu background wipe retain trail creat bicycle, provid sens continu trace street networks. self-journei repres trace orbit origin/destin stand time journei duration, disappeared. visualis anim specif day, aggreg multipl dai mont carlo-lik pictur behaviour e.g. weekdai [video s4 appendix 3 file s1] (see [15] complementari visualis tool). static network gener network system, count number bike source-destin pair report period. split data weekdai weekends, expect differ user pattern work (commuter) leisur user (which expect domin weekends). case, aggreg serv gener matrix source-destin flow volum label origin letter destin j; notabl typic contain strong diagon element (the self-journei mention previously, start end location). matrix thought lookup tabl total flow bike origin destin j, mathemat descript network wai visualis provid spatial geometr descript networks. label object have n node (columns/ rows). dataset rich complex, disaggreg time day, season, weekday/weekend, factor space. figur 2 shows, wai example, season variat durat journei washington d.c., term raw journei (figur 2a) data normal area curv (figur 2b). winter month distribut slightli shorter journeys, fewer journei whole. initi analys carri paper sum data number month order creat aggreg pictur network; analyz individu network drawn particular month and/or time dai illumin patterns. research london citi univers [16] consid seri techniqu visual complex system flow data, includ pseudomatrices, edg bundling, kernel densiti estimation-typ method bezier curves. adopt similar method bezier curv techniques, explicit size ordering, opac (alpha - opposit transparency) main weight variable, scale linearli 0 175 (out 255) edg weight rel maximum. creat visual grammar journei start straight line curv destination. repres complex dataset varieti citi varieti edg weight scale law involved, detail discuss scope paper; static visual network util bezier curv formal denot direct (subfigur b figur 312) circl stand denot self-journey; networks, popular routes. spatial depend - proxim rout gener anim visualis analysi purposes, judg build set assumpt rout choice, reasonable, infer inform available. crude measure, euclidean/great circl distanc free addit assumptions. self-journei problemat formulation, zero net displac indetermin journei length. amelior appli rout mechanisms, astronom number redund path close loop. examin typic journei distanc citi question. aggreg journei frequenc distanc travel divid total number journei yield initi estim journei frequenc function proxim (weekdai weekend data shown figur 13a 13b respectively). however, bike stand homogen distribut space, distribut function skew figur 1. screenshot bike flow anim decemb 25th 2010; rout routino base open streetmap data (see text). doi:10.1371/journal.pone.0074685.g001 spatial network bicycl share system plo | www.plosone.org 3 septemb 2013 | volum 8 | issu 9 | e74685 rout move sourc lot bike leav destin lot bike arriving. expect that, given maximum entropi alloc journei (i.e. assum littl prior knowledg possible), rout locat well-used, lead commensur over-represent separ figur 13(a-b). instead, wish probe individu propens travel locat certain proxim (assum constant distanc decai function order independ absolut start/end locat time), need decompos probability. defin spatial (proximity) model flow y (s) 1) y (s) ij ~oidjf (dij) yij (s) predict weight (i.e. number journeys) origin destin j, f(d) displacement- decai function repres peopl prefer travel figur 2. season depend journei durat washington, d.c. a) total journei month b) total journei month, normal area curve. doi:10.1371/journal.pone.0074685.g002 figur 3. network cluster map london. network gener total number source-destin flow report period, split weekdai weekends. commun detect carri sub-network well-linked, describ text. a) weekdai network b) weekend network c) commun detect weekdai network d) commun detect weekend network. red dot stand flow report period, typic active. doi:10.1371/journal.pone.0074685.g003 spatial network bicycl share system plo | www.plosone.org 4 septemb 2013 | volum 8 | issu 9 | e74685 destin displac d awai (note f(d) probabl yij (s) unit bike travel route, f(d) 1/bike unit). oi dj defin 2) oi~ xn j~1 yij 3) dj~ xn yij spatial interact model refer margin sums, network theory, out- in-strength node respectively. analog naiv graviti model, sophist approach problem construct maximum-entropi model introduc addit balanc factor (1). however, given unknown form spatial function f(d), figur 13(a-b) suggest complex form exponenti power-law decay. instead took approach favour by[11], construct empir distance-decai function f(d): 4) y (s)(d)~f (d) xn i,j,fdvdijvdzdd) oidj~f (d)r(d) y (s) (d) aggreg model flow journei associ displac d d+ dd (where dd chosen bin size). rearrang (4) yield distanc decai function f(d), shown 13(c-d) (for weekdai weekend respectively), normal area curv order compar differ cities. commun detect commun detect tool allow identif network subregion bikeshar flow network link strongli node subregions. simplest method term implement cluster- algorithm method [14], flow matrix treat seri column (or row) vectors; node judg belong commun link node similar (or simply, link nodes), case base euclidean similar measure. agglomer- ativ hierarch cluster method allow choic splits, import appli qualiti measur assess meaning cluster are. direct weight network describ yij, us following, usual call modular [17] [18]: 5) q~ 1 m xn i,j yij{ oidj m dcicj m sum edg weight network (the time- aggreg version equat (2)) kroneck delta act commun id node {ci} (follow [19]). oidj/m term repres aspati (directed) null model, hypothesi edg form proport outstrength {oi} sourc node instrength {dj} destin node. graph commun exist fact, number link commun identifi exactli global characterist network; modular commun close zero, total modularity. commun larg number link groups, preferenti factor link commun link figur 4. network cluster diagram boston, ma. a) weekdai network b) weekend network c) commun weekdai network d) commun weekend network. red dot stand flow report period, typic active. doi:10.1371/journal.pone.0074685.g004 spatial network bicycl share system plo | www.plosone.org 5 septemb 2013 | volum 8 | issu 9 | e74685 popular nodes; yij resembl null model, modular tend larg positive. modular select appropri number cluster city, provid measur meaning commun identifi are, independ method detect communities. discuss previously, self- journei set 0, avoid numer single-stand cluster appear result journeys. ward hierarch cluster algorithm implement standard matlab librari (linkag cluster methods) appli matrix defin mysql databas (tabl 3). spatial null model expert et al [11] extend model account likelihood that, node embed physical/geograph space, proxim in/outstrength dictat probabl linkag formed, interest research question linkag form spatial/ volum dependence. us spatial null model cluster -equivalently, form network scale spatial consider- ations, 6) tij~yij{i (s) ij ~yij{oidjf (dij) expect .0 node link strongli pure proximity/strength dictate. repres graphic figur 812 (subfigur a-b). here, blue indic posit valu red neg value, intens weight numer value. visual represent relat method residues, appli urban model thirti year - [20] provid overview creat link recent spatial network theory. figur 5. network cluster diagram denver, co. a) weekdai network b) weekend network c) commun weekdai network d) commun weekend network. red dot stand flow report period, typic active. doi:10.1371/journal.pone.0074685.g005 spatial network bicycl share system plo | www.plosone.org 6 septemb 2013 | volum 8 | issu 9 | e74685 possibl form cluster basi scale network, cluster analysi before. rescal edg weight allow rapid calcul modularity: 7) qscaled~ 1 m xn i,j tijdci ,cj us choos optimum number clusters/communities. result shown figur 812 (sub- figur c-d). again, self-journei set 0 distanc displac reason calcul journeys. result time depend network signific variat exist flow volum cours day; citi consid exhibit characterist trimod distribut weekdai (figur 14a), strong peak morn even rush hour commut periods, lunch times, contrast unimod peak domin weekend (figur 14b) infer hallmark tourist and/or leisur activities. defin departur vector base number bicycl leav stand hour-of-dai period destinations, creat hour-on-hour network. order determin distribut edg weight outstrength (here defin total number bike leav node time period) function time, us entropy, standard definition. entropi measur deriv statist physics, inform theory, understood level equal distribut dataset; high entropi correspond state entiti similar values, low entropi distribut valu unequal. system, entiti edg valu weight (or node outstrengths). edg equal weight, entropi tend maximum valu ln(1/n); edg weight zero, entropi minimum 0. time t edg weight distribut {yij(t)}, integ label origin, j integ label destination: 8) s(t)~{ x ij pij ln(pij)~{ 1 m(t) x ij yij(t)ln yij(t) m(t) 9) m(t)~ x ij yij(t) notably, entropi measur (not shown) vari +/ 10% cours day, equal distribut bike rout proport total bike time vari larg margin typic day. note detail particular rout popular chang time; entropi system measur relat individu edges. variat proport distribut bike origin stand vari figur 6. network cluster diagram minneapolis, mn. a) weekdai network b) weekend network c) commun weekdai network d) commun weekend network. red dot stand flow report period, typic active. doi:10.1371/journal.pone.0074685.g006 spatial network bicycl share system plo | www.plosone.org 7 septemb 2013 | volum 8 | issu 9 | e74685 (closer 4% london). similar calcul stand occup (not deriv datasets) yield larg variat entropi commut redistribut bike highli order state peak time (in london, tidal effect clear stand occup data - exampl [21]). spatial pattern london (figur 3) show mark concentr major commut station king cross waterloo weekdai data (figur 3a), station feed financi district east (and centre/west end) case king cross. mark differ weekdai (figur 3a) weekend (figur 3b), primarili de-emphasi financi district weekends, rel increas traffic west london hyde park area (the diamond-shap flow network left visualization). boston (figur 4), link north south station east citi strongest featur weekdai data (figur 4a); west citi (directli south river) fairli strong east-west flow (along commonwealth avenue, station high concentr boston univers locat metro stations). weekend (figur 4b), flow north south station dominant, consist relat commut behaviours. denver (figur 5) show uneven cluster stands, weak flow downtown area northwest map area east southeast link larg geograph separations. flow univers denver campu southeast citi import weekdai data (figur 5a) weekend (figur 5b), weekend self-journei relat stand popular journeys, suppress rout visualisation. minneapoliss weekdai flow (figur 6a) domin movement stand name social scienc kolthoff hall - investig reveal flow occur bridg connect halv univers minnesota twin citi (umn) campus, weekdai flow larg account student travel lectur classes. main appar differ figur 7. network cluster diagram washington, d.c. a) weekdai network b) weekend network c) commun weekdai network d) commun weekend network. red dot stand flow report period, typic active. doi:10.1371/journal.pone.0074685.g007 spatial network bicycl share system plo | www.plosone.org 8 septemb 2013 | volum 8 | issu 9 | e74685 weekend (figur 6b) flow disappears, relat teach activities; self-journei southeast citi dominates. washington dc (figur 7) show dramat usag chang weekend (figur 7b); weekdai weekends, washington d.c. (which li north network, rivers) separ geograph distant cluster arlington (south slightli west map) stand anacostia (southeast washington d.c. river) used. south arlington/pentagon citi weekend (figur figur 8. london spatial scale network communities. a) weekdai spatial network b) weekend spatial network c) commun weekdai spatial network d) commun weekend spatial network. network construct subtract spatial null model raw network data; network demonstr residuals, i.e. deviat real data null model. blue line repres flow larger predicted, red line repres flow smaller predicted. opac size line repres degre deviat null model, maximum deviat observ dataset shown complet opaque. doi:10.1371/journal.pone.0074685.g008 figur 9. boston spatial scale network communities. a) weekdai spatial network b) weekend spatial network c) commun weekdai spatial network d) commun weekend spatial network. doi:10.1371/journal.pone.0074685.g009 spatial network bicycl share system plo | www.plosone.org 9 septemb 2013 | volum 8 | issu 9 | e74685 figur 10. denver spatial scale network communities. a) weekdai spatial network b) weekend spatial network c) commun weekdai spatial network d) commun weekend spatial network. doi:10.1371/journal.pone.0074685.g010 spatial network bicycl share system plo | www.plosone.org 10 septemb 2013 | volum 8 | issu 9 | e74685 7b) week (figur 7a), consist predomin commuter-l usage. system similar distribut journei displac durat (13), despit differ climat spatial extents; tabl 2 summaris median travel durat stand proximities. weekdai data, denver show larger median travel distance, despit scheme larger spatial extent. scheme exhibit larger median proxim weekend apart london washington d.c., scheme increas median journei duration. notably, durat chang smallest washington d.c. london, suggest weekdai weekend behaviour similar cities. example, presenc hyde park cluster weekdai weekend london data point (figur 3) reinforc possibl leisur tourism user weekdai weekend periods. city, time-behaviour show consist proxim function, nonzero mode; make littl sens cycl short distanc (much 1km), function rise maximum decreas larger distances/times. network properti figur 15 show outstrength distribut {oi} systems; data divid maximum outstrength scheme, order compar directly. instrength combin strength (oi+di) equal displayed, aggreg time period oi,di (although obvious case instantaneously). figur displai rank/valu distribut [22] (which relat cumul frequenc distribution). london stand cities, exhibit mark long tail. surpris appar similar outstrength 50 stand weekdai data (inset, figur 15a). london, minneapolis, boston washington d.c. exhibit similar rank/outstrength distribut stands. weekend (inset, figur 15b), scheme appear similar, possibl except london, flatter distribut cities. power law fit plausibl dataset complex structur linear nonlinear regions. convincingli resembl log-norm distribution. rank edg weight shown figur 16 curv conform readili power law log-norm behaviour, curv impli quadrat depend log-edg weight log-rank. commun detect commun shown subfigur c-d figur 37. london weekdai data (figur 3c), broadli identifi group correspond central-east london (where financi servic tradition based), central-west (more associ retail), east west. cross river, weekend data (figur 3d) exhibit cluster appear form distinct geograph regions, divid river. boston, weekdai data (figur 4c) show distinct east- west split, possibl eastern region correspond commut civic financi district li northeast corner boston, time-analysi need elucid behaviour. weekend cluster (figur 4d) complex, central-south group commun northeast. denver (figur 5c-d), cluster shown demonstr geograph overlap; weekend data fragment 4 cluster distinct geograph character. figur 11. minneapoli spatial scale network communities. a) weekdai spatial network b) weekend spatial network c) commun weekdai spatial network d) commun weekend spatial network. doi:10.1371/journal.pone.0074685.g011 spatial network bicycl share system plo | www.plosone.org 11 septemb 2013 | volum 8 | issu 9 | e74685 minneapoli weekdai data (figur 6c) seri clusters, includ correspond univers campu area; cluster similar size northwest; larger group cover citi li predominantli east. larger group southwest centr link wedge, region minneapoli favour young professionals. so, cluster highlight commut wedg downtown, associ busi entertainments. weekend data (figur 6d) split citi 3; large, gener cluster; small southwestern cluster; centre/cbd. washington d.c. (figur 7c-d) show number complex geograph overlap communities. southeastern cluster (just north river) sit capitol hill area; cluster northwest close georgetown georg washington universities, link student movement. group appear weekend weekdai data. central cluster cover rang residenti commerci areas, difficult specul significance; repres commut behaviour peopl travel meetings. again, time-depend network analysi shed light this. spatial scale spatial commun detect trend strongli appar spatial scaled/residu network (subfigur a-b figur 8-12) edg citi centr expect red region occur centr cities. higher densiti stands, result traffic spread larger number potenti routes; graviti model incorpor codepend stand activ implicitli activ density, possibl correct function form simpl linear used. weekdai london (figur 8a), waterloo station predomi- nantli creat flow termin centre-east london, known city, financi servic industri based, flow perpendicular motion (i.e. northwest/ southeast) strongli under-represented. point figur 12. washington d.c. spatial scale network communities. a) weekdai spatial network b) weekend spatial network c) commun weekdai spatial network d) commun weekend spatial network. doi:10.1371/journal.pone.0074685.g012 spatial network bicycl share system plo | www.plosone.org 12 septemb 2013 | volum 8 | issu 9 | e74685 simplic assumpt built spatial interact model; accur model incorpor offic space job location. however, model need account user demograph land us sourc destin stands. weekdai weekend data (figur 8b) journei hyde park west over-represented, consist tourism leisur usage. larg flow waterloo king cross station believ figur 13. histogram journei city. probabl mass function journei function origin-destin separ d a) weekdai b) weekends; distanc decai function journei function origin-destin separ f(d), scale account variat proxim popular source/destin stand (see text) c) weekdai d) weekends; probabl mass function journei function journei durat e) weekdai f) weekends. doi:10.1371/journal.pone.0074685.g013 spatial network bicycl share system plo | www.plosone.org 13 septemb 2013 | volum 8 | issu 9 | e74685 commuter-driven flow notabl absent weekend data. spatial commun weekdai data (figur 8c) fairli distinct commun hyde park centr london smaller commun east south group. eastern commun contain financi district, point inter-busi transit. weekend spatial commun (figur 8d) complex pattern, retain group hyde park identifi new group west london. boston (figur 9a-b), flow western citi associ region boston univers (bu); week (figur 9a) stronger flow south north station weekend (figur 9b). spatial commun detect pick western bu locat weekdai data (figur 9c) identifi north south station separ cluster suggest characterist unique. us euclidean distanc measur unusu high flow volum futur work us commun methods, cosin distanc effect normal flow vectors. denver weekdai (figur 10a) strong overrepresenta- tion univers area, absent weekend (figur 10b). result commun (figur 10c-d) correspondingli complex. weekdai minneapoli (figur 11a), similarly, intracampu journei highlighted; scale reinforc messag rout popular explain spatial interact model alloc cycl journeys, weight high stand proxim stand volum (in essence, maximum entropi method spread flow stand evenli possibl outputs, weight destin proxim destin flow volumes. unusu popular journeys, domin stand popular vice versa; distribut sourc stand output appropri analyt approach). like student travel (e.g. lectures) frequent sector society, overweight stand pair. rout present weekend (figur 11b), dominant; southwestern portion citi exhibit high volumes. commun weekdai data (figur 11c) tend cluster centre, rest citi identifi community. weekend data (figur 11d) yield complex picture. washington d.c. (figur 12a- b) small cluster reciproc journei suggest hyperloc usag pattern identifi paper; pentagon city/south arlington appear predominantli weekdai featur (figur 12a). weekdai data yield spatial cluster centre-west (figur 12c) seri uniqu stands. weekend data (figur 12d) highlight geograph distinct commu- niti centre-east centre-west. discuss analys bicycl share flow network import common featur distinct systems. trivial level, differ number stand (nodes), citi distinct partit network, relat physic geograph factor like figur 14. level activ (total number bicycl leav docks) function hour dai report period. a) weekdai data b) weekend data. doi:10.1371/journal.pone.0074685.g014 tabl 2. median travel time distanc city. citi median journei durat (weekday) [minutes] median journei durat (weekend) [minutes] median journei proxim (weekday) [km] median journei proxim (weekend) [km] london 11 14 0.96 0.96 boston 10 16 1.44 1.68 denver 11 17 2.16 2.64 minneapoli 9 15 0.96 1.44 washington d.c. 11 13 1.20 1.2 doi:10.1371/journal.pone.0074685.t002 spatial network bicycl share system plo | www.plosone.org 14 septemb 2013 | volum 8 | issu 9 | e74685 obstacl rivers, weather climate, social geograph factor like land us (for examples, import umn pattern us minneapolis) build density, road type/safety, gener cultur of, attitud to, cycl city, tempor factor rush hours, season weekends. network analys typic includ between central measur node edg lie shortest-path nodes. assum rel low level connect requir intermedi nodes. example, current london tube network 306 node share 354 edges, result 0.75% node pair directli connect mean strength 2.32. contrast, bicycl share system highli connected. london 403 stand nonzero link 131,475 result network possibl 162,409 edges, direct connect 80% - scheme connect region 5095%. us necessit hop interven node (bar except circum- stances) embodi physic space mean faster pursu direct journey; sens system consid spars network measur considered. simpl expedi model fit (in case, simpl empir graviti model implement e.g. rich entropy-maximis spatial interact model see, example, [23]) creat graph residu fit; allow flow appear strongli spatial interaction-typ model predict appar research planner. attempt analysi dataset provid incorpor land-us data; however, arguabl model rapidli increas complex correl commut particular stand like place work; simpli sai e.g. commut waterloo station london like work financi district provid limit predict analyt power demonstrated. compar system highli aggreg level, similar behaviour base distanc peopl tend travel; user washington london consist travel similar distanc destinations, space duration. similarly, consist ratio popular 50 stand system. specif small dataset (5 systems) investig data available. desir disaggreg data set creat time-depend network analys reflect differ us scheme differ time dai (a weve weekdai vs weekends). work tempor network (for example, [24]) focus edg vari time transmiss relev inform instantaneous. deal journei time schedul (with respect air travel) forward [25], provid us model futur analysis. bikes, definit edg problematic, bicycl undertak long-dur journei appear persist edge. propos solut weight contribut journei edg reciproc duration, allow edg persist exist journey, ensur contribut journei relev edg uniti integr time. analog idea flow [bicycles]/unit time. definit problem obviat time-aggreg (i.e. sum timescal larger individu journey), adopt approach analys figur 15. rank/valu plot stand outdegre city. outdegre scale citi maximum outdegre unity. a) data b) 50 stand scheme. doi:10.1371/journal.pone.0074685.g015 tabl 3. structur mysql database. tabl purpos kei attribut bikeflow_cityid record distinct journei journei id origin & destin stand ids, start & end time bikeflow_cityid-_nameloc inform stand geographi stand_id latitude/longitude, descript bikeflow_cityid-_rout descript rout network pair stand origin & destin stand id sequenc latitude/longitud pair describ rout node doi:10.1371/journal.pone.0074685.t003 spatial network bicycl share system plo | www.plosone.org 15 septemb 2013 | volum 8 | issu 9 | e74685 paper. similarly, consid straightforward commun detect measure, prove optimal; example, [26] point sophist method incorpor concept overlap commun generaliz way; general, host commun detect techniqu simpl euclidean- distanc out-edg cluster techniqu employed. commented, rich seam explor time- depend network characterist systems, touch paper. possibl time-depend identif chang spatial commun dynam pictur linkag citi cours day; course, danger disaggreg disappear meaning data nois small numbers. filter time period studi dataset cover month rang yield differ pattern cluster data particular sourc used. identifi tool balanc sensit robust kei consist analysis, approach planning, strategi operation. conclus present visualis analys flow bicycl share bike north american citi european city, demonstr similar aggreg properti systems, spatial network techniqu identifi local featur commun exist complex spatial networks. support inform file s1 support appendices. appendix 1 project haversin small-angl approximation. appendix 2 data access management. appendix 3: video visualisations. (docx) acknowledg data denver bicycl share scheme kindli provid andrea beatti trek bikes/denv b-cycle. thank chri stutz, shiloh fetzek, kaitlin thanei emili mackenzi local knowledg denver, minneapolis, boston washington d.c., respectively. author contribut conceiv design experiments: mza es oo mv. perform experiments: mza oo. analyz data: mza. contribut reagents/materials/analysi tools: mza oo mv. wrote paper: mza oo. discussion: mza oo mv es. refer 1. midglei p (2009) role smart bike-shar system urban mobility. journei 2: 2331. 2. pucher j, buehler r, bassett dr, dannenberg al (2010) walk cycl health: compar analysi city, state, intern data. american journal public health 100: 1986. 3. meddin r, demaio p (2012) bike-shar world map. available: bit.ly/k9pkmo. 4. padgham m (2012) human movement diffus directed. plo 7: e37754. doi:10.1371/journal.pone.0037754. 5. lathia n, ahm s, capra l (2012) measur impact open london share bicycl scheme casual users. transport research c: emerg technolog 22: 88102. doi:10.1016/j.trc.2011.12.004. 6. borgnat p, abri p, flandrin p, robardet c, rouquier j-b, et al. (2011) share bicycl city: signal process data analysi perspective. advanc complex system 14: 415438. doi:10.1142/s0219525911002950. 7. newman (2003) structur function complex networks. siam review 45: 167256. 8. newman m (2010) networks: introduction. oup oxford. 784 p. 9. kaluza p, kolzsch a, gastner mt, blasiu b (2010) complex network global cargo ship movements. journal royal societi interfac 7: 1093 1103. 10. roth c, kang sm, batti m, barthelemi m (2011) structur urban movements: polycentr activ entangl hierarch flows. plo 6: e15923. doi:10.1371/journal.pone.0015923. 11. expert p, evan ts, blondel vd, lambiott r (2011) uncov space-independ commun spatial networks. proceed nation academi scienc 108: 76637668. doi:10.1073/pnas.1018962 108. 12. tobler wr (1970) movi simul urban growth detroit region. econom geographi 46: 234240. 13. fortunato s (2010) commun detect graphs. physic report 486: 75 174. doi:10.1016/j.physrep.2009.11.002. 14. newman mej (2004) detect commun structur networks. eur phy j b 38: 321330. doi:10.1140/epjb/e2004-00124-y. 15. wood j (2012) london moves, visualis 16 million cycl journei uk capital: jo wood tedxeastend - youtube. available: youtube.com/watch?v = farbuno5pzi. access 2013 feb 12. figur 16. rank/valu plot edg weight distribution, normal maximum edg citi unity. doi:10.1371/journal.pone.0074685.g016 spatial network bicycl share system plo | www.plosone.org 16 septemb 2013 | volum 8 | issu 9 | e74685 16. wood j, slingsbi a, dyke j (2011) visual dynam london bicycle-hir scheme. cartographica: intern journal geograph inform geovisu 46: 239251. doi:10.3138/carto.46.4.239. 17. girvan m, newman mej (2002) commun structur social biolog networks. pna 99: 78217826. doi:10.1073/pnas.122653799. 18. arena a, duch j, fernandez a, gomez s (2007) size reduct complex network preserv modularity. new journal physic 9: 176. 19. leicht ea, newman mej (2008) commun structur direct networks. phy rev lett 100: 118703. doi:10.1103/physrevlett.100.118703. 20. batti m, march l (1976) method residu urban modelling. environ plan 8: 189214. 21. obrien o, cheshir j, batti m (2013) mine bicycl share system insight sustain transport systems. journal transport geography. press. 22. batti m (2006) rank clocks. natur 444: 592596. doi:10.1038/nature05302. 23. wilson ag (1969) us entropi maximis models, theori trip distribution, mode split rout split. journal transport econom policy: 108126. 24. tang j, scellato s, musolesi m, mascolo c, latora v (2010) small-world behavior time-vari graphs. phy rev e 81: 055101. doi:10.1103/ physreve.81.055101. 25. zanin m, lacasa l, cea m (2009) dynam schedul networks. chaos: interdisciplinari journal nonlinear scienc 19: 0231115. doi:doi:10.1063/ 1.3129785. 26. nicosia v, mangioni g, carchiolo v, malgeri m (2009) extend definit modular direct graph overlap communities. j stat mech 2009: p03024. doi:10.1088/1742-5468/2009/03/p03024. spatial network bicycl share system plo | www.plosone.org 17 septemb 2013 | volum 8 | issu 9 | e74685