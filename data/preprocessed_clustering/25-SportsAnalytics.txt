journal sport analyt 6 (2020) 2533 doi 10.3233/jsa-190314 io press 25 forecast colleg footbal game outcom modern model techniqu charl southa,1, edward egrosb,1 asouthern methodist university, dallas, texas, usa bfreelanc journalist adjunct instructor, southern methodist university, dallas, texas, usa abstract. reason data scientist fan colleg footbal want forecast outcom game gambling, game prepar academ research, example. advanc statist method readili accessible, opportun develop robust forecast models. data 2011 2014 seasons, implement varieti advanc model techniqu determin best forecast outcom games. method includ ridg regression, lasso, elast net, neural networks, random forests, k-nearest neighbors, stochast gradient boosting, bayesian regress model. evalu efficaci propos models, test data 2015 season. perform lasso regression, bayesian regress team-specif variances, stochast gradient boosting, random forest predict correct outcom 70% time, lasso model prove accur predict win-loss outcom 2015 test data set. keywords: ncaa football, prediction, machin learning, bayesian, variabl select 1. introduct colleg footbal major busi unto itself. gaul (2015) note 10 larger institut invest sport earn revenu $762 mil- lion 2012. televis contract valu billions; example, televis colleg footbal playoff 12 years, espn reportedli paid $5.64 bil- lion durat contract, bachman (2012). however, academ literatur concern- ing predict colleg footbal outcom fairli limited. stefani (1977) detail us squar method come rank colleg footbal teams, determin win- ner base team better ranking. year later, stefani (1980) improv exist simpl squar method rank team 1the second author contribut equal work. correspond author: charl south, southern methodist university, p.o. box 750332, dallas, texa 75275, 0332 (214) 803 0713; e-mail: weekli (i.e., requir differ rank equal margin victory) upgrad rank determin winner specif games. elo (2008) highlight rank origin compar chess players. modifi includ football, present equat gener expect probabl team win game team b. delen, et al. (2012) took slightli differ approach rank data mine techniqu predict bowl games. leung joseph (2014) abandon idea rank altogeth classif analysi group teams, pick group similar compet team particular game, analyz outcom team group plai other, inform predict team win game question. manuscript, combin sourc col- lege footbal data box score recruit data appli multipl modern model techniqu identifi method accur predict issn 2215-020x/20/$35.00 2020 io press authors. right reserv articl publish onlin open access distribut term creativ common attribut non-commerci licens (cc by-nc 4.0). 26 c. south e. egro / forecast colleg footbal game outcom modern model techniqu winner ncaa footbal games. specifically, train seri model data 20112014 season ridg regression, lasso, elast net, k-nearest neighbors, neural networks, gradient boost machines, bayesian hierar- chical linear model. contribut literatur two-fold: first, identifi subset variabl meaning predictor outcom colleg footbal game accord method used. next, present predict power model val- idat data 2015 season. best knowledge, studi compre- hensiv respect data consid model construct validation. 2. methodolog 2.1. dataset data research consist 4,339 game footbal bowl subdivis (fbs) team 2011 2015 seasons; data provid colleg footbal databas adminis- trator marti coleman2. maxim util data, adjust made. first, remov game includ non-fb oppon (e.g. fcs, divis ii, etc.) complet season data school level, game (usually) repres tradit colleg footbal game. next, individu game result convert season-long move averages. exam- ple, predict outcom alabama sixth game 2012 season, averag statist game avail prior (exclud game oppon lower classifications), averag oppon prior alabama sixth game. alabama seventh game, includ result sixth game move aver- ages, forth. additionally, hypothes outcom relat rel differ team absolut performance. so, follow covari created: differ offens point score vs. oppon defens point allowed, differ defens point allow vs. oppon offens point scored, differ yard pass attempt (yppa) team oppos defens team defens oppos offense, differ yard rush attempt 2 data website: dreserve.com/?pag id=8805 (ypra) team oppos defens team defens oppos offense, dif- ferenc pass yard team oppos defens team defens oppos offense, differ rush yard team oppos defens team defens oppos offense, turnov difference, win per- centag difference, differ total offens defens plays, differ offens yard defens yard allowed. note differ move averages. lastly, com- posit team rank 247sports.com quantifi level talent team. 247 composit team rank (2012) gener proprietari algorithm compil rank rate list public domain major media recruit services. recruit class school receiv annual composit score base recruit servic rank group whole. colleg player year eligibility, class preced year game captur qualiti tal- ent plai specif game. studi includ class rank date 2008, fresh- men 2008 class (becom true senior 2011) repres dataset. take talent time develop espe- cialli well-establish school includ lag composit rankings, averag previou two, three, annual compos- it rankings. lastly, colleg football, home field advantag import con- sideration. moskowitz wertheim (2011) studi nineteen differ sport vari level span countries. colleg football, discov 64.1% home team won, rank- ing sixth nineteen sport studied. that, 140 season colleg football, year home team fail win game road teams. (p. 113). fair oster (2007) estim home field advan- tage colleg footbal 4.1 4.7 points. given inform fact possibl locat home, away, neu- tral creat field statu variabl give equal weight home awai status: valu 1 assign home games, 0 neutral, 1 awai games. total, 83 candid predictor available3. outcom variabl chosen differ point total, retain 3 list given appendix. c. south e. egro / forecast colleg footbal game outcom modern model techniqu 27 inform matchup compar binari win loss. 2.2. model consid term model frameworks, select following: ridg regress absolut shrinkag select oper (lasso) elast net neural network random forest k-nearest neighbor bayesian linear model team specif vari- anc high-level overview framework jame et al. (2013), sources. ridg regression, explain hoerl kennard (1970) linear model, instead cal- culat coeffici minim residu sum squar ordinari squar regression, penalti term ad base l2 norm regress parameters, caus shrinkage. pri- mari benefit reduc varianc introduc correl predictors, expens introduc- ing bia form penalti term (with hope reduc overal mean squar error). tibshirani (1996) explain absolut shrink- ag select oper (lasso) similar ridg regress except penal l1 norm regress parameters. penalti ad benefit shrink regres- sion paramet zero, function variabl select technique. featur especi use- ful given larg number variabl data set uncertain util them. ridg regres- sion lasso thought opposit end spectrum ridg penalti shrink paramet estim keep model, lasso shrink exactli zero (with number non-zero coeffici decreas- ing penalti increases). extens ridg regress lasso regress develop zou hasti (2005), present elast net regress function two, second tune paramet introduc control degre model move closer ridg regres- sion lasso regression. addit benefit elast net tend select correl variabl together, keep model, lasso regress tend select arbitrar- ily. method implement r (2016) glmnet packag written fried- man, hasti tibshirani (2010), tune penalti paramet chosen repeat 10-fold cross-valid caret package, written kuhn (2008). neural network non-parametr model describ gunther fritsch (2010) base makeup human brain, electr signal transmit differ neu- ron axon dendrit receiv synapses. application, attribut dataset model us input nodes. pass hidden layer(s), assign weight adjust import input (the higher weight, greater importance). pass necessari hidden layers, reach output layer repres target value. study, output project point differ team hidden layer construct combin differ variabl dataset. collinear caus comput problem model paradigm, pair highli corre- late predictor identifi (in case, r > 0.75) and, pairs, predictor largest mean absolut correl remain- ing predictor removed. fit neural network nnet packag r gunther fritsch (2016) tune number hidden unit weight decay, determin bag improv model fit. breiman (2001) explain random forest gener non- parametr algorithm reli bootstrap random sampl predictor build seri decis trees, us averag indi- vidual predict overal ensembl prediction. fit randomforest packag r liaw wiener (2002), number randomli select predictor tune parameter. k-nearest neighbor (knn) approach, explain altman (1992), us euclidean dis- tanc identifi observ nearest proximity, us mean outcom neighbor prediction; fnn packag r beygelzim et al. (2013) number neighbor tune param- eter. friedman (2001) discuss gradient boosting, tool recent gain lot traction machin learn community. techniqu opti- mize object function combin loss function regular function, 28 c. south e. egro / forecast colleg footbal game outcom modern model techniqu gener principl defin parsimoni predict model. iter build ensembl decis tree individu strong predictor strong taken together. xgboost packag chen et al. (2017) highli cus- tomiz big data competitions4. tree boost function used, follow- ing tune parameters: max tree depth, percentag column sampled, percentag row sampled, number rounds, minimum child weight, eta. caret packag select tune paramet here, neural network random forest. bayesian framework major mod- el paradigm considered. similar south et al. (2017), us linear model predict outcome, case allow team-specif precis (note model team-specif regress coef- ficient tested, report inferior model present below). model specif follows: yij normal(ij, i), ij = 0 + 1x1ij + + pxpij, p normal(0.001, 0.001), gamma(1, 1). yij predict point differ team game j, p number predictor model (with predictor identifi penal regression). team assign precis (i). combin r winbug (lunn et al. (2000)) fit model. note win- bug us precis (the invers variance) specif normal distribution, explain us precis paramet stan- dard deviat present model specifications. note convent non-inform prior assign parameters. addit challeng analysi introduc necess includ statis- tic relat oppon strength. example, instanc smu plai houston, decis smu team houston opponent, vice versa. unbias wai address random chance, approach taken game 4 learning-method-kaggle-explained.html data set. introduc extra sourc variabl (via random select process), allow estim effect field statu paramet discuss section 2.1. further, modern era colleg football, common team pai lesser oppon plai road game venues, mean home/awai statu game necessarili independ team quality5. model train valid take approach, understand implic random assign team opponent, repeat random assign process total 50 times. minim comput burden, initi tune paramet (chosen random assignment) retain model re-fit accord parameters. sub- sequent root mean squar error valid set stored, allow analysi varianc (with post-hoc comparisons) explor separ methods. lastly, predict outcom perform model convert decis rule posit valu indic predict victori team opponent, neg valu indic oppo- site; intuit measur model strength. 3. result 3.1. featur retain penal regress repeat 10-fold cross valid lasso regress better predict framework elast net ridg regression. tabl 1 list 26 variabl retain lasso regress (recal that, asid field statu variable, averag measur point season correspond observation). knowledg colleg footbal fan note select variabl reasonable, game location, measur offens volum effi- cienci (ypra, total yards, ypp, point differential), defens volum (rush yard allowed, total yard allowed), oppon offens volum effici (rush attempts, yard play, point differential), oppon defens volum effici (pass 5 football/2018/8/30/17431764/college-football-scheduling- cupcake-games-whi c. south e. egro / forecast colleg footbal game outcom modern model techniqu 29 tabl 1 lasso select variabl rush attempt yard rush attempt (ypra) total yard yard plai (ypp) turnov commit (to) penalti yard accru pass attempt ypra allow turnov forc point differenti oppon offens pass yard oppon offens yard plai oppon offens penalti yard oppon defens yppa oppon defens rush yard allow oppon defens total yard allow oppon defens yard plai allow oppon turnov forc oppon defens penalti yard accru oppon point differenti differ team oppon win percentag composit rank (cr), lag 2 averag cr (last 2 years) averag cr (last 3 years) averag cr (last 4 years) field statu faced, ypra allowed, total yard allowed, yard plai allowed, turnov forced), differ win percentag team talent predict outcome. additionally, sign regress coeffici match intuit exam- ple, increas team offens metric (such total yard gained) oppon defens metric (such ypra allowed) led increas expect point differential, increas team defens metric (such rush yard allowed) oppon offens metric (such yard play) lower expect point differential. figur 1 displai variabl accord importance, calcul varimp function caret package. bar color sign paramet estimates. example, gap win percentag team oppon increases, estim point differenti (in favor team); contrastingly, oppon offens ypp increase, expect point differenti decreases. this, clear 26 variabl select lasso, efficaci model driven notabl differ fig. 1. variabl importance, lasso select variabl 30 c. south e. egro / forecast colleg footbal game outcom modern model techniqu team strength, locat game, overal oppon offens defens strength. note estim lasso regress coeffici field statu 3.6, impli swing touch- advantag plai home versu plai away, control metric tabl 1. black box approach (knn, neu- ral networks, gradient boosting, random forests) specif inform magnitud direct predictors, variabl import metric avail caret package. import variabl accord metric consist differ win percentag team current opponent, averag point differenti current opponent, averag point differenti team, locat agre type variabl select lasso regression. 3.2. model evalu parsimony, retain variabl lasso regress bayesian model. neural network, predictor pairwis correl coeffici exceed 0.75 identified, predictor largest mean absolut correl rel predictor removed. process carri findcorrel function caret package. model approach util avail pre- dictors. train model 201114 data, data 2015 season test data set. tabl 2 give averag root mean squar error 50 random assign team tabl 2 forecast success rate model paradigm (2015 season) model mean rmse (sd) overal predict lasso 17.00 (0.08) 75.0% random forest 17.00 (0.11) 72.9% k-nearest neighbor 17.73 (0.10) 70.7% neural network 17.37 (0.18) 69.7% bayesian linear model 17.02 (0.12) 72.2% gradient boost 17.02 (0.15) 71.7% rmse=root mean squar error, sd = standard deviat opponent, overal predict rate accord random assignment. analysi varianc tukei post-hoc comparison lasso regression, random forest, bayesian linear model, xgboost model superior methods, significantli differ (p 1 comparisons). figur 2 displai boxplot result random assignments, rmse rmse rank. lasso variabl compet method term rmse, rank method 5 50 repetitions, random forest xgboost 16 15 times, respectively. however, lasso abl correctli identifi largest percentag outcom test data set simpl decis rule. 4. conclus result studi promising. begin larg set variabl includ offen- fig. 2. compet model root mean squar error (rmse) rmse rank 50 random assign team oppon c. south e. egro / forecast colleg footbal game outcom modern model techniqu 31 sive defens characteristics, rel strength, talent metrics, abl identifi subset contain inform predict outcom ncaa footbal games. survei linear, non- parametr bayesian methods, lasso regression, random forests, bayesian linear model team-specif precisions, stochast gradient boost xgboost effica- ciou model term root mean squar error, abl success predict 70% outcom 2015 season (bowl game included) model built data 20112014 seasons. method statist inseparable, have lowest variabl rmse valu binari outcom predict valu (a interpret model coefficients), author lean recommend lasso method choice; however, argument model paradigm well. study, number limitations. first, manuscript present exhaus- tive search advanc statist methods, propos new uniqu methodology. particu- lar, state space model (glickman stern, 1998 & lopez, matthews, baumer, 2017, others) base bradley-terri model pair compar- ison (bradlei terry, 1952) expect perform similarli approach paper. exhaust search vast arrai tune paramet avail machin learn techniqu (gradient boost particular). further, chose model point dif- ferenc outcom binari win/loss result; chosen us gener linear model framework observ differ results. nonetheless, author hope result lead research develop publish field predict analyt colleg footbal area approach proprietari given prospect financi reput gain. tabl 3 variabl colleg footbal dataset descript (all averag season-specific) team point averag number point score team pass averag number pass thrown team pass yard averag number pass yard team yppa averag number yard pass attempt team rush attempt averag number rush attempt team rush yard averag number rush yard team ypra averag number yard rush attempt team total plai averag number offens plai team total yard averag number total yard gain offens team ypp averag number yard gain plai team averag number turnov (giveaways) team penalti yard averag number penalti yard accumul team team averag offens time possess (in seconds) oppon point averag number point allow team defens oppon pass averag number pass face team defens oppon pass yard averag number pass yard allow team defens oppon yppa averag number yard pass attempt allow team defens oppon rush attempt averag number rush attempt allow team defens oppon rush yard averag number rush yard allow team defens oppon ypra averag number rush yard attempt allow team defens oppon total plai averag number offens plai face team defens oppon total yard averag number total yard allow team defens oppon ypp averag number yard plai allow team defens oppon averag number turnov forc (takeaways) team defens oppon penalti yard averag number penalti yard accru team oppon oppon time possess averag time possess allow team defens victori averag win percentag team point differenti averag point differenti team differ averag turnov differenti (takeaways-giveaways) team oppon offens point averag point score current oppon oppon offens pass averag number pass current oppon offens oppon offens pass yard averag number pass yard gain current oppon offens oppon offens yppa averag yard pass attempt gain current oppon offens (continued) 32 c. south e. egro / forecast colleg footbal game outcom modern model techniqu tabl 3 (continued) descript (all averag season-specific) oppon offens rush attempt averag number rush attempt current oppon offens oppon offens rush yard averag number rush yard gain current oppon offens oppon offens ypra averag number rush yard plai gain current oppon offens oppon offens total plai averag number total plai current oppon offens oppon offens total yard averag number total yard gain current oppon offens oppon offens ypp averag number yard plai gain current oppon offens oppon offens averag number turnov commit current oppon oppon offens penalti yard averag number penalti yard accru current oppon oppon offens averag time possess current oppon offens oppon defens point averag number point given defens current oppon oppon defens pass averag number pass face defens current oppon oppon defens pass yard averag number pass yard allow defens current oppon oppon defens yppa averag yard pass attempt given defens current oppon oppon defens rush attempt averag number rush attempt face defens current oppon oppon defens rush yard averag number rush yard given defens current oppon oppon defens ypra averag number rush yard attempt given defens current oppon oppon defens total plai averag number total plai face defens current oppon oppon defens total yard averag number yard allow defens current oppon oppon defens ypp averag number yard plai allow defens current oppon oppon defens averag number turnov forc (takeaways) defens current oppon oppon defens penalti yard averag number penalti yard accru oppon current oppon oppon victori win percentag current oppon oppon point differenti averag point differenti current oppon oppon diff differ averag turnov forc (takeaways) commit (giveaways) current oppon offens point diff differ averag point score team averag point allow current oppon defens defens point diff differ averag point score current oppon averag point allow team defens offens yppa diff differ averag yard pass attempt team offens averag yard pass attempt allow current oppon defens defens yppa diff differ averag yard pass attempt allow team defens averag yard pass attempt current oppon offens offens ypra diff differ averag yard rush attempt team offens averag yard rush attempt allow current oppon defens defens ypra diff differ averag yard rush attempt allow team defens averag yard rush attempt current oppon offens offens pass yard diff differ averag total pass yard gain team offens averag pass yard allow current oppon defens defens pass yard diff differ averag total pass yard allow team defens averag pass yard gain current oppon offens offens rush yard diff differ averag total rush yard gain team offens averag rush yard allow current oppon defens defens rush yard diff differ averag total rush yard allow team defens averag rush yard gain current oppon offens diff diff differ averag turnov differenti team current oppon victori diff differ win percentag team current oppon offens total plai diff differ averag total plai team offens averag total plai face defens current oppon defens total plai diff differ averag total plai face team defens averag total plai offens current oppon offens total yard diff differ averag total yard gain team offens averag total yard allow defens current oppon defens total yard diff differ averag total yard gain team defens averag total yard allow offens current oppon home indic team home (1 = yes, 0 = no) awai indic team awai (1 = yes, 0 = no) (continued) c. south e. egro / forecast colleg footbal game outcom modern model techniqu 33 tabl 3 (continued) descript (all averag season-specific) recruit lag 1 averag 247 composit rank team prior recruit class recruit lag 2 averag 247 composit rank team recruit class 2 season ago recruit lag 3 averag 247 composit rank team recruit class 3 season ago recruit lag 4 averag 247 composit rank team recruit class 4 season ago recruit averag 2 averag 247 composit rank team 2 previou recruit class recruit averag 3 averag 247 composit rank team 3 previou recruit class recruit averag 4 averag 247 composit rank team 4 previou recruit class acknowledg author wish thank mr. shen anonym review construct feedback suggest result comprehen- sive, sound paper. refer 247sport staff., 2012. 247sport rate explanation. [online] avail at: 247rating-explanation-81574 [access 14 dec. 2019] altman, n.s. 1992. introduct kernel nearest-neighbor nonparametr regression, american statistician 46(3), 175-185. bachman, r., 2012. espn strike deal colleg footbal playoff. [online] avail at: articles/sb10001424127887324851704578133223970790 516 [access 14 dec. 2019] beygelzimer, a., kakadet, s., langford, j., arya, s., mount, d. li, s., 2013. fnn: fast nearest neighbor search algorithm applications, r packag version 1(1). bradley, r.a. terry, m.e., 1952. rank analysi incom- plete block designs: i. method pair comparisons, biometrika 39(3/4), 324-345. breiman, l., 2001. random forests, machin learning, 45(1), pp. 5-32. chen, t., he, t., benesty, m., khotilovich, v. tang, y., 2015. xgboost: extrem gradient boosting, r packag version 0.4-2, 1-4. delen, d., cogdell, d. kasap, n., 2012. compar analysi data mine method predict ncaa bowl outcomes, intern journal forecast 28(2), 543- 552. friedman, j.h., 2001. greedi function approximation: gradient boost machine, annal statist pp. 1189-1232. fair, r.c. oster, j.f., 2007. colleg footbal rank market efficiency, journal sport econom 8(1), 3-18. friedman, j., hastie, t. tibshirani, r., 2010. regular path gener linear model coordin descent, journal statist softwar 33(1), 1. gaul, g.m., 2015. billion-dollar ball: journei big- monei cultur colleg football. penguin. glickman, m.e. stern, h.s., 1998. state-spac model nation footbal leagu scores, journal american statist associ 93(441), 25-35. gunther, f. fritsch, s., 2010. neuralnet: train neural networks, r journal 2(1), 30-38. hoerl, a.e. kennard, r.w., 1970. ridg regression: bias estim nonorthogon problems, technometr 12(1), 55-67. james, g., witten, d., hastie, t. tibshirani, r., 2013. intro- duction statist learn (vol. 112, p. 18). new york: springer. kuhn, m., 2008. build predict model r caret package, journal statist softwar 28(5), 1-26. leung, c.k. joseph, k.w., 2014. sport data mining: predict- ing result colleg footbal games, procedia scienc 35, 710-719. liaw, a. wiener, m., 2002. classif regress randomforest, r new 2(3), 18-22. lopez, m.j., matthews, g.j. baumer, b.s., 2018. best team win? unifi approach understand random north american sport, annal appli statist 12(4), 2483-2516. lunn, d.j., thomas, a., best, n. spiegelhalter, d., 2000. winbugs-a bayesian model framework: concepts, structure, extensibility, statist comput 10(4), 325-337. moskowitz, t. wertheim, l.j., 2012. scorecasting: hidden influenc sport plai game won. river press (ca). team, r.c., 2016. languag environ statist computing. r foundat statist computing, vienna, austria, version 3.3. 0. url available: project.org/ (access octob 2017). south, c., elmore, r., clarage, a., sickorez, r. cao, j., 2019. start point navig world daili fantasi basketball, american statistician 73(2), 179-185. stefani, r.t., 1977. footbal basketbal predict squares, ieee transact systems, man, cybernet 7(2), 117-21. stefani, r.t., 1980. improv squar football, basketball, soccer predictions, ieee transact systems, man, cybernet 10(2), 116-123. tibshirani, r., 1996. regress shrinkag select lasso, journal royal statist society: seri b (methodological) 58(1), 267-288. zou, h. hastie, t., 2005. regular variabl select elast net, journal royal statist society: seri b (statist methodology) 67(2), 301-320.