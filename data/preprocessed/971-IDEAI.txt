fir forecast strategi abl cope miss data: smart grid applic sergio juradoa, ngela nebotb, fransisco mugicab mihail mihaylovc sens & control systems, arag 208-210, 08011 barcelona, spain email: sergio.jurado email: phone: +34 605 565 303; soft comput research group, technic univers catalonia, jordi girona 1-3, 08034 barcelona, spain c ai lab, vrije universiteit brussel, pleinlaan 2, 1050 brussels, belgium email: abstract: deal miss data great practic theoret forecast applications. study, deal problem forecast miss data smart grid smart home applications, inform home area sensor and/or smart meter missing, hinder prevent forecast hour days. concrete, focu soft comput techniqu call fuzzi induct reason (fir) improv version cope miss inform forecast process: flexibl fir. articl differ strategi flexibl fir forecast defin studi take account: causal relev input variables, consist predictions, inertia criterion k-nearest neighbours. furthermore, evalu implic predict accuraci number regist predicted, number miss valu (mvs) train dataset increas progressively. end, real smart grid forecast application, i.e. electr load forecasting, chosen study. result strategi propos abl cope mv advantag inher inform data, better result strategi make us causal relevance. addition, robust flexibl fir strategi prove take account percentag regist predict averag 96.15% %mv train dataset 73%. keywords: soft computing, fuzzi induct reasoning, entropy-bas featur selection, predict miss values, energi model 1. introduct problem miss data great practic theoret forecast applications. import know react certain situat miss valu (mvs) present model gener offline/onlin forecasting. example, sensor fail product process, necessari stop suffici inform implicitli contain remain sensor data. furthermore, econom forecasting, want continu us predictor input variabl meaningless (for example, polit chang country). real breast cancer problem [1], miss data imput import task case crucial us avail data discard record miss values. study, deal miss data problem smart grid smart home forecast applications. inform arriv differ sensor home area network and/or smart meters, contain miss data, hinder prevent forecast hour days. issu observ project iurban [2] greencom [3], smart meter infrastructur smart home gateway, occasionally, send data correctly. caus loss internet connect gateway, fail commun smart meter concentrators, issu databas interfaces. studies, problem mv treat pre-process perspective; convent miss data imput techniques, substitut mean unknown featur studi [4], lead solut far optimal. [5] lakshminarayan et al., explor us machine-learn base altern standard statist data complet methods, deal miss data. barladi et al. [6] propos novel method miss data reconstruct fuzzi similarity. studi miss data problem approach pre-process point view [7] [8]. however, convent miss data delet techniqu like list-wis pair-wis 2016 elsevier. manuscript version avail cc-by-nc-nd 4.0 licens observ present limitations, discard great deal potenti usabl data wrong correl matric respectively. moreover, smart grid smart home applic onlin predict needed, system deal continu problem unknown features. paper, address miss data problem soft comput techniqu call fuzzi induct reason (fir) [9][10]. popular compar soft comput techniqu neural network (nn), methodolog prove model real complex system high accuraci compar typic artifici intellig (ai) statist techniqu [11][12][13][14]. studi mv affect model gener predict soft comput techniques. focu neural network [15][16] genet algorithm [17] but, best knowledge, fir. fir displai high predict accuraci complex systems, limit miss data present forecast process. [18] introduc concept flexibl fir cope miss inform input pattern situat pattern behaviour matrix. however, studi limit analysi output forecast strategi evolut flexibl fir predict accuraci number mv dataset. contribut articl summar follows. perform detail analysi improv version fir, cope miss inform input values, predict phase. differ fir forecast strategi propos studi take account featur perform prediction: causal relev input variables, consist predictions, inertia criterion k-nearest neighbours. furthermore, evalu implic predict accuraci number instances1 predicted, number mv train dataset increas progressively. end, real smart grid forecast application, i.e. electr load forecasting, chosen study. reason experi select appropri output forecast strategy, highli affect dispers output class preserv confid prediction. concrete, suggest 8 differ strategi account differ paramet featur calculation. paper structur follows: section 2 standard fir methodolog summar problem mv methodolog identified. then, section 3 analys solut cope miss data problem fir, call flexibl fir prediction, propos 8 differ output forecast strategies. next, section 4 present dataset used, come differ build belong upc (technic univers catalonia), experi discuss result encount appli standard flexibl fir predict datasets. finally, section 5 point conclus research near futur work. 2. fuzzi induct reason 2.1 standard fir conceptu fir methodolog aris gener problem solv (gsps) approach propos klir [19]. methodolog model simul abil system easili describ classic mathemat statistics, i.e. system underli physic law understood [9]. fir model qualit non-parametr model base fuzzi logic. fir model consist structur (relev variabl select features) pattern rule base (a set input/output relat histori behaviour) defin if-then rules. fir methodolog model tool abl infer model studi quickli good option real time forecasting. moreover, abl deal miss data prove larg number applic [13]. however, capac deal 1 valu correspond input and/or output variabl fuzzif miss data decreas significantli complex mask big, impli gener big number pattern rule behaviour matrix contain mvs. section 3 deal issue. start process find fir model order predict data, necessari fuzzifi data order reduc search space speed optim process [9]. fir embrac slightli differ approach fuzzi techniqu solv uniqu problem. map multipl fuzzi rules, fir map singl rule largest likelihood. end, fir convert quantit valu qualit fuzzi triple, i.e. class, membership values. class valu repres discret origin real-valu variable. fuzzi membership valu denot level confidence, express class valu chosen repres particular quantit value. valu indic data point left right peak correspond fuzzi membership value. thus, singl quantit valu recod qualit tripl contain exactli inform origin quantit valu possibl regener quantit valu precisely. deeper insight fuzzif process refer [9]. process obtain fir model structur correspond featur select process (fsp). model structur hold relev featur repres mask causal relat (both spatial temporal) input output variabl x described. tabl 1 present exampl mask input (u1, u2, u3, u4) output (y) variables. tabl 1. exampl mask input (u1, u2, u3, u4) output (y) variabl x t u1 u2 u3 u4 y t - 3t -1 0 0 0 -2 t - 2t 0 -3 0 0 0 t - t 0 0 0 -4 0 t 0 0 0 0 +1 neg element mask call mask input (m-input). exhibit causal relat output, i.e. influenc output certain degree. singl posit valu denot mask output (m-output). exampl tabl 1, predict output current time, y(t), directli relat variabl u1, u2, u4 y differ time t, i.e. u1(t-3t), y(t-3t), u2(t-2t) u4(t-t). optim mask function fir obtain best mask, i.e. best fir structure, studi [9]. procedur consist find mask best repres comput qualiti measur possibl masks, select highest quality. process start definit so-cal mask candid matrix encod ensembl possibl mask best chosen. tabl 2 show exampl mask candid matrix exampl tabl 1. mask candid matrix contain element valu -1, mask potenti causal relations. element valu +1, mask output found. finally, element valu 0 denot forbidden connections. tabl 2. exampl mask candid matrix input (u1, u2, u3, u4) output (y) x t u1 u2 u3 u4 y t - nt -1 -1 -1 -1 -1 t - 2t -1 -1 -1 -1 -1 t - t -1 -1 -1 -1 -1 t -1 -1 -1 -1 +1 number row mask candid matrix call depth mask. repres tempor domain influenc output. row delai rel successor time interv t repres time laps consecut samplings. t vari applic another. studi present paper, valu t equal 1 hour used, data characteristics. optim mask function fir offer possibl specifi upper limit accept mask complexity, i.e. largest number non-zero element mask contain. start candid matrix minimum complex two, i.e. 1 input output, qualit model identif process look best legal masks. proceed, search legal mask complex three, i.e. mask input output, best these. continu wai maximum complex reached. strategi correspond exhaust search exponenti complexity. however, suboptim search strategi polynomi complex used, i.e. genet algorithm [20]. possibl mask compar respect potenti merit. optim mask evalu respect maxim forecast power quantifi mean qualiti measure. let focu comput qualiti specif mask. overal qualiti mask, qm, defin product uncertainti reduct measure, hr observ ratio, or, describ equat 1. = . (1) uncertainti reduct measur defin equat 2. = 1 (2) hm overal entropi mask hmax highest possibl entropy. hr real number rang 0.0 1.0, higher valu usual indic lower uncertainti improv forecasting. highest possibl entropi hmax obtain probabl equal. zero entropi encount total determinist relationships. overal entropi mask comput describ equat 3. = () . (3) p(i) probabl input state occur hi shannon entropi rel th input state. shannon entropi rel ith input state calcul equat 4. = (|). 2( |) (4) p(o|i) condit probabl certain output state o occur, given input state occurred. term probabl meant statist true probabilist sense. denot quotient observ frequenc particular state episod behaviour divid highest possibl frequenc state. observ ratio, or, measur number observ input state. statist point view, accord [21], state observ times. legal input state observ times, equal 1.0. input state observ (no data available), equal 0.0. optim mask mask largest qm value, gener forecast smallest uncertainty, and, therefore, featur compos structur model on select relev ones. relev featur identified, model methodology. fir mask obtain pattern rule (call behaviour matrix) fuzzifi train dataset. pattern rule obtain read class valu hole mask (the place mask zero values), place class compos rule. class valu map continu variabl categorical. behaviour matrix mask available, predict futur output state place fir infer engine, describ figur 1. process call qualit simulation. fir infer engin base k-nearest neighbour (knn) rule, commonli pattern recognit field. forecast (of output variable) obtain mean composit potenti conclus result fire k rules, anteced best match current input state. seen left hand figur 1, mask place qualit data matrix (fuzzifi test set), wai output match element predicted. valu input read mask. behaviour matrix (pattern rule base) used, explain later, determin futur valu output, copi qualit data matrix. mask shift posit predict output value. process repeat desir valu forecast. fuzzi forecast process work follows: input pattern new input state compar previou record input state contain behaviour matrix. purpose, normal function comput element new input state euclidean distanc formula select knn. on smallest distance, forecast new output state. contribut neighbour predict new output state estim function proximity. express give distanc weight neighbour, shown figur 1. new output state valu comput weight sum output state previous observ k nearest neighbours. section 3.1, standard new fuzzi forecast strategi explain detail. figur 1. qualit predict process diagram (with exampl contain input output) standard fir 2.2 fir model miss data explain previou section, model fir methodolog compos mask (model structure) set pattern rules, call behaviour matrix. mask defin causal tempor relat input output variables, i.e. contain variabl select relevant. best mask identified, appli qualit data obtain result particular pattern rule base. set rule repres pseudo-stat relationship contain system behaviour. fir process illustr figur 2, subset mvs. left hand figur show excerpt qualit data matrix store class values. exampl class valu -9 indic miss value. dash box symbol mask shift downward class valu matrix. circl valu mask denot posit relev select features, squar indic posit output. class valu read class valu matrix circl valu mask, place behaviour matrix shown right hand figure. here, row repres posit mask class valu matrix. row behaviour matrix repres pseudo-stat qualit state pattern rule. exampl illustr figur 2, seen qualit data matrix 358 registers2 contain 24 consecut mvs, mask depth 168, possibl gener 191 pattern rule contain miss element. huge problem fact current predict process fir methodolog discard pattern rule contain mvs, and, therefore, valid pattern rule base avail reduc significantly. impli fir predict process bare abl predict new input pattern fact exist behaviour matrix. fact fir predict process discard pattern rule contain miss elements, perform infer set pattern rule complete, i.e. contain mv. consequence, lot inform lost. figur 2. fir process gener pattern rule base start qualit train dataset optim mask. exampl contain 24 consecut mv regist (reg.) input data. figur illustr high proport gener pattern rule (191) contain mvs. addit problem, second weak fir face mvs, particular input pattern contain mv. happen, especi onlin predictions, input pattern gener contain mvs: failur commun smart meter concentrator, batteri home area sensor depleted, loss internet connection, etc. shown figur 3, standard version fir, input pattern search behaviour matrix. however, because, previous explained, i) behaviour matrix discard pattern rule contain miss element ii) input pattern repres state contain miss value. so, m-inout belong class fuzzifi variable. 2 fuzzifi instanc figur 3. input pattern contain mv (-9 value), unabl match pattern behaviour matrix unabl predict 3. flexibl fir predict enhanc propos paper develop algorithm make infer process flexibl dynam way. idea us tradit algorithm exist behaviour matrix rule input pattern (free mvs) predicted. case, algorithm select set pattern rule input pattern, relax m-inputs. is, input pattern, allow m-input missing. basically, mean differ mask select fir model process. therefore, ignor variabl select relev featur select process. possibl new mask suboptimal, close qualiti optim mask. however, happen new mask bad one. new fir flexibl predict algorithm depict figur 4. train model, new (online) class input pattern arrives, check contain mvs. not, continu standard fir prediction. contain mvs, new algorithm relax input pattern, particularly, posit mvs. point, maximum relax paramet (mrp) required. mrp specifi maximum number relax paramet input pattern. greater number m-input pattern relaxed, larger search space. and, therefore, nois ad final prediction. total number miss element allow pattern rule perform infer process determin size input pattern: mrp = (size input pattern) / 2 (5) consid exampl figur 3, size input pattern 4 mrp 2, mean input pattern relax 2 m-inputs. maximum relax reach match behaviour matrix, forecast valu assign previou forecast value. hourli energi forecast problem solut usual conveni predicting, current previou hourli consumpt highli correlated. mrp formula, consid divid size input pattern 2 relax input pattern differ origin inform lost high. figur 4. flow diagram fir flexibl predict algorithm mrp reached, behaviour matrix relax includ pattern rule m- input paramet relaxed. figur 5 show (top), input pattern remain miss m- input allowed. differ mask select fir model process used, ignoring, therefore, variabl select relev featur select process. similarly, input pattern behaviour matrix, n adapt behaviour matric generated, n possibl combin relax (bottom figur 5 n=4). afterwards, verifi match new relax input pattern relax behaviour matrices. match new relax input pattern n adapt behaviour matrices, algorithm look pattern miss elements. total number miss element allow pattern rule perform infer process determin function size input pattern qualiti suboptim mask associ input patterns. figur 5. adapt behaviour matrix mv input pattern (top) input pattern origin behaviour matrix (down) 3.1 output forecast comput explain section 2.1, fuzzi forecast compar current input pattern previou record input pattern behaviour matrix. euclidean distanc formula select knn forecast new output state. contribut neighbour estim new output state predict function proximity. new approach, flexibl fir predict result dispers output classes, loss inform input pattern behaviour matrix relaxed. result difficult predict low confidence. cope possibl problem, research want investig differ output forecast strategi (in figur 4 repres beneath comput euclidean distances). reason experi select appropri output forecast strategy, highli affect dispers output class preserv confid prediction. concrete, suggest 8 differ strategi account differ paramet featur calculation. 3.1.1 classic fir knn (aknn) case, output comput euclidean distanc specif knn algorithm fir. fir membership function new input state compar previou record input state contain class behaviour matrix [9]. purpose, normal function comput element new input state: = ln() + 0.5 (6) = (4 ln (0.5))1/2, membi sidei membership valu respect input i. extrem class function calcul follow way. left class: = ln() (7) = ln (0.5))1/2. right class: = 1 ln() (8) irrespect origin signal is, correspond pi signal rang exactli 0 1. pi valu quantit real valu variabl repres rel magnitud particular qualit triple. regener origin quantit signals. normal variables. consequ differ pi signal compar sum weigh rel other. meaning origin regener signals. normal function transform qualit tripl quantit variabl variabl live differ space origin quantit variable. pi valu correspond differ variabl input state concaten form vector: = [1, 1 , ] (9) assum state contain t input (in case example, t = 3 variabl missing). vector p norm imag origin input state. analysi proce comput norm imag previou record input state. let vector pk. pk vector littl different, class valu record input state identical, membership function values. final norm differ p vector repres new norm imag pk vector repres previou record input state computed: = ( ) 2 =1 (10) k previou record smallest dj identifi (if k record class behaviour matrix). knn forecast new output state. contribut neighbour estim predict new output state function proximity. new output state valu comput weight sum output state previous observ k nearest neighbours. notic strategi correspond classic knn standard fir adapt behaviour matrix. 3.1.2 us causal relev strategi causal relev (cr) incorpor calcul euclidean distanc [22]. idea strategi simpl address follow questions: m-input influenc predict output? possibl compens loss causal m-input i2? possibl quantifi import m-input respect output, possibl assign higher weight m-input higher importance. output forecast base knn algorithm fir, previou case. similarli previou strategy, dj comput state, ad new distanc measur take cr account. therefore, cr weight modifi euclidean distanc formula, present equat 11: = (() ( ) 2)=1 (11) rdisi quantifi cr ith input. weight-modifi distanc formula equat 2, distanc relev input exert stronger influenc overal distanc specif input pattern, influenc relev input reduc respect classic euclidean distanc formula, previously. 3.1.2.1 causal relev qnovar (bqnv) [22] formula proposed, studi predict differ type applications, i.e. medical, biolog linear systems. best weight equat behav consist aforement applic is: = 1 (12) cr qnovari base qualiti mask qm. qnovari qualiti mask ident optim mask exclud ith m-input set mask inputs. qnovari interpret indirect causal correl specif m-input studi output predicted. quantifi inform lost ith m-input elimin model predict system. 3.1.2.2 causal relev qvar (bqv) similarly, describ [22], best weight equat cr qvar is: = (13) qvari qualiti mask, complex two, contain m-output ith m-input. qvari interpret direct causal correl ith m-input output predicted. 3.1.2.3 causal relev pnovar (bpnv) strategi cr base qualiti mask mean squar error (mse) prediction: = 1 (14) pnovari normal mse obtain valid dataset util mask ident optim mask exclud ith m-input [23][24]. = () = () () =1 (15) n number m-input optim mask m(opt-j) optim mask exclud ith m- input. 3.1.2.4 causal relev pvar (bpv) similar 3.1.2.3 = (16) pvar normal error (inverse) obtain valid dataset util mask complex contain m-output ith m-input [23][24]. = = ( () =1 () ) ( () =1 () ) k=1 (17) n number m-input optim mask m(j) mask contain jth m- input m-output. 3.1.3 inconsist forecast dispers output class neighbour obtain behaviour matrix indic difficult predict low confidence. indirect measur match input pattern confid varianc output o1 (ovariance): ovari = varianc (o1) (18) cr calcul euclidean distanc help cases, therefore, present possibl strategi deal high varianc o1. 3.1.3.1 consist forecast 1 (ccf1) ovari differ 0 neighbour euclidean distanc belong differ classes, knn second classes. ovari 0, classic fir knn used. 3.1.3.2 consist forecast 2 (ccf2) ovari differ 0, instanc match input state, us knn repeat output class. ovari 0, classic fir knn used. 3.1.3.3 inertia criterion (cin) valu ovariance, us previou valu predict valu confid measur low. electr load forecast previou current valu usual highli correlated, idea strategi high probabl perform bad predict dispers possibl solutions, us previou valu predict value. end, confid measur comput [25] and, equal 0.5, i.e. confid equal 50%, previou valu predict value. not, aknn used. order comput confid predict posit value, poso, m-output comput follows: = + (1 ) (19) classo, sideo membo qualit tripl repres m-ouput. then, knn posit valu output computed. maximum, posmax, minimum, posmin, posit valu comput confid measure: = 1 ( ) (20) 4. experi result 4.1 dataset data 8 build universitat politcnica catalunya (upc) obtain study, order training/test sampl high divers consumptions. differ profil usag (sport centre, library, administr building, restaurant...), belong differ campus locat differ cities. thus, affect differ climatolog (temperature, humidity, solar radiation, etc.), consumpt patterns, schedul work days. build includ are: 1) librari etseiat3 faculti terrassa; 2) campu build etseiat faculty; 3) librari epsem4 faculti manresa; 4) librari epsevg5 faculti vilanova 5) bar eetac6 faculti castelldefels; 6) 7) build differ classroom lab fib7 faculti barcelona; 8) sport centr campu nord barcelona. energi consumpt 8 build collect remot meter hour. therefore, 24 record dai location. 8 buildings, dataset compris year electr consumption, 13/11/2013 12/11/2014, separ 91% train remain 9% testing. test data compris 35 differ dai (i.e. 35 test sets) distribut equal year; mean 9 dai season take account seven dai week (from mondai sunday). choos dai pretend evalu model chang caus season period(s) dai week. experi experi perform 24 hour predict 9 differ fir forecast strategies; standard fir predict aforement flexibl fir predict (8 output forecast strategies). hand, aim understand output' forecast strategi cope better dispers output forecast class low confid predict (due presenc mv data). hand, analys evolut flexibl fir predict accuraci number mv dataset. add mv experiments, substitut data point unaccept valu model. current implement fir set miss valu -9. 3 etseiat: school industri aeronaut engin terrassa 4 epsem: school engin manresa 5 epsevg: school engin vilanova 6 eetac: school telecommun aerospatial castelldefel 7 fib: barcelona school informat data contain mv need real consumpt evalu standard flexibl fir. instead, mv ad artifici (more detail section 4.1.1 4.1.2). 4.1.1 experi 1: flexibl fir strategi evalu experi (figur 6) aim understand possibl perform predict partial inform input pattern correl number input variabl depth mask. so, identifi branch differ number input variabl depths. branch account basic variabl load forecasting; output variable, i.e. histor consumptions. concrete, relev electr past consumpt select fir fsp. second branch includ past valu electr consumpt (four variables), binari variabl specifi work day. therefore, second experi inputs. finally, branch includ input previou experi plu hour dai variable. fsp appli differ depths: 24, 72 24 + 24. reason depth chosen explain section 4.1.3. 9% data test substitut mv (onli histor consumpt output variable) train process model (see tabl 3). modif data, emul failur gather data. tabl 3. number mv experi 1 experi 2 experi 1 % mv train dataset (onli histor consumpt output variable) number mv 9 6720 experi 2 % mv train dataset (all input output variables) number mv 9 20160 18 39168 27 58176 36 77184 45 96192 54 115200 63 134208 72 153216 81 172224 4.1.2 experi 2: robust reliabl flexibl fir second experi consist increas number mv data progress evalu accuraci predictions. figur 7, show scheme experiment, slightli differ experiment: train test (without mvs) comput 4 relev past consumpt base fir fsp. n, percentag mv data, initi (an initi valu given) randomli substitut n% train data mvs. right after, process fir model creation fir forecast (standard flexible) follow scheme experi variables: 4 import past consumptions, work dai hour day. finally, predict error comput base 35 test days. then, n increased, randomli substitut n% train data mvs. experi repeat maximum n%. notic fir fsp comput data contain mvs. purpos experi describ paper, assum data miss random, i.e. correl occurr miss valu differ variables, ignor mechan miss data. . tabl 3 show number mv insert train dataset. experiment, insert input output variables. therefore, number mv n = 9% time experi 2 1. number mv randomli select increas 9% round. figur 6. scheme experi 1 depth equal 24. scheme appli depth 72 24+24. number parenthes stand number variabl ad model. figur 7. scheme experi 2 evalu implic mv train dataset flexibl fir prediction. number parenthes stand number variabl ad model. 4.1.3 model paramet studi model process consist of: 1) featur select process 2) us relev featur deriv fir model 3) select paramet allow flexibl predict fir case miss data. process repeat locat depth studied. decid build model predict electr consumpt dai ahead season instead 4 independ models, i.e. season. main reason data studi present clear trend; deseason pre-process appli want studi capac differ methodolog obtain gener models. fsp appli histor consumpt data hourli daili information. decid follow strategi hourli daili inform contain hour dai work day, respectively. therefore, valuabl inform gain actual valu previou ones. however, previou consumpt contain inform pattern import knowledg extracted. select depth number variabl crucial issu affect method sensit curs dimensionality. fsp fir used, increas number variabl (i.e. complexity) depth, qualiti result increas optim valu reached. that, increas number variabl add nois end lower-qu result. impli unfulfil observ ratio end imposs prediction. empir determined, electr load consumpt applications, variabl depth higher 72, increas significantli qualiti fsp fir, comput cost (in term time) exponenti [18]. 4.1.3.1 model paramet experi 1 captur relev previou consumpt electr load series, differ depth studied: i) previou 24 hours, ii) previou 72 hour iii) 24 + 24: previou 24 hour past 24 hour previou week (48 past valu total correspond depth mask 168). regard complex mask, past consumpt select fir taken account model develop work mask increas variabl work dai hour added. fuzzif parameters, class equal frequenc partit algorithm discret electr load consumpt hour dai variable. work dai variabl binari and, therefore, discret classes. finally, output forecast, paramet set knn k=5, seen experi applic [11][12][18] good results. 4.1.3.2 model paramet experi 2 focu best model configur predictions, predict error evolut increas number mv train dataset. then, depth complex select better result experi 1, 48 6 respect (figur 8 figur 9). output forecast, k remain experi 1. 4.1.4 flexibl fir predict paramet standard fir output forecast, paramet set knn new strategi k=5. apart that, paramet determin new flexibl fir prediction. 4.1.4.1 bpnv bpv revious point section 3.1, pnovar pvar comput valid dataset. valid dataset taken train dataset (test dataset comput pnovar pvar, independ procedures), total 7896 data points; 80% train 20% testing. 4.2 evalu criteria measur forecast' accuraci literatur [26]. requir statist qualiti measure, abl compar differ forecast method build differ averag loads. normal mean squar error (nmse), describ equat 21, error measur evalu forecast results. = 1 [(() ())] 2 =1 /(()) (21) yr yf real forecast electr consumptions, respectively, var(ytraining(t)) varianc real electr consumpt train data. n number element test dataset. mean squar error suitabl evalu perform model valu dataset differ magnitude. example, valu predict build order 132 kwh, whereas, instance, castelldefel bar order 5 kwh. hence, decid us mse divid varianc train dataset, order standard data. nmse criterion commonli evalu criteria. present research consid us mean absolut percentag error (mape) offer forecast perform multi-dimension perspective. reason choos mape compar perform differ datasets, rel measure. mape, describ equat (22). = 100 1 |(() ()) () | =1 (22) however, mape put heavier penalti neg error posit errors. example, (1) = 4.20 (1) = 6.03 (neg error) mape 43.57%. (1) = 6.03 (1) = 4.20 (posit error) mape 30,34%. applic interest penal neg errors, higher predict actual valu lead extra purchas assets. study, interest forecast accuraci penal equal neg posit errors. observ led us so-cal symmetr mean absolut percentag error (smape) [27] defin = 200 1 |(() ())| (() + ()) =1 (23) exampl above, smape, error obtain neg posit error 35.77%. therefore, smape chosen second measur forecast' accuracy. addition, highlight measur base percentag error disadvantag undefin y(t) = 0 t period interest, have extrem skew distribut valu y(t) close zero. experiments, verifi consumpt data point y(t) equal close zero. 5. result 5.1 experi experi 1 tabl 1 show result obtain standard fir flexibl fir strategi differ depth studied, experi differ number input variables. result obtain averag error predict 35 test dai consid 8 build study. lowest error experi highlighted. averag predict error standard fir new implement equival error lower flexibl fir prediction. promis result new version fir perform predict mvs, input pattern behaviour matrix, nmse smape averag 0.108 11% respectively. import emphas averag error perform standard fir contain regist miss valu problem predict them, mean take account predict comput nmse smape. main reason high error valu appear cell tabl 4 tabl show averag 35 test days. case predict singl dai bad averag error consider increased. tabl 5 show result obtain standard fir abl perform prediction, i.e. mv input pattern and/or input pattern behaviour matrix. analysed, seen nmse smape averag are, best cases, 0.116 11% respectively, similar averag error predict tabl 4, miss inform present. figur 8 figur 9 error evolut smape differ fir model configur standard fir flexibl fir (8 strategies). averag comput consid predict result 8 build study. figur 8 predict error (of 4, 5 6 input variable) consid comput averag differenti depth mask. figur 9 show averag predict error (with depth mask 24, 48 72) differenti number input variabl fir models. tabl 4. nmse smape averag (%) 35 test dai repres entir season year, 8 differ buildings, obtain mean standard fir predict flexibl fir predict (f1-2-3: output forecast 1,2,3 ) tabl 5.nmse smape averag (%) dai standard fir predict predict mv tabl 6. number regist (reg.) predict standard fir predict flexibl fir predict depth: 24 depth: 72 depth: 48 (24+24) fir flex fir fir flex fir fir flex fir input variables: 4 reg. 6613 6720 6597 6720 6530 6720 % 98.41 100 98.17 100 97.17 100 input variables: 5 reg. 6521 6720 6438 6720 6574 6720 % 97.04 100 95.80 100 97.83 100 input variables: 6 reg. 5984 6720 5719 6720 5861 6720 % 89.05 100 85.10 100 87.22 100 figur 8. smape error evolut differ depth (24, 48 72) figur 9. smape evolut differ number input variabl (4, 5 6) similarly, figur 10 figur 11 error evolut smape differ flexibl fir predict model configurations, standard fir predict miss data problem. figur 10. smape error evolut differ depth (24, 48 72) standard fir predict figur 11. smape error evolut number variabl (4, 5 6) standard fir predict tabl 6 total averag regist predict experi 1 differ methodolog shown. flexibl fir predict used, regist (from test dataset) predicted, standard fir decreas 85% configur parameters. experi 2 figur 12 progress percentag regist predict versu percentag mv train process shown. y axi indic total number (in percentage) regist possibl predict test dataset. x axi repres percentag mv insert train dataset (detail experi explain section 4.1.3.2 model paramet experi 2). addition, differ point curv numer valu associated, averag 8 build smape. percentag grei colour belong standard fir, rest averag flexibl fir strategies. percentag regist predict flexibl fir remain (around 100%), percentag mv train data 70%. observ decreas regist predict 81% mvs. hand, percentag regist standard fir declin 10%, mv present 20% train data. expect lowest error observ percentag mv low. smape standard fir remain low (between 7.75% 18.18%) regist predict (from 84.77% 0%). happen experi 1, smape standard fir contain regist miss valu problem, i.e. regist standard fir abl predict all. hand, flexibl fir strategi averag accuraci 86.14% (% mv train data= 9%) 75.13% (% mv train data= 72%). however, unlik standard fir, strategi new approach abl predict 100% regist % mv train data high, i.e. 81%. figur 12. predict error (smape) progress % mv increas standard flexibl fir' train process figur 13. predict error (smape) progress % mv increas flexibl fir' train processtwo flexibl fir strategi perform lower: consist.2 (ccf1) inertia (ccf2). observed, predict error 6 8 strategi similar seen differ them. however, aim figur tendenc strategies. 0 10 20 30 40 50 60 70 80 90 0 20 40 60 80 100 120 13.09% 8.15% 7.75% 11.29% 9.33% 18.18% 12.86% 13.86% 14.67% 17.32% 19.64% 21.93% 23.1% 24.87% 32.11% 35.25% progress regist predict vs mv data % mv train data % r e g te rs p d ic te d fir aknn bqnv bqv bpnv bpv ccf1 ccf2 cin figur 13. predict error (smape) progress % mv increas flexibl fir' train process 5.2 discuss base figur 8 figur 9 clear that, data, optim configur standard flexibl fir mask depth 48 number input variabl 6. base figur 10 figur 11, standard fir predict, optim configur flexibl fir depth 48 5 input variables. result ad inform fir model (more input variables) standard flexibl fir improv predict accuracy, mean variabl work dai hour dai add valuabl inform models. predict regist affect presenc mvs, variabl hour dai contribut improv predict accuracy. seen tabl 4 predict error flexibl fir predict close standard fir, discard predict miss data problem. focu result regist predict standard fir (tabl 5), bpv (use causal relev pvar) strategi better result model configurations. moreover, 6 9 model configurations, strategi better result utilis causal relevance. result suggest us causal relev flexibl fir mitig impact dispers output class loss causal remov partial inform behaviour matrix. import highlight bpv bpnv comput causal relev base mse predict valid dataset, instead base qualiti mask (a bqnv bqv). mean comput cost obtain causal relev pvar pnovar higher qvar qnovar, case fir forecast process needed, second comput mask quality. thus, believ futur industri applic comput cost import variabl consider, bqnv bqv best strategi implemented. ccf2 cin accuraci decreas faster rest strategies, mv present train dataset, observ figur 10 11. ccf1, ccf2 cin us ovari check dispers possibl output classes. compar ccf2 aknn, default output forecast strategi fir, (on average) aknn predict better ccf2. notic percentag mv data increas (figur 12 figur 13). similarly, cin improv predict accuraci compar aknn. mean confid measur incorrect approxim measur probabl perform prediction, us paramet strategi integrated. unlik ccf2 cin, predict error ccf1 strategi increas fast higher percentag mv data. nevertheless, look tabl 4 tabl 5, average, aknn predict better 0 10 20 30 40 50 60 70 80 90 14 16 18 20 22 24 26 28 progress smape(onli flexibl fir) vs % mv data % mv data % e rr o r aknn bqnv bqv bpnv bpv ccf1 ccf2 cin ccf1. ccf1 strategi contribut significantli improv forecast dispers output class present. consequence, better respect distanc (dj) norm imag (pi) ignor dispers possibl output classes, us previou valu predict value, high probabl perform bad prediction. base result experi 2, robust flexibl fir strategi demonstr take account percentag regist predict 96% % mv train data 73%. signific decreas number regist predict observ mv present 82% train dataset, high number mvs. furthermore, differ predict error % mv train data 9% (smape = 13.86%) 63% (smape = 24.87%) 11%, big differ take account volum inform lost. thus, flexibl fir abl good compromis inform lost predict accuracy. 6. conclus futur work work comparison fir forecast strategi perform mv present data. limit standard fir, abl perform predict contain miss data input pattern discard pattern rule mvs. cope situat propos improv version fir fuzzi forecasting, call flexibl fir prediction. differ strategi predict new approach propos compar understand: loss causal variable, dispers output class increas miss data train process affect forecast accuracy. studi defin reliabl robust fir forecast process, help instance, load model applic miss data present onlin predictions. experi present contain mv train process onlin prediction. strategi propos abl cope advantag inher inform data, contain mvs. research, demonstr flexibl fir abl predict electr consumpt accurately, make us partial information, standard fir cannot. average, strategi lower predict error bpv, us causal relev pvar. whilst ccf2 cin strategi higher predict errors. lowest predict error strategi aknn depth equal 48 4 input variables. outcom studi shed light robust soft comput methodolog smart home smart grid applications. futur work, plan integr flexibl fir, propos strategies, smart home internet thing (iot) platform provid home context awar predict event pattern detection. interest applic intermitt commun home area sensors, gener signific number mvs. integr flexibl fir smart home iot result encourag compar standard predict pattern recognit framework weka rapidminer. acknowledg like thank narc avellana fruit discuss support research. refer [1] jerez, j.m., molina, i., garca-laencina, p.g., alba, e., ribelles, n., martn, m., franco, l. 2010. miss data imput statist machin learn method real breast cancer problem, artifici intellig medicine, vol. 50(2), pp. 105-115. [2] www.iurban-project.eu [3] www.greencom-project.eu [4] tresp, v., ahmad, s. neuneier, r. 1994. train neural network defici data. advanc neural inform process system 6, pp. 128-135 [5] lakshminarayan, k., harp, s.a., goldman, r., samad, t. 1996. imput miss data machin learn techniques, proceedings: second intern confer knowledg discoveri data mining, pp. 140-145 [6] baraldi, p., di maio, f., genini, d., zio, e. 2015. reconstruct miss data multidimension time seri fuzzi similarity, appli soft computing, vol. 26, pp. 1-9 [7] lei, k.s., wan, f. 2010. pre-process miss data: hybrid approach air pollut predict macau, autom logist (ical), pp.418-422 [8] luo, x., zhou, m., xia, y., zhu, q., ammari, a.c., alabdulwahab, a. 2015. gener highli accur predict miss qo data aggreg nonneg latent factor models, neural network learn systems, vol.pp(99), pp.1-1 [9] nebot, a. mugica, f. 2012. fuzzi induct reasoning: consolid approach data-driven construct complex dynam systems. intern journal gener systems, vol. 41(7), pp. 645-665. [10] escobet, a., nebot, a., cellier, f.e. 2008. visual-fir: tool model identif predict dynam complex systems, simul model practic theory, vol. 16, pp. 76-92. [11] jurado, s., nebot, a., mugica f. 2015. hybrid methodolog electr load forecasting: entropy-bas featur select machin learn soft comput techniques. energy, vol. 86, pp 276-291. [12] jurado, s., peralta, j., nebot, a., mugica, f., cortez, p. 2013. short-term electr load forecast comput intellig methods, fuzz-iee 2013: 2013 ieee intern confer fuzzi systems. doi: 10.1109/fuzz-ieee.2013.6622523. [13] nebot, a., mugica, f., cellier, f., vallverd, m. 2003. model simul central nervou control gener fuzzi models, transact societi model simulation, vol. 79(11), pp. 648-669. [14] gmez, p., nebot, a., ribeiro, s., alquzar, r., mugica, f. wotawa, f., 2003, local maximum ozon concentr predict soft comput methodologies. system analysi model simulation, 43(8), pp. 10111031. [15] brouwer, r.k., pedrycz, w. 2003. train feed-forward network incomplet data miss input variables, appli soft computing, vol. 3(1), pp. 23-36 [16] van lint, j.w.c., hoogendoorn, s.p., van zuylen, h.j. 2005. accur freewai travel time predict state-spac neural network miss data, transport research c: emerg technologies, vol. 13(5-6), pp. 347-369 [17] leke, c., twala, b., marwala, t. 2014. model miss data prediction: comput intellig optim algorithms. systems, man cybernet (smc), pp.1400-1404. [18] jurado, s., nebot, a. mugica, f. 2015. flexibl fuzzi induct reason approach load model abl cope miss data. proceed 8th intern confer simul tool techniqu (simutool '15), pp. 349-356. [19] klir, j.,elias, d. (2002). architectur system problem solving, 2nd. ed., plenum press, new york. [20] jerez, a. nebot, a., 1997. genet algorithm versu classic search techniqu identif fuzzi models, proceed eufit97, 5th european congress intellig techniqu soft computing. aachen, germany, pp. 769-773. [21] law, a.m. kelton, w.d. 1991. simul model analysis, vol. 2, mcgraw-hill. [22] nebot, a., mugica, f., castro, f. 2009. causal relev improv predict accuraci dynam system induct reasoning. intern journal gener systems, vol. 38:3, pp. 331-358 [23] castro, f., nebot, a., mugica, f. 2008. soft comput decis support framework improv e-learn experience. mse08: model simul educ spring simul multiconference, pp. 781-788. [24] castro, f., nebot, a., mugica, f. 2007. causal relev approach improv student perform e-learn environment, micai07: 6th mexican internacion confer artifici intelligence, ieee societi highlights, pp. 342-351. ftp://63.218.109.149/old/mcgraw hill - simul model analysi - edit - averil m law - w david kelton.pdf [25] cellier, f. e., lpez, j., nebot, . cembrano, g. 2010. confid measur predict fuzzi induct reasoning, intern journal gener systems, vol. 39:8, pp. 839-853 [26] hyndman, r.j., koehler, a.b. 2006. look measur forecast accuracy. intern journal forecasting, vol. 22, pp. 679-688. [27] makridakis, s. 1993. accuraci measures: theoret practic concerns. intern journal forecasting, vol. 9, pp. 527 529