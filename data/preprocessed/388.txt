meccanica , volum 53 , issu 7 , pp .
1757-1776 doi : 10.1007/s11012-017-0712-3 - special issu  new trend mechan masonri  track multi-direct intersect crack numer model masonri shear wall cyclic load savva saloustro  miguel cervera  luca pel receiv : 16 januari 2017 accept : 8 june 2017 abstract in-plan cyclic load masonri wall in- duce complex failur pattern compos multipl diagon shear crack , well flexur crack .
realist model induc local crack necessit use cost direct numer simula- tion detail inform properti geometri masonri compon .
contrari , comput effici macro-model use standard smeared-crack approach often result poor rep- resent fractur simul materi , proper local bias finit element mesh orient .
work propos possibl rem- edi drawback macro-model use crack-track algorithm .
macro-model approach result afford comput cost , track algorithm aid mesh-bia in- depend local represent crack .
novel methodolog present allow simula- tion intersect multi-direct crack use track algorithm .
develop extend use local crack approach use track algorithm savva saloustro  miguel cervera  luca pel depart civil environment engin universitat politcnica de catalunya ( upc-barcelonatech ) jordi girona 1-3 , 08034 barcelona , spain .
intern center numer method engin ( cimn ) gran capit , s/n , 08034 barcelona , spain .
e-mail : savvas.saloustro @ upc.edu e-mail : miguel.cervera @ upc.edu e-mail : luca.pela @ upc.edu wider field applic exhibit multipl , ar- bitrari interact crack .
paper present also novel formul includ orthotrop damag model descript irrevers deforma- tion shear load .
propos approach calibr comparison experimen- tal test masonri shear wall in-plan cyclic load .
keyword continuum damag mechan  crack- track  cyclic shear load  intersect crack  masonri wall 1 introduct damag masonri appear form local crack .
propag crack within structur determin develop collaps mechan consequ capac struc- ture given load condit .
structur behaviour taken account devel- opment classic advanc analysi tool structur assess masonri construct [ 1 , 2 , 3 , 4 ] .
numer model masonri structur un- dergon import develop last decad .
inventori numer method today includ simplifi techniqu limit analysi softwar [ 5 , 6 , 7 , 8 ] , equival frame method [ 9 , 10 , 11 ] macro-model approach [ 12 , 13 , 14 ] sophisti- cate one micro-model [ 15 , 16 ] multi-scal finit element model [ 17 , 18 , 19 ] .
simplifi numeri- cal method , like macro-model one , consid masonri continuum materi averag proper- tie .
simplif allow numer anal- 2 savva saloustro et al .
ysis larg scale structur afford computa- tional cost howev limit accuraci dam- age represent .
reciproc , explicit considera- tion masonri micro-structur micro-model techniqu result realist represent crack , cost increas comput time memori requir limit date appli- cation small structur element rather whole structur .
afford altern simul local- ize crack larg scale structur propos cervera co-work [ 20 , 21 , 22 ] .
method base enhanc smear crack approach use crack-track algorithm .
outcom approach realist represent evolv- ing local crack within analys structur comput cost compar classic smear crack approach [ 23 , 24 ] .
despit recent applic masonri structur , track algorithm long histori simul local failur quasi-brittl ma- terial .
use enhanc problem involv progress weak , smear ( e.g .
[ 25 , 26 , 22 ] ) strong , discret , discontinu ( e.g .
[ 27 , 28 , 29 , 30 ] ) .
independ chosen approach , applic aim circumv problem mesh-depend irreduc standard finit element formul present .
addit featur realist represent crack , sinc lo- calize damag occur within narrow band mesh .
notwithstand aforement advan- tage , track algorithm common design import assumpt regard initi , prop- agat complet simul crack .
assumpt limit use approach simul propag crack monoton load .
paper present methodolog simul ef- ficient local crack masonri structur induc in-plan cyclic load use contin- uum damag mechan model enhanc crack- track algorithm .
cyclic load masonri struc- ture may result complex damag pattern charac- teriz multipl intersect crack .
appro- priat model , novel numer methodolog propos , basi track algorithm de- velop previous work [ 22 , 31 , 32 ] , allow simul intersect multi-direct crack- ing , extend use track algorithm larg field applic .
constitut level , paper present novel formul context contin- uum damag model descript irrevers deform shear load .
introduct , paper organ follow way .
section 2 present use constitut damag model .
follow , novel track algo- rithm detail section 3 .
propos approach calibr section 4 simul experiment test masonri wall cyclic shear load .
section address issu mesh object track algorithm .
paper end conclud section 5 .
2 constitut model materi non-linear repres nu- meric simul use constitut model present [ 33 ] .
strain-bas continuum damag model two scalar damag variabl dis- tinguish tensil compress damag .
decomposit effect stress tensor posit negat part , well use two damag variabl , result unilater effect un- der tension-compress cyclic load .
model account irrevers deform simpl effici algorithm , within context contin- uum damag mechan .
properti , well limit number involv materi paramet simpl explicit formul , make suitabl model seismic analysi larg concret ma- sonri structur [ 34 , 35 , 36 , 37 ] .
sake complet , section present basic ingredi aforement tension- compress damag model .
shear behaviour model care consid proper defi- nition damag surfac evolut irrevers strain .
model irrevers strain achiev improv previous formul main intend concret structur [ 33 , 34 , 38 ] .
section end discuss effect propos alter evolut irrevers deform shear load .
2.1 constitut law cauchi stress tensor ( rank two )  comput tension-compress damag model constitut relat  = ( 1 d+ ) + + ( 1 d )  ( 1 ) d+ d scalar variabl denot com- pressiv tensil damag affect posit + track multi-direct intersect crack numer model masonri shear wall cyclic load 3 negat part  effect stress tensor re- spectiv .
latter calcul distin- guish stress split accord [ 38 ] + = 3 j=1 j pj  pj ( 2 )  =   + ( 3 ) equat , j princip stress cor- respond eigenvector pj effect stress tensor  symbol  macaulay bracket ( x = x , x  0 , x = 0 , x < 0 ) .
model use two scalar variabl  , equiva- lent stress , distinguish load , unload reload .
adopt valu +  de- termin shape d+ d damag surfac .
work adopt valu propos [ 19 , 39 ] + = h [ max ] 1 1 [  3j2 + ai1 + bmax ] f+ f ( 4 )  = h [ min ] 1 1 [  3j2 + ai1 + 1bmax ] ( 5 ) = ( fb /f  )  1 2 ( fb /f  )  1 ( 6 ) b = ( 1 ) f f+  ( 1 + ) ( 7 ) , f+ f denot tensil compress uniaxi strength respect fb biaxial compress strength .
i1 first invari effect stress tensor j2 second invari deviator effect stress tensor .
final , max min stand maximum minimum princip effect stress respect .
use heavisid step function ( h [ x ] = 1 x  0 h [ x ] = 0 x < 0 ) activ + tensil shear stress state ( 1st , 2nd 4th quadrant figur 1 ) ,  compress shear shear stress state ( 2nd , 3rd 4th quadrant figur 1 ) .
1 variabl control shape failur surfac shear quadrant ( i.e .
2nd 4th quad- rant figur 1 ) .
valu vari 0 ( i.e .
drucker-prag criterion ) 1 ( i.e .
criterion pro- pose [ 40 ] ) .
note use macaulay brack- et max equat ( 5 ) make function  inde- pendent 1 pure compress .
, addit fact 1 appear equat ( 4 ) , make tensil compress respons 1st 3rd quadrant figur 1 independ 1 .
shown petracca et al .
[ 39 , 41 ] , differ choic definit equival stress pro- pose [ 35 , 38 , 40 ] result better control model behaviour shear monoton load .
shown later , choic surfac current model result also consider irrevers deform shear load .
< 1 = < 3 < 1 = < 3 < 1 /f+ < 3 /f+ =+ case - 1 : = ! ( 7 < ! )
case - 2 : = !
( 7 < ) ; 51 = 0:0 case - 3 : = !
( 7 < ) ; 51 = 0:5 case - 4 : = !
( 7 < ) ; 51 = 1:0 fig .
1 : effect  function shape d failur surfac shear quadrant plane stress case .
follow , damag criteria ex- press  ( r ,  ) =   r  0 ( 8 ) intern variabl r+ r repres current damag threshold respect expans d+ d damag surfac .
initi valu defin equal uniaxi tensil strength r+0 = f + uniaxi compress strength r0 = f .
damag trigger , valu equal maximum attain valu equival stress rn = max [ r0 , max i ( 0 , n ) ( i ) ] ( 9 ) n repres number current ( load /displac ) increment .
4 savva saloustro et al .
effect irrevers deform ac- count use follow definit effect stress tensor   = c0 : (  i ) = c0 : e ( 10 ) c0 denot ( rank four ) elast constitut tensor i irrevers part second order total strain tensor  e elast one .
contrari total strain tensor , extern variabl model , irrevers strain tensor intern variabl .
follow express propos work rate irrevers strain i = lim t (  t r (  )  rt rt+t et+t ) ( 11 ) increment form i =  r (  )  rn rn+1 en+1 ( 12 ) equat , n n + 1 subscript refer subsequ time step .
symbol ``  '' denot increment specif quantiti step n n+1 .
variabl  r (  ) repres , respect , effect stress stress threshold absenc increment irrevers strain time step n+ 1  = ( |i=0 ) n+1 = n +c0 : n+1 ( 13 ) r (  ) = max [ rn ,   (  ) ] ( 14 ) note quantiti r (  )  rn alway non- negat due equat ( 14 ) , essenti thermody- namic requir ensur non-neg dissipa- tion .
final , materi paramet  , valu be- tween 0 1 , defin rate irrevers defor- mation scale current increment equiv- alent stress , consequ stress threshold , follow equat rn+1 = r  n+1  r  n ( 15a ) = ( 1  ) ( r (  )  rn ) ( 15b ) conveni consid effect irre- versibl strain definit effect stress , sinc cauchi stress comput us- ing valu effect stress  two damag variabl d .
perform updat effect stress use equat ( 10 ) ( 11 ) similar way [ 33 ] n+1 =   ( 16 )  = 1  ( 1 rn r (  ) ) ( 17 ) comput effect stress increment analysi present flowchart tabl 1 .
( ) comput  use equat ( 13 ) .
( ii )  > 0 ?
yes : continu step ( iii ) : evolut irrevers strain consid .
set n+1 =  exit .
( iii ) calcul  (  ) use equat ( 5 ) r (  ) use equat ( 14 ) .
( iv ) comput  use equat ( 17 ) .
set n+1 =   exit .
tabl 1 : flowchart calcul effect stress .
follow , evolut damag variabl defin , work follow ex- ponenti relationship propos [ 42 ] .
d = 1 r0 r exp { 2hd ( r0  r  r0 ) } ( 18 ) tension compress evolut law consid re- spectiv posit g+f negat g  f fractur en- ergi , well characterist finit element width ldis correspond discret soften pa- rameterhd ensur mesh-siz independ energi dis- sipat accord crack-band theori [ 43 ] .
case tension [ 44 ] h+d = ldis l+mat  ldis ( 19 ) case compress damag , discret soften paramet hd defin ( see appendix ) hd = 1 1  ( ldis lmat  ldis ) ( 20 ) definit consist crack band-width approach yield object result dif- ferent valu  consid contribut track multi-direct intersect crack numer model masonri shear wall cyclic load 5 -1 -0.8 -0.6 -0.4 -0.2 0 -6 -5 -4 -3 -2 -1 0  /f  min / ( e f  )  = 0.00  = 0.50  = 0.95 ( ) -1 -0.8 -0.6 -0.4 -0.2 0 -6 -5 -4 -3 -2 -1 0  /f  min / ( e f  )  = 0.00  = 0.50  = 0.95 ( b ) fig .
2 : effect choic discret soften pa- ramet compress soften behaviour differ valu  : hd ( ) use equat ( 20 ) , ( b ) use formul [ 45 ] .
dissip energi evolut irrevers strain compress damag .
, materi characterist length lmat tension com- pression lmat = 2egf ( f ) 2 ( 21 ) use discret soften paramet equa- tion ( 20 ) result object represent dissip energi gf .
illustr figur 2 case cyclic uniaxi compress load us- ing propos hd equat ( 20 ) instead one adopt [ 45 ] , negat counterpart equat ( 19 ) .
use new soften modulus ( figur 2a ) result consist energi dissip accord input valu gf independ choic  .
effect  visualis use equat ( 11 ) ( 15 ) two limit case   0 ; 1  = 0  r = r (  )  rn ( 22 )  in+1 = 0 ( 23 )   1  r = 0 ( 24 )  dn+1 = 0 ( 25 ) first case ,  = 0 , recov standard con- tinuum damag mechan model without evolu- tion irrevers strain .
contrariwis ,   1 effect stress updat evo- lution equival stress  correspond r .
case , compress damag evolu- tion total increment strain step irrevers .
valu  within 0 1 , give proport evolut irrevers strain compress damag .
effect illustr figur 2a .
2.2 irrevers strain shear load impli definit equat ( 11 ) , irre- versibl strain i influenc select compress damag criterion thus compres- sive equival stress  .
mean evolut irrevers strain possibl com- pressiv damag increas .
effect choic investig local pure shear .
assum materi paramet demonstr exampl present tabl 2 .
comparison purpos , four case con- sider differ definit  .
first one , refer hereaft case-1 ,  calcul us- ing negat effect stress tensor ( j2  , i1  , max ,   min )  = h [ min ] 1 1 [  3j2  + ai1  + bmax ] ( 26 ) definit use negat part effect stress tensor , result  open  d damag surfac shear quadrant , shown figur 1 plane-stress case .
mean local test , compress damag pure shear trigger minimum princip stress reach uniaxi compress strength materi .
three case , equival stress eq .
( 5 ) use function total effect stress tensor (  ) 1=0.0 ; 0.5 ; 1.0 case-2 , case-3 case-4 , 6 savva saloustro et al .
f+ f g + f g  f e v  [ mpa ] [ mpa ] [ j/m2 ] [ j/m2 ] [ mpa ] [  ] [  ] 0.2 5.0 50.0 10000 3500 0.2 0.50 tabl 2 : materi paramet use element shear test .
-2 -1.5 -1 -0.5 0 0.5 -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 h e r st ss  x [ p ] shear strain xy  1000 case - 1 :  ( -  ) c  e b , f =  -2 -1.5 -1 -0.5 0 0.5 -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 h e r st ss  x [ p ] shear strain xy  1000 case - 2 :  ( - ) - 1 = 0.0 c  e f b =  ( ) ( b ) -0.15 -0.1 -0.05 0 0.05 0.1 0.15 0.2 0.25 0.3 -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 h e r st ss  x [ p ] shear strain xy  1000 case - 3 :  ( - ) - 1 = 0.5 b c e  f -0.15 -0.1 -0.05 0 0.05 0.1 0.15 0.2 0.25 0.3 -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 h e r st ss  x [ p ] shear strain xy  1000 case-4 :  ( - ) - 1 = 1.0  b c e  f ( c ) ( ) fig .
3 : respons shear revers load differ assumpt compress damag criterion .
( ) case -1 (  =  (  ) ) , ( b ) case - 2 (  =  (  ) 1 = 0.0 ) , ( c ) case - 3 (  =  (  ) 1 = 0.5 ) , ( ) case - 4 (  =  (  ) 1 = 1.0 ) .
point : trigger tensil damag , point b : trigger compress damag , point c : maximum shear deform first stage load , point : irrevers deform xy = 0 , point e : activ tensil damag , point f : activ compress damag .
respect .
shape four damag surfac present qualit figur 1 .
case subject shear deform compos two stage : ( ) load shear strain xy = 0.5  103 unload zero , ( b ) load shear strain xy = 2.5 103 .
figur 3 present respons shear four differ case .
letter appear graph refer follow condit occur two load stage : point   trigger tensil dam- age , point  b  trigger compress damag , point  c  maximum shear deform first stage load , point   irrevers deform xy = 0 , point  e  activ tensil damag second stage load , point  f  activ com- pressiv damag second stage load .
part o-a graph repre- sent linear behaviour reach d+ damag track multi-direct intersect crack numer model masonri shear wall cyclic load 7 surfac .
point , respons four mod- el depend specif assumpt negat equival stress  , i.e .
specif shape d failur surfac second fourth quadrant figur 1 .
case-1 case-2 , compress fail- ure criterion  reach given maximum shear strain xy = 0.5  103 .
result increas shear capac load path a-c ( see figur 3a-b ) .
addit consequ evolut irrevers strain sinc d failur surfac reach ( path c- figur 3a-b ) .
contrari , evolut ir- revers strain occur case-3 case-4 , sinc evolut compress damag d within load path a-c ( figur 3c-d ) .
case-4 , overlap tensil d+ compress d failur surfac result trigger tensil compress damag time ( b  c ) earlier evolut irrevers strain .
reason , unload path ( c-d , figur 3c-d ) less sharp one case-3 , result larger irrevers strain .
damag occur first stage cyclic static load analysi ( o-d path ) im- portant effect revers load second stage .
stiff revers load depend d+ d valu attain first stage cyclic load analysi .
damag increas effect stress  overcom attain threshold r ( point e d+ point f d ) .
case-3 case-4 , happen increment  ( e  f figur 3c-d ) .
capac case 2 keep increas satisfac- tion failur criterion  ( point f , figur 3b ) .
howev , happen case-1 , result increas shear capac .
analys show descript unilater effect shear cyclic load , thus definit unload stiff , requir care calibr equival stress  well magnitud irrevers strain  paramet .
3 track algorithm intersect multi-direct crack simul local crack within macro- model approach achiev use lo- cal crack-track algorithm .
aim algorithm identifi element cross propag crack time/load increment .
crack simu- late use nonlinear stress-strain rela- tionship element within crack path , one outsid maintain linear elast respons .
track algorithm use differ numeri- cal approach develop simul local crack quasi-brittl materi ( see [ 46 ] ) .
despit divers appli field , function alway , i.e .
local strain limit part structur , crack expect propag .
methodolog use base algorithm present [ 20 , 21 , 22 , 32 ] .
local natur crack-track techniqu enabl identif crack trajectori inform alreadi avail- abl step finit element analysi , i.e .
stress state finit element .
way , compu- tation cost , term time memori resourc , kept valu compar classic smear crack approach ( see [ 32 ] ) .
strategi aim good balanc accuraci effici , pri- mari import problem involv multipl intersect crack , case cyclic load ma- sonri structur .
section present novel develop mak- ing possibl simul intersect multi- direct crack use local crack-track algo- rithm .
new algorithm develop one present [ 32 ] , allow model arbi- trari crack , start boundari inte- rior analys structur propag toward one two direct .
latter enhanc fun- dament simul respons structur expe- rienc multipl divers crack due flexur , tensil shear stress state .
follow section focus detail novel algorithm .
first , general introduct task track algorithm present .
follow date assumpt regard model crack initi monoton load .
model crack propag intersect pre- sent section 3.3 .
final , section close novel approach simul multi-direct crack .
3.1 structur track algorithm crack-track algorithm present call begin numer increment calcul stress-stat two task : ( ) identifi origin new crack ( b ) rec- ogniz crack path finit element pertain .
output crack-track subroutin flag system use distinguish element within crack- path outsid .
way , two group element follow differ constitut behaviour .
, continuum damag model present section 2 8 savva saloustro et al .
fig .
4 : illustr crack propag use maximum curvatur criterion new intern crack .
use element within crack , rest linear stress-strain relationship maintain .
3.2 crack initi - monoton load new crack origin element satisfi fail- ure condit defin eq .
( 8 ) .
restrict pose locat crack origin use mesh present [ 32 ] .
crack initi corner intern element , centroid triangular element select crack origin .
case crack start element one side boundari , crack origin locat midpoint boundari edg .
minimum distanc defin exist new crack , refer hereaft exclus radius rexcl [ 22 ] .
two finit element satisfi failur criterion time/load increment distanc less exclu- sion radius , one highest valu tensil equival stress + ( see eq .
( 4 ) ) select crack origin .
valu exclus radius defin accord structur problem fabric materi analys shown [ 22 , 23 , 32 ] .
apart function , definit exclus radius avert initi secondari spurious crack sur- round crack-tip [ 27 , 47 ] , patholog may spoil correct damag local .
3.3 crack propag crack intersect propag direct defin orthogon direct maximum princip effect stress .
direct calcul element crack front ( crack tip element ) use stress tensor construct averag valu stress node element .
start crack en- tri point , use vector aforement direct ( figur 4 ) , next potenti element crack identifi crack entri coordin save .
figur 4a present exampl prop- agat intern crack , figur 4b show detail crack propag crack entri co- ordin wake crack tip .
crack origin element lie boundari structur , crack propag singl direct .
case flexur crack corner open base pier .
contrari , shear crack initi interior masonri wall spandrel .
allow , track algorithm recogn crack origin element in- terior structur , propag crack monitor toward two opposit orient , shown figur 4a .
way , shear flexur crack adequ model , masonri frame wall present figur 5 .
structur experienc multipl crack , unavoid crack meet crack track multi-direct intersect crack numer model masonri shear wall cyclic load 9 x z 0.2 0.1 0.3 0.4 0.5 0.6 0.7 tensil damag 0.8 1 0.9 0 gid x z 1.2407e-07 0.035 0.07 0.105 si-strain 0.14 0.175 0.35 0.315 0.28 0.21 0.245 gid ( ) ( b ) fig .
5 : exampl flexur shear local crack masonri frame simul in-plan horizont load use crack-track algorithm [ 32 ] : ( ) tensil damag contour , ( b ) maximum princip strain end analysi .
propag .
assumpt use [ 22 , 32 ] crack complet meet anoth crack propag front reconsid work order provid realist simul intersect crack cyclic in-plan load shear wall .
propos algorithm , crack continu unimped evolut follow procedur crack-tip part anoth crack .
crack direct identifi orthogon direct maximum princip effect stress finit element next element crack sought .
exampl case present follow section .
order avoid sudden chang crack di- rection due poor estim stress aris- ing use standard finit element , correc- tion crack propag opportun ap- pli use maximum curvatur criterion [ 20 , 21 , 22 ] .
criterion compar crack propa- gation direct crack-tip element averag crack direct vc ( figur 4a ) .
latter obtain averag sum propag direc- tion element crack path lie within distanc lower rneigh crack-tip .
propag direct diverg angl  larger max , next element crack sought use averag crack direct vc instead .
correct illustr figur 4 .
valu rneigh defin length crack behind crack tip consid comput vector vc ( see figur 4a ) .
maximum curvatur an- gle max determin margin allow crack rotat .
effect numer paramet , well criteria determin , detail [ 22 , 32 ] .
( ) ( b ) ( c ) activ crack inact crack fig .
6 : exampl crack shear load wall : ( ) open one crack load toward left , ( b ) close crack return initi configur ( c ) open second crack , diagon first revers load .
3.4 crack initi ii - multi-direct crack criteria crack initi , present section 3.2 , defin new crack start certain dis- tanc exist one , determin ex- clusion radius rexcl .
procedur robust struc- tural case monoton load , crack di- rection show sudden chang load histori ( see previous work [ 22 , 23 , 31 , 32 ] ) .
howev , cyclic load , earthquak wind load , may inducemulti-direct crack structur , refer- ring crack initi region exist crack differ direct .
illustr , consid simplifi case shear wall ( figur 6 ) subject cyclic shear load top ( restrain- ing rotat ) .
top displac toward left produc shear crack , start middl wall propag toward two end ( fig- ure 6a ) .
revers load cycl find wall initi configur crack close ( fig- ure 6b ) .
load opposit direct result open new crack propag diagon 10 savva saloustro et al .
fig .
7 : crack propag middl shear wall : ( ) propag shear crack load toward left , ( b ) deactiv crack due chang stress state , ( c ) initi propag second crack next inact one .
toward two corner ( figur 6c ) .
first crack complet close , structur condit be- fore open two crack similar result possibl origin second crack close origin first one .
accur simul case need dif- ferent approach regard crack initi one present section 3.2 .
specif case shear wall figur 6 , approach must allow initi second crack finit element satisfi failur criterion revers load cycl , independ distanc close crack .
model case involv initi crack due differ stress-stat region ex- ist crack possibl categor crack  activ   inact  .
prior defini- tion two categori , two new versor intro- duce :  crack direct vcr : versor denot averag direct consolid crack .
crack direc- tion crack calcul use crack entri coordin element within total length crack .
 crack closur direct vcl : versor denot averag direct orthogon maximum prin- cipal effect stress element within crack .
versor show averag crack propaga- tion direct element within crack time/load increment analysi .
two versor updat end time/load increment consolid crack .
crack defin  activ  angl crack direct versor vicr crack closur direct versor vicl lower predefin limit angl alim .
crack status altern express use follow function hi [ |vicrv cl|cos ( alim ) ] = { 0 inact crack 1 activ crack = 1 , ncr ( 27 ) (  ) dot product , subscript = 1 , ncr use denot versor valu crack total exist crack ncr h [  ] heavisid step function .
follow , element crack origin follow criteria satisfi : ( ) failur condit , defin constitut model ( eq .
8 ) , reach .
track multi-direct intersect crack numer model masonri shear wall cyclic load 11 ( ii )  activ  crack within distanc defin exclus radius rexcl .
mean new crack initi locat current stress-stat result clos- ing pre-exist crack .
illustr , figur 7 illustr algorithm model two shear crack middl wall exampl fig- ure 6 .
figur 7a show stress-stat within crack moment open crack movement toward left .
two versor crack ( vcr vcl , shown one two crack-tip crack ) coincid , crack direct defin accord crack-propag direct el- ement within .
crack activ continu propag .
figur 7b present stress state step revers cycl .
wall deform toward right exist crack close .
seen direct prin- cipal effect stress rotat compar crack open .
crack closur ( vcr ) crack direct versor ( vcl ) form angl greater limit angl lim .
exist crack therefor identifi inact , new crack al- low open .
happen later instanc , shown figur 7c , crack initi close exist crack propag thereaft .
use limit angl way identifi clo- sure exist crack possibl new one open resembl concept use model multipl crack constitut level smear crack mod- el de borst nauta [ 48 ] .
similar concept use also song & belytschko aim model crack branch propag crack [ 47 ] dynam fractur .
likewis , limit angl introduc work ( lim ) numer paramet aim deac- tivat use exclus radius strain state crack exceed margin set equa- tion ( 27 ) thus allow new crack emerg close exist one .
4 numer simul shear wall cyclic load 4.1 experiment numer set-up section , propos numer model cal- ibrat comparison experimen- tal case studi .
test perform antoin et al .
[ 49 ] consid in-plan respons ma- sonri wall quasi-stat shear load .
wall width 1.00 height 1.35 , thick 0.25 m. masonri construct us- ing english bond pattern unit dimens 55  120  250 mm3 10 mm mortar joint thick- ness .
vertic load 150 kn distribut top part wall maintain constant whole experi , aim repres gravit load act top masonri wall seismic event .
seismic action reproduc appli horizont displac top wall .
proper boundari condit appli avoid top bottom rotat .
figur 8a show sketch experiment set-up adopt execut cyclic shear test .
experiment obtain shear load dis- placement graph present figur 8b .
wall present typic behaviour shear domin fail- ure .
characteris overal drop ca- paciti increas load cycl appreci en- ergi dissip throughout whole load histori , repres area hysteret cycl load-displac curv .
quasi-brittl charac- ter shear failur due decreas strength produc format two system cross diagon crack wall [ 49 , 50 ] .
work , experi reproduc use continuum damag model crack-track algorithm present section 2 3 .
wall discret use 3-node constant-strain triangl ( 2836 node ) .
materi paramet present tabl 3 .
compress strength , densiti young  modulus equal valu obtain experiment test stack bond prism re- port [ 51 , 50 ] .
rest mechan proper- tie materi , paramet con- stitut model chosen order calibr correct shear respons materi , basi discuss present section 2.2 .
aim , valu 1 = 0.15 chosen similar valu use avail studi masonri shear wall [ 19 , 39 , 41 ] .
regard crack-track paramet , exclus radius set equal rexcl = 0.20 , valu length width masonri unit .
limit angl use activation-deactiv crack un- der cyclic load lim = 40 .
valu mean three addit crack orient vary- ing 40 initi next exist crack .
visual , consid exclus ra- dius defin equival unit size , valu impli total four crack differ orient initi unit .
investig case shear wall cyclic load , valu seem reason allow 12 savva saloustro et al .
( ) ( b ) fig .
8 : ( ) experiment set-up ( b ) experiment obtain forc displac graph test masonri wall .
pictur adapt [ 49 ] .
f+ f g + f g  f e  v  1 [ mpa ] [ mpa ] [ j/m2 ] [ j/m2 ] [ mpa ] [ kg/m3 ] [  ] [  ] [  ] 0.15 6.2 80.0 14000 1490 1750 0.2 0.95 0.15 tabl 3 : materi paramet masonri shear wall .
format diagon crack due shear fail- ure .
paramet maximum curvatur crite- rion max = 25 , rneigh = 0.60 m. valu paramet show adequ avoid sudden chang crack direct report previous work author [ 22 ] .
wall analys plane stress con- dition simul perform two stage .
first one includ applic self- weight vertic compress load top wall .
second stage , cyclic horizont dis- placement appli top wall in- creas magnitud , experi .
vertic dis- placement top restrain , preclud rota- tion wall .
numer solut perform increment manner .
time/load increment , nonlinear equat solv use modifi newton-raphson ( use secant stiff matrix ) .
converg achiev ratio be- tween norm iter residu forc norm total extern forc lower 102 .
calcul perform use enhanc version finit element softwar comet [ 52 ] , pre- post-process gid [ 53 ] , develop cimn , barcelona .
4.2 numer result figur 9 present contour tensil d+ compress d damag indic , well maximum princip strain end analy- sis .
wall domin diagon shear crack , agreement report experiment damag pattern [ 49 , 50 ] .
evid flexur crack lower bottom part wall , well two side .
despit open crack dur- ing load histori , main degrad wall concentr two diagon crack open middl wall , shown contour maximum princip strain .
use crack-track algorithm result clear represent local crack , aid iden- tific occur collaps mechan wall .
figur 10a present damag evolut fig- ure 10b state crack opposit top displac first cycl .
demonstr pur- pose , contour valu 1 ( red ) use activ crack -1 ( white ) inact one , element outsid crack maintain valu equal 0 ( orang ) ( figur ( 10b ) ) .
visibl crack activ maximum displac first cycl load direct toward right .
two flexur crack two corner wall consist track multi-direct intersect crack numer model masonri shear wall cyclic load 13 ( ) ( b ) ( c ) fig .
9 : contour : ( ) d+ damag index , ( b ) maximum princip strain end analysi , ( c ) d damag index end analysi .
( ) ( b ) fig .
10 : ( ) tensil damag contour d+ ( b ) crack state first load cycl maximum displac toward right ( left column ) maximum displac toward left ( right column ) ( deform mesh 100 ) .
first occur damag .
, shear crack ini- tiat middl wall ( left column figur 10 ) .
result top displac opposit direct present right column figur 10 .
previous open crack close correct identifi inact .
new hor- izont crack appear two opposit corner , well diagon shear crack middl wall , intersect exist crack .
propos approach capabl simul correct initi new crack close exist one , well inter- section .
figur 11 present damag pattern load cycl maximum displac top equal  =  3.0mm .
initi damag shown figur 10 , addit shear crack open , deform , howev , local initi diag- onal crack middl wall ( see center column 14 savva saloustro et al .
( ) ( b ) fig .
11 : contour tensil d+ damag ( left ) , maximum princip strain ( center ) crack state ( right ) top displac 3.0 mm toward right ( ) left ( b ) , ( deform mesh 50 ) .
figur 11 ) .
flexur crack initi two later side wall propag horizont to- ward interior .
note crack open opposit load direct correct iden- tifi close ( right column figur 11 ) .
-110 -90 -70 -50 -30 -10 10 30 50 70 90 110 -10 -5 0 5 10 f rc e ( k n ) displac ( mm ) experiment envelop numer result fig .
12 : forc horizont displac graph masonri shear wall obtain nu- meric analysi .
respons simul wall term hori- zontal load horizont displac present figur 12 .
numer simul captur shear failur wall , character overal soften branch stiff degrad af- ter exceed maximum capac .
first cycl load character almost linear be- haviour , due small amount damag shown figur 10 .
signific drop capac occur complet degrad diagon crack middl wall , occur load cycl maximum displac 3.0 mm , experi .
, increas dis- placement result drop stiff due degrad addit shear crack , yield final damag pattern strain state figur 9 .
use constitut model abl repres sat- isfactorili cyclic damag behaviour wall .
slight underestim magnitud ex- periment envelop hysteret loop due specif natur use damag model , associ evolut irrevers strain compress damag variabl d .
fact , seen figur 9c , compress dam- age d appear two diagon crack middl wall , make sourc irrevers deform .
track multi-direct intersect crack numer model masonri shear wall cyclic load 15 max = 15mm max = 30mm max = 45mm max = 70mm ( ) ( b ) fig .
13 : use discret ( first column ) contour tensil damag end various cycl increas maximum displac max : ( ) mesh-a , ( b ) mesh-b 4.3 mesh-depend studi track algorithm shown improv mesh object structur analys small [ 22 , 31 , 32 ] larg scale structur [ 54 ] monoton prop- agat crack .
section , shear wall anal- ysed addit mesh aim studi mesh depend present approach de- mand case cyclic load .
first column fig- ure 13 show differ discret use mesh depend analys .
first mesh , denot hereaft mesh-a , mesh use aforemen- tion result 5470 element .
second mesh , mesh-b , present constant structur pattern greatest part wall equilater triangl mak- ing angl 30 , 90 150 horizont axi lower number element ( 3704 ) compar mesh-a .
differ column figur 13 present dam- age pattern end differ cycl load histori .
diagon shear crack domin main part wall case , flexur crack appear boundari .
damag pattern similar greatest load histori wall , differ occur last cycl , coarser mesh ( mesh-b ) present addit shear crack .
-110 -90 -70 -50 -30 -10 10 30 50 70 90 110 -10 -5 0 5 10 f rc e ( k n ) displac ( mm ) mesh mesh b fig .
14 : horizont forc displac top wall mesh-a mesh-b figur 14 illustr forc appli displac graph two mesh overlap .
two analys bare import similar .
pre- dict capac wall show variat less 3 % attain second load cycl displac 3.0 mm .
follow , structur present soften respons drop capac energi dissip due open crack .
present figur 13 , first two 16 savva saloustro et al .
load cycl crack alreadi form , diagon crack middl wall well boundari crack top bottom end wall complet open .
upon point , numer respons reflect small differ regard- ing posit crack appear crack coarser mesh ( mesh-b ) , slight al- ternat residu respons wall .
5 conclus paper present enhanc macro-model finit element method crack- track algorithm simul behaviour masonri structur in-plan cyclic load .
novel methodolog propos simul inter- sect multi-direct crack occur ma- sonri cyclic action local crack-track techniqu .
achiev set suitabl crack opening/closur criteria numer algo- rithm .
crack repres local level use continuum damag model distinct represent tensil compress damag .
constitut model formul includ descript evolut irrevers deform simplifi way .
enhanc macro-model use sim- ulat experiment test shear masonri wall un- der cyclic quasi-stat load .
track algorithm shown capabl simul shear flexu- ral crack propag multipl direct inter- sect among .
result show use constitut model repres correct gradual decreas structur capac cyclic load process .
propos approach therefor proper account complex damag typolog crack appear propag shear cyclic condi- tion .
paper includ discuss constitut level regard evolut irrevers strain shear load .
simpl explicit algorithm formu- lation , togeth proper definit com- pressiv damag surfac , allow consid effect irrevers strain shear compress stress state .
complianc ethic standard conflict interest author declar conflict interest .
fund research receiv financi sup- port mineco ( ministerio de economia competitividad spanish govern ) erdf ( european region develop fund ) multima project ( multiscal tech- niqu experiment numer analysi reliabl masonri structur , ref .
num .
bia2015-63882-p ) .
refer 1 .
s. huerta ,  analysi masonri architectur : histor approach ,  architectur scienc re- view , vol .
51 , .
4 , pp .
297328 , 2008 .
2 .
p. roca , m. cervera , g. gariup , l. pel ,  structur analysi masonri histor con- struction .
classic advanc approach ,  archiv comput method engineer- ing , vol .
17 , pp .
299325 , jul 2010 .
3 .
d. theodossopoulo b. sinha ,  review analyt method current design pro- cess assess perform masonri structur ,  construct build materi , vol .
41 , pp .
9901001 , 2013 .
4 .
d. addessi , s. marfia , e. sacco , j. toti ,  mod- ele approach masonri structur ,  open civil engin journal , .
2 , pp .
288300 , 2014 .
5 .
a. ordua p. b. loureno ,  cap model limit analysi strengthen masonri structur ,  journal structur engin , vol .
129 , .
10 , pp .
13671375 , 2003 .
6 .
p. block , t. ciblac , j. ochsendorf ,  real-tim limit analysi vault masonri build ,  com- puter & structur , vol .
84 , pp .
18411852 , nov 2006 .
7 .
m. gilbert , c. casapulla , h. ahm ,  limit analysi masonri block structur non- associ friction joint use linear program- ming ,  comput & structur , vol .
84 , pp .
873 887 , may 2006 .
8 .
g. milani , p. loureno , a. tralli ,  ho- mogenis limit analysi masonri wall , part : failur surfac ,  comput & structur , vol .
84 , pp .
166180 , jan 2006 .
9 .
p. roca , c. molin , a. r. mar ,  strength ca- paciti masonri wall structur equiv- alent frame method ,  journal structur engi- neer , vol .
131 , .
10 , pp .
16011610 , 2005 .
10 .
s. lagomarsino , a. penna , a. galasco , s. cat- tari ,  tremuri program : equival frame model nonlinear seismic analysi ma- track multi-direct intersect crack numer model masonri shear wall cyclic load 17 sonri build ,  engin structur , vol .
56 , pp .
17871799 , 2013 .
11 .
r. siano , v. sepe , g. camata , e. spacon , p. roca , l. pel ,  analysi perform lin- ear field equivalent-fram model regular irregular masonri wall ,  engin struc- ture , vol .
press , 2017 .
12 .
y. endo , l. pel , p. roca , f. porto , c. mod- ena ,  comparison seismic analysi method ap- pli histor church struck 2009 l  aquila earthquak ,  bulletin earthquak engin , 2015 .
13 .
s. saloustro , l. pel , p. roca , j. portal ,  numer analysi structur damag church poblet monasteri ,  engin fail- ure analysi , vol .
48 , pp .
4161 , 2014 .
14 .
l. pel , m. cervera , p. roca ,  or- thotrop damag model analysi masonri structur ,  construct build materi , vol .
41 , pp .
957967 , 2013 .
15 .
p. b. loureno j. g. rot ,  multisurfac in- terfac model analysi masonri structur ,  journal engin mechan , vol .
123 , .
7 , pp .
660668 , 1997 .
16 .
l. macorini b .
a. izzuddin ,  non-linear in- terfac element 3d mesoscal analysi brick- masonri structur ,  intern journal nu- meric method engin , vol .
85 , pp .
1584 1608 , mar 2011 .
17 .
t. j. massart , r. h. j. peerl , m. g. d. geer ,  enhanc multi-scal approach ma- sonri wall comput local dam- age ,  intern journal numer method engin , vol .
69 , pp .
10221059 , jan 2007 .
18 .
d. addessi e. sacco ,  multi-scal enrich model analysi masonri panel ,  inter- nation journal solid structur , vol .
49 , .
6 , pp .
865880 , 2012 .
19 .
m. petracca , l. pel , r. rossi , s. oller , g. camata , e. spacon ,  multiscal comput first or- der homogen thick shell analysi out-of-plan load masonri wall ,  comput method appli mechan engin , vol .
315 , pp .
273301 , 2017 .
20 .
r. clement , anlysi estructur de edifi- cio histrico mediant modelo localizado de fisuracin .
ph.d. thesi , universitat politcnica de catalunya , 2006 .
21 .
l. pel , continuum damag model nonlinear analysi masonri structur .
ph.d. thesi , uni- versitat politcnica de catalunya , 2009 .
22 .
m. cervera , l. pel , r. clement , p. roca ,  crack-track techniqu local damag quasi-brittl materi ,  engin fractur me- chanic , vol .
77 , .
13 , pp .
24312450 , 2010 .
23 .
p. roca , m. cervera , l. pel , r. clement , m. chiumenti ,  continuum fe model anal- ysis mallorca cathedr ,  engin struc- ture , vol .
46 , pp .
653670 , 2013 .
24 .
l. pel , m. cervera , s. oller , m. chiu- menti ,  local map damag model orthotrop materi ,  engin fractur me- chanic , vol .
124-125 , pp .
196216 , 2014 .
25 .
m. cervera m. chiumenti ,  smear crack ap- proach : back origin track ,  intern journal numer analyt method geomechan , vol .
30 , .
12 , pp .
11731199 , 2006 .
26 .
a. slobb , m. hendrik , j. rot ,  smooth- ing propag smear crack ,  engineer- ing fractur mechan , vol .
132 , pp .
147168 , dec 2014 .
27 .
j. oliv a. e. huesp ,  continuum approach materi failur strong discontinu set ,  comput method appli mechan en- gineer , vol .
193 , .
30-32 , pp .
31953220 , 2004 .
28 .
g. meschk p. dumstorff ,  energy-bas mod- ele cohes cohesionless crack via x- fem ,  comput method appli mechan engin , vol .
196 , .
21-24 , pp .
23382357 , 2007 .
29 .
d. dias-da-costa , j. alfaiat , l. j. sluy , e. jlio ,  compar studi model discontinu fractur mean enrich nodal element techniqu interfac element ,  in- ternat journal fractur , vol .
161 , .
1 , pp .
97119 , 2010 .
30 .
y. zhang , r. lackner , m. zeiml , h. a. mang ,  strong discontinu embed approach standard sos formul : element formul , energy-bas crack-track strategi , valida- tion ,  comput method appli mechan engin , vol .
287 , pp .
335366 , 2015 .
31 .
s. saloustro , l. pel , m. cervera ,  crack-track techniqu local cohesive- friction damag ,  engin fractur mechan- ic , vol .
150 , pp .
96114 , 2015 .
32 .
s. saloustro , l. pel , m. cervera , p. roca ,  finit element model intern mul- tipl local crack ,  comput mechan , vol .
59 , .
2 , pp .
299316 , 2016 .
33 .
r. faria j. oliv , rate depend plastic- damag constitut model larg scale com- putat concret structur .
cimn , 1993 .
34 .
m. cervera , j. oliv , r. faria ,  seismic evalu- ation concret dam via continuum damag mod- el ,  earthquak engin & structur dynam- 18 savva saloustro et al .
ic , vol .
24 , .
9 , pp .
12251245 , 1995 .
35 .
r. faria , j. oliv , m. cervera ,  model ma- terial failur concret structur cyclic ac- tion ,  journal structur engin , .
de- cember , pp .
19972005 , 2004 .
36 .
p. roca , m. cervera , l. pel , r. clement , m. chiumenti ,  viscoelast damag model creep behavior histor masonri struc- ture ,  pp .
188198 , 2012 .
37 .
l. pel , j. bourgeoi , p. roca , m. cervera , m. chiumenti ,  analysi effect provi- sional tie construct current defor- mation mallorca cathedr ,  intern jour- nal architectur heritag , vol .
press , .
doi : 10.1080/15583058.2014.996920 , 2014 .
38 .
r. faria , j. oliv , m. cervera ,  strain-bas plastic viscous-damag model massiv concret structur ,  intern journal solid structur , vol .
35 , pp .
15331558 , may 1998 .
39 .
m. petracca , l. pel , r. rossi , s. oller , g. camata , e. spacon ,  regular first order com- putat homogen multiscal analysi masonri structur ,  comput mechan , vol .
57 , pp .
257276 , dec 2016 .
40 .
j. lublin , j. oliv , s. oller , e. oat ,  plastic-damag model concret ,  intern journal solid structur , vol .
25 , .
3 , pp .
299326 , 1989 .
41 .
m. petracca , l. pel , r. rossi , s. zaghi , g. ca- mata , e. spacon ,  micro-scal continu discret numer model nonlinear analysi masonri shear wall ,  construct build materi , vol .
press , 2017 .
42 .
j. oliv , m. cervera , s. oller , j. lublin ,  isotrop damag model smear crack analy- sis concret ,  proc .
sci-c comput aid anal- ysis design concret structur , .
febru- ari , pp .
945957 , 1990 .
43 .
z. bazant b. oh ,  crack band theori frac- ture concret ,  materi structur , vol .
16 , pp .
155177 , 1983 .
44 .
m. cervera m. chiumenti ,  mesh object tensil crack via local continuum damag model crack track techniqu ,  comput method appli mechan engin , vol .
196 , .
1-3 , pp .
304320 , 2006 .
45 .
m. cervera ,  viscoelast rate-depend continuum damag model , monographi n-79 ,  tech .
rep. , barcelona , 2003 .
46 .
t. rabczuk , s. borda , g. zi ,  three- dimension model crack growth use parti- tion uniti method ,  comput structur , vol .
88 , .
23-24 , pp .
13911411 , 2010 .
47 .
j.-h. song t. belytschko ,  crack node method dynam fractur finit element ,  intern journal numer method engin , vol .
77 , pp .
360385 , jan 2009 .
48 .
r. de borst p. nauta ,  non-orthogon crack smear finit element model ,  engin comput , vol .
2 , .
1 , pp .
3546 , 1985 .
49 .
a. anthoin , g. magen , g. magonett ,  shear compress tenst analysi brick masonri wall ,  10th european confer earthquak engin , ( vienna ) , pp .
16571662 , 1994 .
50 .
g. magen g. m. calvi ,  in-plan seismic re- spons brick masonri wall ,  1997 .
51 .
l. binda , g. mirabella roberti , c. tiraboschi , s. abbaneo ,  measur masonri materi proper- tie ,  u.s.-itali workshop guidelin seis- mic evalu rehabilit unreinforc masonri build , pp .
326347 , 1994 .
52 .
comet ,  coupl mechan thermal anal- ysis , http : //www.cimne.com/comet/ ,  2016 .
53 .
gid ,  person pre post-processor , http : //www.gidhome.com/ ,  2016 .
54 .
s. saloustro , l. pel , m. cervera , p. roca ,  enhanc finit element macro-model realist simul local crack masonri structur : large-scal applic ,  intern journal architectur heritag , vol .
press , .
doi : 10.1080/15583058.2017.1323245 , 2017 .
appendix rate mechan dissip  contin- uum damag model present section 2 [ 33 ]  =   i : i   d+ d+   d d = i + d  0 ( 28 )  helmholtz free energi 0 elast free energi follow form [ 33 ]  = ( 1 d+ ) +0 + ( 1  ) 0 ( 29 ) +0 = 1 2 + : c10 :  ( 30 ) 0 = 1 2  : c10 :  ( 31 ) visibl equat ( 28 ) evolut damag d irrevers strain i contribut total dissip energi solid , part track multi-direct intersect crack numer model masonri shear wall cyclic load 19 i =   i : i  0 ( 32 ) d =   d+ d+   d d  0 ( 33 ) total dissip energi per unit volum gf obtain gf =  0 i dt+  0 d dt ( 34 ) discret soften paramet defin similar [ 44 ] consid ideal uniaxi 1d com- pressiv experi , monoton increment compress strain ( denot hereaft e ) initi unstress state full degrad .
load , consid equat ( 5 ) ( 9 ) stress threshold r = e e ( 35 ) case dissip due damag evo- lution ( see [ 44 ] ) d =  0 d dt ( 36 ) = 1 2e  r0 ( r ) 2 d dr ( 37 ) = ( 1 + 1 hd ) ( f ) 2 2e ( 38 ) contribut irrevers strain total dissip energi comput consid i =  e e e e ( 39a ) =   ( 39b ) =  ( 1  ) e ( 39c )   i = ( 1 d ) r ( 40 ) use equat ( 39c ) ( 40 ) , dis- sipat energi due evolut irrevers strain i =  r0 ( 1 d ) r  ( 1  ) edt ( 41 ) =  r r0 ( 1 d ) r  ( 1  ) 1 e dr ( 42 ) =  1  ( f ) 2 e 1 2hd ( 43 ) virtu equat ( 36 ) well ( 41 ) con- sider total dissip equal gf , updat soften modulus deriv hd = 1 1  ( ldis lmat  ldis ) ( 44 ) note limit case  = 1 , equat ( 39b ) limit i =  consequ e = 0 .
result r = 0 , mean damag evo- lution henc soften .
case , energi dissip due evolut irrevers strain , use equat ( 32 ) , ( 35 ) ( 40 ) i = e e0  0  dt ( 45a ) = e e0  e 0 d ( 45b ) = e e0 [   e 0 ] ( 45c ) e0 elast strain peak strength .
ac- cord , dissip keep increas- ing linear increas strain , resembl behaviour perfect plastic materi .
introduct constitut model track algorithm intersect multi-direct crack numer simul shear wall cyclic load conclus
