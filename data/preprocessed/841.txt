chapter 2 region-bas caption text extract miriam leon , veronica vilaplana , antoni gasul ferran marqu abstract chapter present method caption text detect .
propos method includ generic index system deal semant concept automat detect well .
coher detect system , various object detect algorithm use common imag descript , hierarch region-bas imag model .
propos method take advantag textur geometr featur detect caption text .
textur featur estim use wavelet analysi main appli text candid spot .
turn , text characterist verif reli geometr featur , estim exploit region-bas imag model .
analysi region hierarchi provid final caption text object .
final step consist analysi output perform binar algorithm robust estim threshold caption text area support .
keyword text detect local  binari partit tree m. leon ( b )  v. vilaplana  a. gasul  f. marqu technic univers catalonia , barcelona , spain e-mail : mleon @ tsc.upc.edu v. vilaplana e-mail : veronica.vilaplana @ upc.edu a. gasul e-mail : antoni.gasul @ upc.edu f. marqu e-mail : ferran.marqu @ upc.edu n. adami et al .
( ed .
) , analysi , retriev deliveri multimedia content , 21 lectur note electr engin 158 , doi : 10.1007/978-1-4614-3831-1_2 ,  springer science+busi media new york 2013 22 m. leon et al .
2.1 introduct semant imag index reli annot presenc scene priori defin semant concept .
first level abstract , semant concept common associ object .
howev , object detect non- solv problem general framework extract text scene provid addit relev inform semant scene analysi [ 1 ] .
special true caption text usual synchron scene content .
caption text artifici superimpos video time edit usual underscor summar video content .
make caption text particular use build keyword index [ 2 ] .
exampl , recogn given locat ( exampl , street ) , addit inform obtain recogn build imag , caption text associ scene given citi may help confirm locat .
propos [ 3 ] , text detect algorithm classifi two categori : work compress domain work spatial domain .
independ domain , algorithm divid three phase : ( ) text candid spot , attempt separ text background done ; ( ii ) text characterist verif , text candid region group discard region wrong select ; ( iii ) consist analysi output , re- gion repres text modifi obtain use charact represent input ocr .
chapter , develop three phase algorithm within context caption text .
caption text detector present work includ generic index system .
actual , global applic off-lin enrich current annot larg video databas ( instanc , whole repositori tv broadcast ) well creation instanti new descriptor futur annot new semant concept ( exampl , search databas person previous requir explicit annot ) .
two requir impos applic ( ) analysi video tempor resolut provid key frame current store ( ii ) use imag represent descript compact scene inform small number element , time , generic possibl , represent reus differ context ( exampl , detect object ) [ 4 ] .
given first constraint , concentr problem caption text extrac- tion still imag .
caption text present featur typic use text extract algorithm .
horizont intens variat produc text exploit techniqu analyz imag transform domain , either use dct [ 5 ] wavelet transform [ 6 ] .
also spatial domain techniqu take advantag featur propos edg detector spot area high probabl contain text [ 7 ] .
next , spatial cohes featur , size , fill factor , aspect ratio horizont align , appli check text candid region consist neighborhood discard fals posit [ 8 ] .
2 region-bas caption text extract 23 note techniqu specif text detect common in- depend approach deal detect semant concept .
case detect text global index system , interest common imag represent common set descriptor .
regard imag represent , region-bas imag represent provid simplif imag term reduc number repres element , region .
region-bas imag represent , object scene obtain union region initi partit .
reduc number possibl region union , use creat hierarchi region repres imag differ resolut level .
idea singl partit univers partit repres imag various resolut .
context , object detect algorithm ( specif text detect algorithm ) need analyz imag posit scale propos region hierarchi [ 4 ] .
previous work , tree maxima ( minima ) [ 9 ] propos hier- archic region-bas imag model text detect [ 10 ] .
nevertheless , order reus represent detect object , binari partit tree ( bpt ) [ 11 ] use work sinc suitabl generic object detect illustr [ 4 ] , posterior , demonstr [ 12 ] case various semant object differ natur human face , sky region , traffic signal car plate .
given requir , propos [ 13 ] method caption text extrac- tion still imag use hierarch region-bas imag represent .
, improv first two phase ( text candid spot text characteris- tic verif ) solut third phase ( consist analysi output ) propos .
present concept structur follow .
section 2.2 summa- rize main idea behind imag model [ 11 ] use object detect , specif , text detect [ 4 ] .
sect .
2.3 , region-bas caption text detect approach detail .
section structur three section everi phase text detector describ .
section 2.3.1 discuss use wavelet informa- tion spot text candid imag [ 6 ] .
use haar transform color domain propos extract text candid low contrast lumin compon .
sect .
2.3.2 , geometr descriptor use confirm spot candid discard fals posit [ 8 ] .
case , take advantag region-bas represent estim geometr descriptor [ 13 ] hierarch imag descript obtain best set text caption repres .
turn , sect .
2.3.3 describ propos final consist analysi output step .
perform adapt binar algorithm robust estim threshold area support caption text candid provid final input ocr .
section 2.4 discuss result obtain techniqu .
final , conclus drawn sect .
2.5 .
24 m. leon et al .
fig .
2.1 region-bas hierarch represent 2.2 hierarch region-bas imag model binari partit tree ( bpt ) [ 11 ] reflect similar neighbor region .
propos hierarchi region creat merg algorithm make use similar measur .
start given partit , region merg- ing algorithm proceed iter ( 1 ) comput similar measur pair neighbor region , ( 2 ) select similar pair region merg new region ( 3 ) updat neighborhood similar measur .
algorithm iter step ( 2 ) ( 3 ) region merg singl region .
bpt store whole merg sequenc initi partit one-singl region represent .
leav tree region initi partit .
merg repres creat parent node ( new region result- ing merg ) link two children node ( pair region merg ) .
bpt repres set region differ scale resolut node provid good estim object scene .
use bpt represent object detect , imag analyz posit scale propos bpt node .
therefor , bpt consid mean reduc search space object detect task .
2 region-bas caption text extract 25 initi partit made individu pixel flat zone , produc larg bpt .
object detect applic , use initi partit accur partit fair high number region appropri [ 4 ] .
sinc partit use ensur accur object represent , call accuraci partit ( see fig .
2.1 ) .
moreov , context object detect , useless analyz small region repres meaning object .
result , two zone differenti bpt : accuraci space provid precis descript ( lower scale ) search space object detect task ( higher scale ) .
way defin two zone specifi point merg sequenc start region creat consid belong search space .
partit obtain point merg process call search partit ( see fig .
2.1 ) .
case caption text detect , text bar assum object detect , extract analysi search space .
turn , case scene text detect , charact alway found search partit .
detect requir accur imag represent perform analyz node accuraci space .
scene text detect detail sinc scope work present chapter .
2.3 caption text detect approach caption text describ text ad insid rectangular bar , horizont align , contrast strong bar background textur aspect .
featur common translat two type descriptor : textur geometr descriptor typic use text candid spot text characterist verif , respect .
textur area detect use wavelet analysi .
howev , approach produc mani fals posit ( filter use geometr descrip- tor ) miss low contrast area .
hand , given generic framework applic , bpt creat combin color homogene- iti contour complex criteria [ 4 ] .
due homogen background regular shape , caption text object like appear singl node bpt .
henc , propos combin two approach .
first stage , textur estim whole imag mean multi- resolut analysi use haar wavelet decomposit .
textur inform use select high textur region ( candid region ) bpt .
candid region anchor point caption text detect .
order correct estim use descriptor evalu candid region , area support conform object shape characterist .
region evalu carri combin region-bas textur inform geometr featur .
among node bpt pass text characterist verif stage , final caption text node select analyz bpt structur .
26 m. leon et al .
( c ) ( b ) ( ) ( ) ( f ) ( e ) ( g ) ( h ) fig .
2.2 exampl caption text detect .
origin imag , b wavelet transform , c text candid pixel , search partit , e text candid region , f set final select region , g bpt show select leav ( squar node ) candid node ( orang node ) , h detail bpt ( rectangl g ) show final select node text bar ( green , lilac yellow node ) discard node ( red node ) 2 region-bas caption text extract 27 2.3.1 text candid spot propos [ 6 ] , textur descriptor dwt coeffici give enough in- format determin textur area found imag .
[ 13 ] propos use power lh hl subband haar transform ( fig .
2.2b ) analyz slide window fix size hw ( w > h consid horizont text align ) : pll h ( , n ) = 1 w h w i=1 h j=1 l hl ( + , n + j ) 2 , ( 2.1 ) l denot decomposit level analog express use plh l .
window move subband transform imag overlap half window size direct .
subband analyz dwt power window contain text present high valu ( > t1 ) least one two subband relev enough valu ( > t2 ) subband .
way , pixel window classifi text candid power window satisfi follow condit : ( ( pll h > t1 )  ( plh l > t2 ) )  ( ( pll h > t2 )  ( plh l > t1 ) ) , ( 2.2 ) t1 t2 two threshold , t1 restrict t2 ( t1 > t2 ) .
wavelet analysi may produc miss low contrast area .
case caption text , miss common relat text background similar lumin valu whose chromin valu differ enough distinguish human visual system .
take account observ , previous techniqu separ appli three ycbcr imag compo- nent .
final mask mark text candid obtain perform union ( upsampl ) mask decomposit level ( fig .
2.2c ) imag compon .
result present sect .
2.4 , size slide window 6  18 , l = 2 , t1i = 1200 t2i = 400 lumin , t1cbcr = 18 t2cbcr = 10 chromin .
final , region search partit ( fig .
2.2d ) select contain text candid pixel .
moreov , texture-bas select propag bpt ancestor candid region select well ( fig .
2.2g ) .
conserv polici , stage , import miss possibl region contain text ( fig .
2.2e ) .
28 m. leon et al .
2.3.2 text characterist verif everi select node , descriptor estim verifi region repres caption text object .
initi , region-bas textur descriptor comput eq .
( 2.1 ) sum perform interior pixel avoid influenc wavelet coeffici due gradient region boundari .
descriptor main use filter region select due presenc mask ( see fig .
2.2c ) wrong candid pixel surround textur area .
complet verif process , geometr descriptor calcul remain candid node .
comput descriptor , area support candid node modifi hole fill process open small structur element ( typic , 9  9 ) .
stage need elimin small leak segment process may introduc due interlac color degrad region .
leak result noisi contour bias geometr descriptor estim .
final , sinc open may split region sever compon , largest connect compon select area support comput geometr descriptor .
descriptor threshold node accomplish ( follow restrict polici ) list sequel .
valu bracket indic threshold use experi present sect .
2.4 standard pal format 720  576 imag .
 rectangular ( r ) : r must rang [ 0 , 1 ] .
calcul rectangu- lariti done use discrep method [ 14 ] .
rectangl fit region , discrep rectangl region measur .
r must greater tr ; nearer 1 , similar rectangl ( tr = 0.85 ) .
 aspect ratio : ( ar = widthb b/heightb b ) must rang [ tar1 , tar2 ] , upper limit strict necessari use discard line-lik node ( tar1 = 1.33 , tar2 = 20 ) .
given regular shape ( close rectangular ) caption text object , ar calcul bound box ( bb ) node area support .
 height : must rang [ th1 , th2 ] ( th1 = 13 pixel charact visibl th2 = 144 , quarter pal format height ) .
 area : must rang [ ta1 , ta2 ] ( ta1 = 225 , area node minimum height minimum aspect ratio , ta2 = 138.240 , third pal format imag area ) .
 compact : ( cc = perimeter2/area ) must smaller tcc , avoid node long , thin elong common due interlac ( tcc = 800 ) .
result appli descriptor threshold imag shown fig .
2.2a , present fig .
2.2g , verifi node mark orang .
stage , verifi node may present two problem .
first , shown fig .
2.2h , sever verifi node may subtre ; , sever ( complet partial ) instanc caption text object may repres subtre .
second , imag contain collect caption text bar lay close enough , may 2 region-bas caption text extract 29 merg singl node ; , singl subtre may repres sever caption text object , due proxim , understood singl one .
first problem lead presenc unnecessari verifi node , actual repres caption text object , process consist analysi output step .
case , best node subtre select .
straightforward solut select highest node subtre may lead non-optim solut , discuss [ 13 ] .
work , confid valu estim node , node subtre highest confid valu final preserv .
nevertheless , second problem detect due presenc sever caption text object imag merg singl node tree , pass verif stage .
configur common , instanc , sport event , data sever particip joint present .
case , problem sever due possibl differ color font background use neighbor caption text bar .
bar select singl object , differ result decreas perform subsequ consist analysi output step .
step reli binar valid caption text bar area support ; two class ( charact background ) homogen color , binar may fail .
mind two problem , propos new strategi joint handl situat robust manner .
subtre travers postord .
subtre , list possibl caption text object creat .
verifi node subtre compar previous caption text object alreadi store list .
geometr featur verifi node analysi allow us assum node belong caption text object alreadi list , verifi node analysi assign caption text object descript caption text object updat .
verifi node analysi assign alreadi exist caption text object , ad list new caption text object .
comparison perform use simpl geometr descriptor previous extract tree node .
particular , featur compar verifi node analysi alreadi exist caption text object coordin center mass well height width modifi node bound box .
combin three element , follow situat detect : 1 .
node complet alreadi exist caption text object : case caption text object most repres singl node bpt part ( instanc , interior ) miss .
case , neither y-coordin center mass height width bb present substanti chang .
node assign caption text object object descript updat .
2 .
node horizont extend alreadi exist caption text object : case caption text object split bpt two horizontal- neighbor region .
y-coordin center mass height 30 m. leon et al .
bound box present substanti chang , wherea width bond box increas .
node assign caption text object object descript updat .
situat , overlap node analysi extens area support caption text object analyz .
overlap , node assum part caption text object descript updat .
overlap , new caption text object defin .
exampl fig .
2.2a largest text box detect three separ text bar object .
figur 2.2h show subtre whose root node repres text box .
search algorithm detect node color node part text bar object , obtain text bar independ ( see fig .
2.2f ) .
2.3.3 consist analysi output everi caption text object , binar step carri .
given specif characterist caption text bar , binar perform analyz line imag .
n ( typic n=3 ) equidist horizont line segment select within area support caption text object .
mean varianc pixel line segment comput .
line segment high varianc assum form text background use character probabl densiti function text , assum gaussian .
turn , low varianc line segment suppos repres background use character probabl densiti function assum gaussian well .
, binar perform maximum likelihood approach .
exampl illustr process present fig .
2.3 .
seen ( discuss next section ) , approach lead good result .
binar approach also test lead lower perform .
output binar method direct use input ocr system .
work , use opensourc tesseract-ocr system1 train specif languag vocabulari .
previous comment , binar approach assum background text statist model gaussian probabl densiti function .
assumpt stand , instanc , various word given caption text bar homogen color .
situat typic lead wrong bina- rizat word .
order solv problem , word within caption text bar segment word-by-word binar implement .
segment carri appli first edg detector ( case , canni edg detector [ 15 ] similar system could use ) caption text bar 1 http : //www.code.google.com/p/tesseract-ocr/ http : //www.code.google.com/p/tesseract-ocr/ 2 region-bas caption text extract 31 0 50 100 150 200 250 300 0 100 200 300 line1 line2 line3 threshold 0 10 20 30 40 50 60 70 80 0 100 200 300 line1 line2 line3 threshold ( ) ( b ) fig .
2.3 illustr caption textbinar process n = 3 area second perform dilat detect contour use rectangular structur element .
everi connect compon assum separ word previous binar approach appli .
exampl use word-by-word binar process illus- trate fig .
2.4 .
global binar process fail due differ text represent first third element respect second one .
result global binar illustr second row fig .
2.4 , second text element includ background .
third row fig .
2.4 show correct result obtain word-by-word binar use .
exampl illustr fig .
2.6b .
32 m. leon et al .
fig .
2.4 text bar binar versus word-by-word bina- rizat tabl 2.1 detect result relat number object first databas detect object % 249 object correct detect 215 86.35 % partial detect 22 8.83 % fals negat 12 4.82 % tabl 2.2 detect result relat number object second databas detect object % 2063 object correct detect 1758 85.21 % partial detect 40 1.93 % fals negat 265 12.84 % 2.4 result techniqu test two corpus , one form news sport event video , one sport event videos.2 first corpus , total 249 caption text object extract set 150 challeng imag text differ size color , complex background textur .
result , classifi cor- rect detect , partial detect , fals posit fals negat , summar tabl 2.1 2.3 , illustr fig .
2.5 2.6 .
valu express term recal precis , partial detect object ( pdo ) consid fals negat detect object sinc repres good anchor point follow step ( see tabl 2.3 ) .
number fals posit 24 .
result differ signific [ 13 ] text bar detect separ instead togeth singl text box .
second corpus 2063 caption text object extract 649 key frame .
remark result number fals posit high due presenc imag advertis panel spectat , wherea 2 imag use chapter belong tvc , televisi de catalunya , copyright protect .
key-fram provid tvc goal research framework i3media project .
2 region-bas caption text extract 33 ( a.1 ) ( a.2 ) ( a.3 ) ( b.1 ) ( b.2 ) ( b.3 ) ( c.1 ) ( c.2 ) ( c.3 ) ( d.1 ) ( d.2 ) ( d.3 ) ( e.1 ) ( e.2 ) ( e.3 ) ( f.1 ) ( f.2 ) ( f.3 ) fig .
2.5 illustr caption text detect process .
first column origin imag ; second column list final select region ; third column binar result 34 m. leon et al .
tabl 2.3 detect result present precis recal first second databas , respect pdo outlier correct outlier correct recal 0.863 0.950 0.8521 0.871 precis 0.885 0.894 0.692 0.697 fig .
2.6 illustr caption text detect process .
first column origin imag ; second column list final select region ; third column binar result number detect text bar satisfi ( see tabl 2.2 2.3 ) .
nevertheless , element discard third step ( see fig .
2.5d , e ) .
figur 2.5 2.6 illustr result imag exemplifi perform limit algorithm .
everi exampl , present differ caption text bar detect .
allow analyz bar detect isol one detect gather singl compon , necessari detect text bar separ present regardless origin posit imag .
2 region-bas caption text extract 35 figur 2.5a present exampl non-perfect rectangular caption text object .
common caption text object present modif make informa- tion attract viewer .
observ , assum variabl shape model allow correct detect caption text object .
figur 2.5b exampl illustr fals negat partial detect .
similar caption text background object around mislead segment process , case , caption text object correct repres bpt .
moreov , illustr well exampl partial detect : caption text object mark  7  report partial detect sinc fulli extract singl node .
figur 2.5c anoth exampl fals negat .
case , although bar opaqu rectangular , amount text present lower caption bar ( letter  l  ) produc enough textur region detect text candid spot phase ( see sect .
2.3.1 ) .
actual , fals negat most due wrong select key frame subsequ key frame whole text caption bar appear complet detect .
figur 2.5d , e show repres exampl typic outlier .
structur correspond high textur , rectangular node bpt mistaken caption text block .
nevertheless , remov follow phase consist analysi output .
figur 2.5d show outlier , common present sport sequenc due presenc imag stand spectat .
figur 2.5f show exampl behaviour algorithm presenc scene text .
type text may present similar characterist caption text ( may place close-to-rectangular bar high contrast background ) therefor detect .
note precis result provid tabl 2.3 , 25 % detect classifi fals posit relat scene text .
figur 2.6a illustr robust propos algorithm variat font type .
note algorithm exploit textur appear text ( most common type font ) , therefor , present similar perform independ font .
figur 2.6b present exampl use divis caption text object word subsequ separ binar .
exampl , various text element within caption object share color featur , therefor , global binar , assum gaussian probabl densiti function text caption object , wrong .
word-by-word binar process allow us correct binaryz various text element .
final , fig .
2.6c show imag use color inform ( see sect .
2.3.1 ) provid good result .
letter fluoresc green would discard text candid spot phase due low contrast lumin inform use .
36 m. leon et al .
2.5 conclus work present new techniqu caption text detect .
techniqu includ global index system , therefor , work common hierar- chical region-bas imag represent .
techniqu combin textur informa- tion ( haar wavelet decomposit ) geometr inform ( analysi region propos hierarch imag model ) robust extract caption text object scene .
futur work focus creation new text descriptor analysi tempor redund text .
former aim improv detect text textur area .
latter , aim take advantag fact text appear least 2 second screen viewer understand inform .
acknowledg work partial found catalan broadcast corpor ( ccma ) mediapro spanish project cenit-2007-1012 i3media tec2007- 66858/tcm provec spanish govern .
refer 1 .
assfalg j , bertini , colombo c , del bimbo c ( 2001 ) extract semant inform news sport video .
: proceed 2nd ispa , pp 411 2 .
crandal , antani , kasturi r ( 2002 ) extract special effect caption text event digit video .
int j doc anal recog 2:138157 3 .
jung k , kim k , jain ak ( 2004 ) text inform extract imag video : survey .
pattern recog 37:977997 4 .
vilaplana v , marqus f , salembi p ( 2008 ) binari partit tree object detect .
ieee tran imag process 17 ( 11 ) :22012216 5 .
zhong , zhang h , jain ak ( 2000 ) automat caption local compress video .
ieee tran pami 22 ( 4 ) :385393 6 .
li h , doermann , kia ( 2000 ) automat text detect track digit video .
ieee tran imag process 9 ( 1 ) :147155 7 .
tekinalp , alatan aa ( 2003 ) util textur , contrast color homogen de- tect recogn text video frame .
: ieee icip 2003 , barcelona , spain 8 .
retornaz , marcotegui b ( 2007 ) scene text local base ultim open .
proc ismm 1:177188 9 .
salembi p , olivera , garrido l ( 1998 ) anti-extens connect oper imag sequenc process .
ieee tran imag process 7 ( 4 ) :555570 10 .
leon , mallo , gasul ( 2005 ) tree structured-bas caption text detect approach .
: proceed 5th iast viip , pp 220225 11 .
salembi p , garrido l ( 2000 ) binari partit tree effici represent imag process , segment inform retriev .
ieee tran imag process 9 ( 4 ) :561576 12 .
vilaplana v , marqu f , leon , gasul ( 2010 ) object detect segment hier- archic region-bas imag represent .
: proceed icip-10 , ieee intern confer imag process , pp 33933396 , hong kong , china 13 .
leon , vilaplana v , gasul , marqu f ( 2009 ) caption text extract index purpos use hierarch region-bas imag model .
: ieee icip 2009 , el cairo , egypt 14 .
rosin pl ( 1999 ) measur rectangular .
mach .
vis .
appl .
11 ( 4 ) :191196 15 .
canni j ( 1986 ) comput approach edg detect .
ieee tran pattern anal mach intel 8 ( 6 ) :679698 2 region-bas caption text extract 2.1 introduct 2.2 hierarch region-bas imag model 2.3 caption text detect approach 2.3.1 text candid spot 2.3.2 text characterist verif 2.3.3 consist analysi output 2.4 result 2.5 conclus work refer
