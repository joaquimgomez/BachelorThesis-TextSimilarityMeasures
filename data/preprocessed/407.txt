sensit thermomechan respons elast structur microstructur chang vctor d. fachinotti, sebastian toro, pablo j. sanchez, alfredo e. huesp centro investigacion metodo computacionales(cimec), universidad nacion del litor (unl)/ consejo nacion investigacion cientfica y tecnica (conicet), predio cct-conicet santa fe, ruta 168, paraj el pozo, 3000, santa fe, argentina abstract paper present us techniqu analyz sensit thermomechan respons bodi variabl microstructure. techniqu appli attain desir macroscop respons alter bodi microstructure. problem kei issu materi design. sensit analysi reli accur determin effec- tive properti heterogen material. effect properti determin comput homogenization. sensitivities, respect paramet defin microstructure, computed. effici evalu thermomechan response, propos build respons surfac effect materi properties. surfac gener offlin stage, solv seri homogen prob- lem microscale. way, fulli onlin multiscal respons analysi reduc standard monoscal problem macroscale. thus, import reduct comput time achieved, crucial correspond author email address: (vctor d. fachinotti ) preprint submit elsevi march 5, 2015 notice: author version work accept public intern journal solid structures. chang result publish process, peer review, editing, corrections, structur formatting, qualiti control mechan reflect document. chang work submit publication. definit version subsequ publish intern journal solid structures, [vol 69-70, (septemb 2015)] doi 10.1016/j.ijsolstr.2015.06.009 advantag materi design. capabl propos methodolog shown light appli- cation design thermally-load structur variabl microstruc- ture. percept improv structur respons achieved. keywords: microstructur materi design, structur optimization, sensit microstructur changes, comput homogen materials, respons surfac methodology. 1. introduct state torquato [1], deep knowledg sensit respons materi macroscop scale chang structur materi subscal holi grail materi sci- ence. base materi design (mbd) approach [2], propos design subscal structur materi order materi best-suit specif application. subscal refer wide rang length scales, atomist molecular microscop mesoscopic, length scale smaller dimens structur consid material. work, focu design heterogen material, typic composite, alter microstructur scale materi assum continuum. further, deal quantit character materi [3], macroscop effect physic properti express function identifi microstructur pa- rameters: e.g., fiber orient fiber-reinforc polym [4], densiti irregular factor materi isol inhomogen [3, 5], size 2 particl bead coat dental implant [6, 7]. depend effect properti microstructur paramet determin experiment expens option, analyt simpl microstructur [3, 5], simplifi homogen techniqu like simp (solid isotrop materi penalization) [4, 8], numer comput multiscal model (cmm) [6, 7]. gener approach, prefer work. computa- tional homogen parameter repres volum element (rve), build grid homogen properti vs. microstructur param- eter, independ tensori compon physic proper- ti involv steady-st thermomechan problems: fourth-ord elast tensor second-ord thermal expans thermal con- ductiv tensors. offlin easili parallelizable, procedur allow consider reduct comput effort cmm onlin stage. final goal work analysi sensit macro- scopic structur given thermomechan load chang mi- crostructur material. mathematically, account compu- tation deriv macroscop temperatur displac field respect microstructur parameters. account thermal coupling, work constitut step fur- ther sensit analysi pure mechan multiscal problem [9, 10]. allow microstructur vari macroscop struc- ture, huge number design variabl come play, make effici comput evalu sensit uppermost importance. of- 3 fline definit materi properti function microparamet import contribut sense, make current multiscal model expens monoscal one. further, effici improv comput deriv materi properti respect microparamet close analyt way. finally, appli sensit analysi determin effect chang- ing microstructur paramet defin bi-materi thermal load structure, seek effici structur term stiff compliance. 2. two-scal thermomechan problem s rve (microscale) y w w g n m bodi (macroscale) q, s x m y2 u uwal qwall q t t wall w t, t, u, ux x s w w w m m twall y1 x1x1 x2 l figur 1: two-scal thermomechan problem. let consid bodi rdim, figur 1, undergo steadi state thermomechan load process: heat flux qwall temperatur twall prescrib boundari q t , respectively, traction twall displac uwal prescrib boundari 4 u, respectively. consid boundari conditions, set admiss temperatur displac field are: t = {t (x) | t suffici smooth t = twall t}, (1) u = {u(x) | u suffici smooth u = uwal u}, (2) space admiss temperatur displac variat are: t = {t (x) | t suffici smooth , t = 0 t}, (3) u = {u(x) | ui suffici smooth , u = 0 u}. (4) then, current macroscop thermomechan problem state standard variat format follows: t t u u satisfy- ing: q(t ) x t dv q qwallt ds = 0, t t , (5) (u, t ) sx u dv twall u ds = 0, u u , (6) q macroscop flux vector macroscop cauchi stress tensor. equat (5) repres steady-st heat balanc equat absenc intern heat source, (6) momentum balanc equat absenc bodi forc inerti terms. problem complet constitut law q point x , determin work analysi microstructur point. let bodi heterogen microstructur that, point x , describ repres volum element (rve), denot 5 , shown figur 1. point denot y. on, quantiti () describ domain refer (). state appendix, macroscop q atx defin homogen formulas: q = 1 || q dv, (7) = 1 || dv, (8) || volum . constitut respons microconstitu domain assum known. further, purpos work, behavior microconstitu assum linear. case, q respect defin fourier hook laws: q = k yt, (9) = c syu + d ( t t 0 ) , (10) k thermal conduct tensor, c elast tensor, d stress increment unit temperature, assum known properti materi y ; t 0 refer temperatur zero-therm stress, assum common microconstituents. sake clarity, comput homogen field q detail appendix. shown there, linear constitut law (9) (10) microscop field q inherit constitut law homogen field q , given by: q = k xt, (11) = c sxu+ d(t t 0), (12) 6 introduc effect thermal conduct k, effect elast moduli c, effect stress increment unit temperatur d, defin equat (ai-22), (ai-27) (ai-32) appendix, respectively. 3. finit element model order solv problem finit element method (fem), unknown temperatur displac field approxim x by: t (x) = i(x)ti = (x)t , (13) u(x) = i(x)ui = m(x)u , (14) ti ui temperatur displac unknown i-th node finit element mesh, shape function associ node; ti ui group column vector t u , respectively, shape function group row vector thermal analysi matrix m mechan analysis. standard galerkin fem, shape function defin basi function finite-dimension space approxim t u . then, weak form thermal problem (5), replac macroscop fourier law (11), written as: kt = f , (15) k = btkb dv, (16) f = q t qwall ds, (17) 7 bij = i/xj gradient matrix. similar way, weak form mechan problem (6), replac constitut equat (12), written as: kmu + f tm(t ) = fm, (18) = (bm) t ,cbm dv, (19) fm = (m) t twall ds, (20) f tm = (bm) t d ( t t 0 ) dv, (21) (22) bm strain-displac matrix. 4. sensit macroscop thermomechan respons microstructur chang sake generality, let microstructur vari macroscop domain . fem, repres mesh finit elements, give rise finit number sampl point x. point x associ rve denot () . let remind deal quantit character materi [3], microstructur rve, () , describ finit (usual reduced) number microstructur paramet p () 1 , p () 2 , . . . , instance, fiber orient fiber-reinforc polym [4], poros eccentr solid ellipt hole [3], size volum fraction particl dental coat [6], etc. 8 materials, effect properti pointx comput homogen correspond so-parameter rve () describ appendix actual function microstructur paramet p () 1 , p () 2 , . . . . consid macroscop respons bodi contribut sampl pointsx1,x2, . . . finit element mesh, macroscop field t u depend microstructur paramet defin rve points, i.e. t = t (p ) u = u(p ), p = [ p (1) 1 , p (2) 2 , . . . p (2) 1 , p (2) 2 , . . . ] . (23) thermomechan macroscop respons defin given func- tion r, so-cal object cost function structur optim problem [8], depend global nodal temperatur displac vector primal variables, i.e. r = r(u ,t ), (24) u t satisfi respect balanc equat (15) (18). hence, balanc equat implicit object function r. is, dealt constraint sensit analysis. current choic favor linear balanc equat (15) (18). sensit respons microstructur chang dr dpi = r uj uj pi + r tj tj pi . (25) comput sensit t u microstructur chang goal section 4.1 4.2, respectively. 9 4.1. sensit macroscop temperatur microstructur chang effect thermal conduct tensor k depend param- eter microstructur accord equat (ai-22), variat microstructure, repres p , induc follow variat conduct matrix (equat (16)): k = bt kb dv. (26) variat (ani nonsingular matrix) k invers relat by: ( k1 ) = k1kk1. (27) then, variat nodal temperatur vector t , solut linear heat balanc equat (15), express as: t = ( k1 ) f = k1kk1f = k1kt . (28) therefore, sensit nodal temperatur t chang pi t pi = k1si, (29) si column vector si = k pi t , (30) deriv k, obtain equat (26), k pi = bt k pi b dv. (31) let restrict equat (29) node xj: tj pi = j si, (32) 10 j refer j-th row k1. worth mention tj/pi gener non null node xj 6 t , pi describ microstructur point far node xj. non-loc effect chang microstructur detri- mental comput cost sensit thermomechan prob- lems, explain section 4.2.1. let note effect disregard thermal expans assum homogen through- macroscop body, [8], restrict hypothesi engin applications. 4.1.1. fem implement detail pi (total partially) defin microstructur sampl point x insid given finit element e, then, k/pj = 0 pj associ sampl point. therefore, sampl point x e contribut global matrix k/pi, equat (31), follows: k pi = [ bt k pi b ] x w|e| pi associ x e 0 , (33) w weight associ sampl point x. note summat index equat (33). then, k/pi markedli spars comput base element, properti inherit global vector si given equat (30). 4.2. sensit macroscop displac microstructur chang macroscop elast tensor c depend parameter microstructure; accord equat (19), variat p induc 11 follow variat stiff matrix k: = (bm) t cbm dv. (34) further, p induc chang macroscop properti d macro- scopic temperatur field t . thus, accord equat (21), vector f tm variation: f tm f t = (bm) t d ( t t 0 ) dv (bm) t d t dv. (35) then, variat nodal displac vector u , solut linear equilibrium equat (18), is: u = [ (km) 1] f tm + (km) 1 f tm = (km)1 ( (km) 1 f tm f tm ) = (km)1 ( kmu f tm ) . (36) differenti respect pi, obtain u pi = (km)1 smi , (37) smi column vector smi = pi u f tm pi , (38) pi = (bm) t c pi bm dv, (39) f tm pi = [ (bm) t d pi ( t t 0 ) dv ] v1i + [ (bm) t d t pi dv ] v2i . (40) 12 restrict equat (37) j-th compon nodal displace- ment vector u , obtain: uj pi = jm smi , (41) jm denot j-th row invers stiff matrix km. 4.2.1. fem implement detail like section 4.1.1, microstructur paramet pi associ sampl point x given finit element e, sampl point contribut global matrix km/pi (equat (39)) global vector v1i (first term r.h.s. equat (40)), follows: pi = [ (bm) t c pi bm ] x w|e|, (42) v1i = [ (bm) t d pi (t t 0) ] x w|e|. (43) (no summat impli equations). however, case v2i (second term r.h.s. equat (40)) integrand factor[ t pi ] x = (x)k1si, (44) gener non null microstructur paramet pi sampl point x, pi repres microstructur point far x, outsid finit element contain point mi- crostructur fulli partial character pi, discuss equa- tion (32). hence, v2i built assembl contribut finit element mesh, sparse. 13 further, non-spars v2i inherit global vector s m , de- fine equat (38), increas cost comput sensit time memori requir realist thermomechan prob- lem variat temperatur respect microstructur chang account for. 5. off-lin comput effect tensor sensit materi address current work assum adequ character number paramet p1, p2, . . . , pn. then, pro- pose us off-lin techniqu base respons surfac methodolog (rsm) replac onlin solut microscop problem determin homogen properties, huge reduc time need comput object function (24) chosen character thermome- chanic respons macroscop body. let f scalar compon effect materi property, kij, cijkl dij defin equat (ai-22), (ai-27) (ai-32), respec- tively. first, comput f n-dimension grid predefin point (p g 1, p g 2, . . . , p g n). grid f built, valu f intermedi point (p1, p2, . . . , pn) comput interpol base grid points. also, sensit f/pi comput numer differen- tiation base grid. step further, us grid f build respons surfac approxim f , i.e. f f(p1, p2, . . . , pn). consequently, sensit f/pi analyt approxim f/pi. respons surfac f(p1, p2, . . . , pn) available, i.e., 14 tensori compon effect properti known function microparameters, thermomechan multiscal problem macro- scopic domain variabl microstructur (character point correspond rve) standard thermomechan problem materi properti given function positions, amean solv finit element codes. procedur illustr figur 2: point x , microstructur character paramet (p () 1 , p () 2 , . . . p () n ), valu materi properti f determin respons surfac f(x) f(p () 1 , p () 2 , . . . p () n ). consequently, deriv f(x) respect p () given analyt form f/p () evalu (p () 1 , p () 2 , . . . p () n ). xa rve character p , p1 2 (g) (g) (p , p 1 ) 2 (g ) (g ) (p , p 1 ) 2 (g) (g) f (x a)f f, f ~ p1 p2 bodi respons surfac offlin stage ~ (a) ( )af (p , p1 )2 (a) ( )a (p , p1 )2 onlin stage figur 2: off-lin techniqu comput effect properti macroscop point. so-built respons surfac on-lin comput bodi thermomechan response. 15 procedur deepli detail particular microstructur sec- tion 6.1. finally, let note author [6, 7, 11] respons surfac object function directly, comput involv multiscal model instead microscal model prefer work. however, case design bodi vari microstructure, object function character respons body, depend microparamet variabl sampl point body. then, total number design variabl gener large, render rsm unaffordable. 6. applic let consid cantilev plate depict figur 3a, deform keep surfac temperatur t surfac tem- peratur t < t top. h b l y2 h b x1 surfac tadiabat clamp surfac adiabat free surfac b) rve wm surfac t a) macroscop domain w prescrib period temperatur displac fluctuat l x2 y1 figur 3: multiscal analysi cantilev plate: a) macrocop domain boundari conditions, b) microscop domain (rve) boundari conditions. 16 sake simplicity, two-dimension analysi perform assimil plate structur plane strain conditions. then, macroscop domain rectangl bh repres slice unit width plate, parallel plane x1-x2. adopt finit element mesh repres thermal mechan analysis, q1 finit element size x1 x2. paramet defin macroscop problem list tabl 1. b 3 m h 0.3 m x1 3.75 cm x2 1.5 cm t 50c t 0c tabl 1: paramet macroscop problem. microstructur allow chang node node . node x associ rve shown figur 3b. microcel squar domain () l (l h) consist matrix, materi mmatrix, cross vertic center layer thick b horizont center layer thick h, layer materi mlayer. properti materi mmatrix mlayer given, then, rve x complet defin microparameters: p () 1 = b p () 2 = h. materi mmatrix mlayer assum isotrop obei fourier heat flow law (9) linear thermoelast relat (10). 17 mechan properti point y () cijkl = e (1 + )(1 2) ijkl + e 2(1 + ) (ikjl + iljk) , (45) dij = e 1 2 ij, (46) e young modulus, poisson ratio lin- ear thermal expans coefficient, known properti materi y (either mmatrix mlayer). example, adopt steel mmatrix copper mlayer, properti list tabl 2. reason choic li consider differ thermo- mechan properti materials, emphas influenc microstructur paramet macroscop response. properti mmatrix (steel) mlayer (copper) young modulu 200. gpa 120. gpa poisson ration 0.30 0.34 linear thermal expans 1.0 105/c 1.7 105/c thermal conduct 36.5 w/(mc) 384.0 w/(mc) tabl 2: materi properties. 6.1. off-lin homogen techniqu rve repres finit element mesh period bound- ari condit temperatur displac fluctuations. accuraci solution, conveni layer mlayer rve one-el thick, unfeas thick layer small positive. order circumv 18 inconvenience, us uniqu rve mesh, suffici fine, complet set paramet character microstructures. choos paramet discret set b h. thus, discret current l l-squar rve domain rectangular mesh q1 squar finit element constant y = l/(neplnpdiv) (with nepl = 2, 4, . . . npdiv larg integer), adopt b h vari 0 l step p = neply. way, ensur nepl element layer worst case (when thick layer equal p thick layer l). tabl 3 list paramet adopt defin current rve. l 1. cm nepl 2 npdiv 50 y 0.01 cm p 0.02 cm tabl 3: paramet microcel problem. way, sampl point q1 element locat usual strictli insid elements, approach elimin ambigu defin materi sampl points, lie materi interface. point grid coordin bi = ip , hj = jp , i, j = 0, 1, . . . , npdiv, build correspond rve bi-thick vertic layer hj-thick horizont layer, materi m layer, com- pute macroscop materi properti k(bi, hj) equat (ai-22), 19 c(bi, hj) equat (ai-27) d(bi, hj) equat (ai-32). produc grid (npdiv + 1)2 triad (b, h, f) tensori component, f , macroscop tensor k, c d. figur 4a, 4b 4c grid k11, c1111 d11 respectively. valu f intermedi valu b h easili comput interpol base predetermin grid. deriv f respect b h comput numer base grid points. instance, deriv interior point grid comput central differ deriv boundari point comput backward forward differences. so-comput deriv k11, c1111 d11 respect b observ figur 5a, 5b 5c, respectively. grid values, deriv ()/b ()/h intermedi- at point grid comput interpolation. instance, let f deriv comput linear interpol intermedi points. case, interpol deriv f deriv interpol f , actual discontinuous. order comput deriv exactly, conveni approxim f analyt- ical function f(b, h) defin real valu b h 0 l, us respons surfac methodolog (rsm). simpl choic f polynomi f(b, h) = n i=0 n j=0 aijb ihj. (47) coeffici aij comput f least-squar best ap- proxim point f -grid differ valu n . 20 a) k11 b) c1111 c) d11 e) c1111 n=2 f ) d11 n=2 ~ ~ h) c1111 n=4 i) d11 n=4 ~ ~ b h b h b h b h b h b h b h b h d) k n=811 ~ g) k n=1011 b h ~ figur 4: macroscop properti function b h (0 b, h l): a) k11 [w/(mc)] comput equat (ai-22) c1111 [pa] comput equat (ai-27); c) d11 [pa/ c] comput equat (ai-32); d)-i) approxim properti differ polynomi order (n = 2, 4, 8 10, respectively). 21 a) k /11 b (numerical) b) c1111 /b (numerical) c) d /11 b (numerical) ~ ~ b h b h b h b h e) c1111 /b n=2 f ) d /11 b n=2 h) c1111 /b n=4 i) d /11 b n=4 b h b h ~ b h g) k /11 b n=10 b h d) k /11 b n=6 ~ b h ~ ~ figur 5: deriv macroscop properti function b h (0 b, h l): a) numer deriv k11/b [w/(m 2c)]; b) numer deriv c1111/b [pa/m]; c) numer deriv d11/b [pa/(m c)]; d)-i) analyt deriv ()/b approxim () properti differ polynomi orders. polynomi differ order necessari approxim materi properti strictly, compon tensori materi properti proper accuracy. tabl 4 allow evalu qualiti polynomi approxim compon macroscop thermomechan properti term maximum rel error |(f f)/f | point correspond grid. error accept small 22 lower valu n , final adopt larger valu n list tabl 4 ensur accuraci approxim derivatives, shown next. note tensori compon list tabl 4 null. approxim k11, c1111 d11 valu n given tabl 4 shown figur 4d 4i. given approxim f equat (47), deriv f polynomi f(b, h) b = n i=1 n j=0 iaijb i1hj, (48) f(b, h) h = n i=0 n j=1 jaijb ihj1. (49) figur 5d 5i so-comput k11/b, c1111/b d11/b valu n tabl 4, let compar numer comput counterpart figur 5a, 5b 5c. point, assum numer deriv qualit good. figur 5 shows, larger valu n ensur polynomi deriv behav qualit close numer ones. 6.2. sensit analysi common choic respons function, wide pure me- chanic problems, complianc structur [8]: r = utku = utf tm. (50) sensit respons microstructur chang given by: r pi = ( u pi )t f tm +ut f tm pi , (51) 23 properti n maxim rel error n maxim rel error k11 4 24.52% 8 1.78% 6 6.82% 10 0.58% k22 4 24.52% 8 2.06% 6 6.83% 10 1.61% c1111 1 2.40% 3 0.11% 2 0.25% 4 0.03% c1122 1 1.93% 3 0.08% 2 0.22% 4 0.03% c2222 1 2.40% 3 0.11% 2 0.25% 4 0.03% c3333 1 6.98% 3 0.15% 2 1.16% 4 0.04% d11 1 2.11% 3 0.04% 2 0.24% 4 0.01% d22 1 2.11% 3 0.04% 2 0.24% 4 0.01% tabl 4: maxim rel error differ order polynomi approxim tensori compon materi properties. u/pi f tm/pi given equat (37) (40), respectively. order avoid expens comput invers involv comput u/pi, recast equat (51) form: r pi = ut ( 2 f tm pi k pi ) , (52) km/pi given equat (39). 24 let consid plate differ microstructures: b = h = 0 (i.e., fulli mmatrix=steel), b = h = l/2 b = h = l (i.e., fulli mlayer=copper). correspond compliance, given equat (50), thermal load shown figur 3a list tabl 5. figur 6 show sensit complianc structur cases. d) b=h= t tm (u f )/h [n/m] l/2 . . a) [n/m] b=h=0 t tm (u f )/b . . b) b=h=0 t tm (u f )/h [n/m] . . c) b=h=l/2 t tm (u f )/b [n/m] . . e) b=h=l t tm (u f )/b [n/m] . . f) b=h= t tm (u f )/h [n/m] l . . figur 6: sensit complianc plate microstructur changes, differ homogen microstructur (b = h = 0, b = h = 0.5, b = h = l). properti b = h = 0 b = h = l/2 b = h = l vtip 9.80 mm 15.26 mm 17.21 mm utf tm 9.709 104 n 1.839 105 n 2.171 105 n tabl 5: vertic displac free end complianc plate differ homogen microstructures. alternatively, respons thermally-load plate char- acter magnitud x2-displac node locat x1 = l,x2 = 0 (lower right corner), v tip: r(u ,t ) = vtip. (53) 25 let j degre freedom correspond x2-displac node. accord x1-x2 frame adopt figur 3a, hold uj < 0 t > t (a present case), vtip = uj. then, sensit respons microstructur chang given by: r pi = uj pi = jm smi , given j, (54) jm j-th row invers matrix km. instead com- pute invers extract j-th row, consider effici comput point view solv follow linear equat jm: kjm = ej, (55) ej j-th basi vector space rd, d dimens u (i.e., number degre freedom mechan analysis). valu vtip differ homogen microstructur list tabl 5. figur 7 show sensit vtip microstructur chang cases. 6.2.1. increas compliance/stiff chosen object function r, given equat (50) equat (53), character complianc consid plate, complianc beam increased/decreas increasing/decreas pi accord sign r/pi. finit differ approximation: r pi rnew r p newi pi , (56) 26 a) b=h=0 tip v /b . b) h b=h=0 tip v / . c) b=h=l/2 tip v /b . d) h b=h= tip v / l/2 . e) b=h=l tip v /b . f) h b=h= tip v / l/2 . figur 7: sensit vertic displac lower free corner plate microstructur changes, differ homogen microstructur (b = h = 0, b = h = 0.5, b = h = l). updat pi express p newi = pi + ( r pi )1 (rnew r), (57) subject constraint 0 p newi l. (58) further, p new21 = b p new 2 = h defin rve x, addit constraint arise: p new21 = l p new 2 = l, viceversa. (59) let consid instanc plate homogen microstructur pi = b = h = 0.5. seek increas complianc plate, adopt r = rnew r posit larg equat (57) 27 reduc to: p newi = 0 r/pi < 0 l/2 r/pi = 0 l r/pi > 0 increas compliance, (60) subject constraint (59). result qualit differ depend defini- tion respons function r. r = utf tm, r/b r/h shown figur 6c 6d, respectively. equat (60) give rise ident new valu b h start b = h = 0.5, shown figur 8a. comput solut consist upper layer pure mlayer lower layer pure mmatrix. materi distribution, plate 67% compliant plate mlayer (the materi lower stiffness), measur term r = utf tm. consid r = vtip, r/b r/h shown figur 7c 7d, respectively, obtain solut plot figur 8c (note b = l again). case, solut consist layers: core mmatrix upper lower layer mlayer, 33% compli- ant plate mlayer (the materi lower stiffness), measur term r = vtip. analogously, increas stiff (i.e., decreas complianc plate), adopt r = rnew r neg larg enough, equat (57) reduc p newi = l r/pi < 0 l/2 r/pi = 0 0 r/pi > 0 increas stiffness, (61) 28 subject constraint (59). r = utf tm, equat (61) give rise solut shown figur 8b, consist upper layer pure mmatrix lower layer pure mlayer. plate 97% stiffer plate mmatrix (the stiffer material), measur term utf tm. r = vtip, obtain solut shown figur 8d: plate core mmatrix upper lower layer mlayer. plate 63% stiffer plate mmatrix (the stiffer material), measur term vtip. c) increas complianc r= tip v . d) increas stiff r= tip v . b) increas stiff r= t tm u f . . a) increas complianc r= t tm u f . . figur 8: distribut materi increas stiff (left) complianc (right) sensit analysis, start b = h = 0.5l. color-bar depict 0 b/l = h/l 1. properti increas stiff increas complianc r = ui r = utf tm r = ui r = utf tm vtip 6.02 mm 9.50 mm 22.96 mm 20.19 mm utf tm 7.098 104 n 4.939 104 n 2.704 105 n 3.642 105 n tabl 6: displac free end stiff differ microstructures. 29 7. conclus work, present methodolog sensit analysi thermomechan respons bodies, structures, variabl mi- crostructure. materi properti depend microstructure, respons bodi macroscal analyz kind multiscal approach. then, evalu requir solut microscop problem integr point, make comput usual procedur hardli affordable. propos address challeng wide rang quantit character materials, perform microscal analysi off-lin stage. end, recours respons surfac methodolog order defin macroscop thermal mechan properti analyt function paramet defin microstructure. way, analyt express sensit macroscop materi properti microstructur chang obtained. note that, given microstructur distribut body, rsm allow predefin materi properti known function positions. then, determin macroscop respons standard monoscal problem, solv avail fem codes. reduct start fully-onlin multiscal problem monoscal impli huge reduct comput time. fact crucial con- tribut work enabl optim design complex struc- ture quantit character materi spatial variabl microstructure. afford multiscal problem solut 30 iter optim process. actually, purpos futur works. acknowleg author receiv fund council scientif technic research argentina (conicet) research project pip 2012-2014 gi-1105: comput simul multiphys prob- lems. applic metal solidif microelectromechan de- vices. research lead result receiv fund european research council seventh framework programm (fp/2007-2013)/erc grant agreement n. 320815 (erc advanc grant project comp-des-mat: advanc tool comput design engin materials). appendix i: thermomechan comput homogen base variat principl appendix describ main aspect character homoge- nizat methodolog adopt work: variat formul equat govern scale transit technique. similar multiscal tech- niqu mechan problem present refer [12, 13, 14]. addit aspect methodolog seen there. 31 a-1. scale transit techniqu let consid materi microstructur statist ho- mogen macroscale. point x associ given rve, identifi domain have piecewis smooth boundari outward normal unit vector n, figur 1. hereafter, () denot object describ . separ scale condit assumed: characterist length rve, denot `, correspond characterist size, `, macro scale domain: ` `. a-1.1. thermal problem thermal respons x comput mean homogeniza- tion techniqu associ rve . temperatur field defin sum contributions: t = t + x t y + t, (ai-1) t x t given input defin macroscal analysis, t fluctuat temperatur field. equat (ai-1), temperatur gradient is: y t = x t + y t. (ai-2) fourier law, heat flux vector q microscal q = ky t, (ai-3) conduct tensor k = k(y) given properti ma- terial compon microscop scale. 32 consist formul scale transit procedur satisfi spe- cific constraint field describ macro microscop do- mains. accordingly, postul basic admiss requir be- tween descriptions, consid fundament hypothes ap- proach: (i) thermal admiss (ii) energet admissibility. re- quirement (i) fix minim consist boundari condit rve problem, requir (ii) determin heat balanc equat micro scale, homogen formula macroscop heat flux vector. requir discuss below. a-1.1.1. thermal admiss requir requir impos ident temperatur gradient macroscal volumetr averag temperatur gradient microscale: x t = 1 || y t dv, (ai-4) || volum . consid y t given equat (ai-2) gausss theorem, equat (ai-4) yields: tn ds = 0, (ai-5) introduc constraint temperatur fluctuat field microscale. constraint minimum impos t order defin admiss fluctuat field. multiscal model adopt temperatur fluctuat field satisfy- ing equat (ai-5) call minim constrain thermal multiscal sub- model. altern sub-model fluctuat field addit con- straint postulated. typic choic are: taylor sub-model rule 33 mixtur (t null ), linear sub-model (t null ) peri- odic sub-model (t period sub-boundari opposit normal vectors). vector space t collect admiss function t defin as: t = {v(y) | v suffici smooth v(y)n ds = 0}. (ai-6) case, t defin vector space thermal admiss virtual action temperatur fluctuat microscale. a-1.1.2. energet admiss requir postul follow variat sentence: q x t = 1 || q y t dv, (ai-7) x t y t relat constraint (ai-4). consid y t given equat (ai-2), fulfil variat express (ai-7) necessarili impli consequences, namely: 1. homogen formula heat flux vector: q = 1 || q dv; (ai-8) 2. heat balanc equat rve-level, enunci as: given x t , t t that: q y t dv = 0, t t. (ai-9) 34 a-1.2. mechan problem similar thermal field t, equat (ai-1), displac field u(y) defin sum contributions: u = u+ y + u, (ai-10) u given input macroscale, u displace- ment fluctuat field . then, linear strain tensor microscale, defin convent form, = sy u = + s y u , (ai-11) strain fluctuat tensor. let assum mechan behavior microcompon obei linear thermoelast law: = c + d(t t 0), (ai-12) c tensor elast moduli d stress increment unit temperature, given properti micro- components; t 0 denot temperatur zero-therm stress, assum common microcomponents. consid t, given equat (ai-1), satisfi t = t +o(`/`), (ai-13) `/` 1 accord separ scale condition, as- sume that: t t 0 t t 0. (ai-14) 35 therefore, depend temperatur fluctuat field disregard constitut law microscop scale, equat (ai-12), final take form = c + d(t t 0). (ai-15) thank assumption, classic thermoelast constitut equat (12) recov macroscop scale. like thermal problem, addit constraint impos mechan problem correct definit scale transit proce- dure. analogously, postul mechan admiss requir : (i) kinemat admiss (ii) power admissibility. requir (i) provid consist boundari condit rve, requir (ii) provid variat equilibrium problem microscal correspond homogen formula macroscop stress tensor , discuss follow paragraphs. a-1.2.1. kinemat admiss requir impos equival strain macroscal volumetr averag strain microscale: = 1 || dv. (ai-16) view (ai-11), gausss theorem, equat (ai-16) rewritten as: u s n ds = 0, (ai-17) repres minimum constraint impos field u, order satisfi kinemat admiss condition. multiscal (me- chanical) model satisfi (ai-17) minim constrain kinemat 36 (mechanical) multiscal sub-model [14]. altern submodel addi- tional kinemat constraint displac fluctuat field postulated. typic choic are: taylor sub-model rule mixtur (u null ), linear sub-model (u null ) period sub-model (u period boundari part have opposit normal vectors). vector space u collect admiss function u defin as: u = { v(y) | v suffici smooth v(y) n ds = 0 } . (ai-18) note u coincid space kinemat admiss virtual action microdisplac fluctuations. a-1.2.2. power admiss requir well-known hill-mandel principl macrohomogeneity, impos follow identity: = 1 || dv, (ai-19) virtual field relat constraint (ai-16). consequ deriv identity, namely: 1. homogen formula stress tensor: = 1 || dv; (ai-20) 2. mechan equilibrium problem rve-level, enunci- at as: given t (x) (x), u u that: sy u dv = 0, u u. (ai-21) 37 a-1.3. effect thermal conduct tensor introduc express (ai-2) (ai-3), result expres- sion (ai-8), obtain effect thermal conduct tensor: k = q (xt ) = k + k, (ai-22) k = 1 || k dv, (ai-23) k = [ 1 || ei ( ky tj ) dv ] ei ej, (ai-24) ei i-th vector canon basi r3, tj . = t (xt ) ej, (ai-25) comput solv linear problem ky tj y t dv = kej y t dv, t t. (ai-26) a-1.3.1. effect elast thermal stress tensor replac equat (ai-11) equat (ai-15), result ex- pression (ai-20), effect elast tensor c is: c = = c + c, (ai-27) c = 1 || c dv, (ai-28) c = [ 1 || (ei ej) ( csy ukl ) dv ] ei ej ek el, (ai-29) 38 ukl . = u (ek el), (ai-30) solut linear problem csy ukl s y u dv = c(ek el) sy u dv, u u. (ai-31) turn, introduc constitut equat (ai-15) mi- croscal homogen formula (ai-20) differenti respect macroscop temperature, obtain effect stress tensor increment unit temperatur d = t = d+ d, (ai-32) d = 1 || d dv, (ai-33) d = csy t u dv, (ai-34) t u . = u t , (ai-35) solut linear equat csy t u s y u dv = d sy u dv, u u. (ai-36) detail derivation, variat point view, tangent oper k, c d, refer [15, 16]. 39 a-2. fem-implement micro scale fem implement microscal analog pre- sent macroscal section 3. aspect deserv special attent techniqu impos boundari condit rve. applic develop section 6, particularli homog- eniz materi properti rve (section 6.1), temperatur displac fluctuat prescrib period boundari rve. boundari condit dealt static condensa- tion procedur taken toro et al[17]. refer [1] s. torquato. optim design heterogen materials. annu. rev. mater. res., 40:101129, 2010. [2] d. mcdowel t. story. new direct materi design scienc engineering. report, workshop sponsor u.s. nation sci- enc foundation, georgia institut technolog morehous col- lege, atlanta, ga, usa, 1998. [3] m. kachanov i. sevostianov. quantit character microstructur effect properties. int. j. solid structures, 42:309336, 2005. [4] e. lund j. stegmann. structur optim composit shell structur discret constitut parametrization. wind energy, 8(1):109124, 2005. 40 [5] i. tsukrov m. kachanov. effect moduli anisotrop materi ellipt hole arbitrari orient distribution. int. j. solid structures, 37:59195941, 2000. [6] c. rungsiyakull, q. li, g. sun, w. li, m. v. swain. surfac morpholog optim osseointegr coat implants. bio- materials, 31:71967204, 2010. [7] j. chen, c. rungsiyakull, w. li, y. chen, m. swain, q. li. multi- scale design surfac morpholog gradient osseointegration. jour- nal mechan behavior biomed materials, 20:387397, 2013. [8] m. p. bends o. sigmund. topolog optimization. theory, meth- ods, applications. springer-verlag, 2003. [9] j. fish a. ghouali. multiscal analyt sensit analysi composit materials. intern journal numer method engineering, 50(6):15011520. [10] m. kaminski. design sensit analysi homogen elast tensor polym fill rubber particles. intern journal solid structures, 51(3):612621, 2014. [11] s. hou, q. li, s. long, x. yang, w. li. multiobject optimiza- tion multi-cel section crashworthi design. intern journal impact engineering, 35:13551367, 2008. [12] f. feyel j. l. chaboche. fe-2 multiscal approach model 41 elastoviscoplast behaviour long fibr sic/ti composit materials. comput. method appl. mech. engrg., 183(3):309330, 2000. [13] c. mieh a. koch. comput micro-to-macro transit discret microstructur undergo small strains. archiv appl. mech., 72(4):300317, 2002. issn 0939-1533. [14] e. a. souza neto r. a. feijoo. equival spatial materi volum averag stress larg strain multi- scale solid constitut models. mechan materials, 40:803811, 2008. [15] j.c. michel, h. moulinec, p. suquet. effect properti compos- it materi period microstructure: comput approach. comput. method appl. mech. engrg., 172:109143, 1999. [16] s. m. giusti, p. j. blanco, e. a. souza neto, r. a. feijoo. assess gurson yield criterion comput multi- scale approach. engin computations: intern journal computer-aid engin software, 26(3):281301, 2009. [17] s. toro, p. j. sanchez, a. e. huespe, s. m. giusti, p. j. blanco, r. a. feijoo. two-scal failur model heterogen materials: numer implement base finit element method. inter- nation journal numer method engineering, 97(5):313351, 2014. 42