2015_prl_pfe_ang.dvi gestur learn execut humanoid robot via dynam movement primit sammi pfeiffera , cecilio angulob ,  apal robot .
pujad 77-79 , 08005 barcelona , spain bgrec research group , universitat politecnica de catalunya .
pau gargallo 5 , 08028 barcelona , spain .
abstract system learn execut gestur humanoid robot develop implement work .
gestur repres via use dynam movement primit robot platform reem .
sinc ag- nostic knowledg consid design trajectori , approach easili extend robot .
implement work involv record gestur use three differ procedur , robot , help user , extern devic .
next , dynam movement primit repres motion generat describ trajectori final execut real humanoid robot .
sever experi provid illustr knowledg acquir robot , repres form dynam system , general reproduc differ start condit .
keyword : dynam movement primit , humanoid robot , knowledg acquisit , gestur represent 1 .
introduct gestur design key point human robot commu- nicat , far motion gestur also import non- verbal signal human communic ( hostett et al. , 2007 ; radford , 2009 ) .
fact , robot gestur make difficult task easier , reduc perceiv workload increas task perform ( salem et al. , 2011 ; lohs et al. , 2014 ) .
howev , knowledg acquisit , like new design gestur robot high number degre freedom , current tire chal- leng task mobil robot ( breazeal et al. , 2005 ; calinon billard , 2007 ) .
besid , new repres movement static sens fix initi design , i.e .
alway start end pose robot , follow trajectori ( tenorth beetz , 2009 ) .
lim- correspond author email address : cecilio.angulo @ upc.edu ( cecilio angulo ) ite mechan behaviour barrier robot tri physic express social mean gestur , even discov new knowledg fron ( trafton et al. , 2013 ; moshkina et al. , 2014 ; puigbo et al. , 2015 ) .
use learn demonstr techniqu ( argal et al. , 2009 ) dynam movement primit ( schaal , 2006 ; ijspeert et al. , 2013 ) , motion repre- sent like dynam system gener- aliz modifi initi valu tune parame- ter accord environment chang ( ruckert  avella , 2013 ) .
henc , instanc , execut differ initi final pose similar , , trajectori eas task make robot social .
therefor , work approach cogni- tion dynam system perspect .
unlik comput approach cognit , share idea cognit system special kind comput ( puigbo et al. , 2015 ) , dynam approach exploit idea cognit system special kind dynam system .
approach also merg hierar- chical structur , comput approach link preprint submit pattern recognit letter juli 20 , 2015 state dynam approach exeut dy- namic movement primit .
robot high number degre freedom refer one like reem , humanoid servic robot , reem-c , bipe robot , pal robot , technolog- ical compani work research develop robot .
develop three bipe humanoid robot , reem-a ( 2004 ) , reem-b ( 2006 ) reem-c ( 2013 ) , three prototyp mo- bile base , reem-h01 ( 2010 ) , reem-h02 ( 2012 ) current version reem , one use work ( see figur 1 ) .
work , latest reem prototyp ( re- leas 2012 ) , employ .
full-siz hu- manoid servic robot act receptionist , enter- tain compliment guest , provid dynam inform make present speech care center , ho- tel , museum , shop mall airport .
list characterist includ : weight 100 kg height 1.70 , batteri autonomi 8 hour , 34 degre freedom 26 sensor .
figur 1 : pal robot  robot evolut reem robot studi .
rest paper organ follow : first , introduc dynam movement primit short .
, softwar resourc impli develop list , well total procedur implement explain next section .
experiment result three differ form knowledg acquisit describ next section .
final , conclus research line offer .
2 .
dynam movement primit dynam movement primit ( dmps ) method trajectori control / plan deriv stefan schaal  lab .
present way back 2006 ( schaal , 2006 ) , updat 2013 auk ijspeert ( ijspeert et al. , 2013 ) .
detail illustr explan dynam movement primit found ( de- wolf , 2014 ) .
start trajectori defin dmps point attrac- tor dynam equat : y = y ( y ( g  )  y ) ( 1 ) system state , g goal ,   gain term .
kind system seen propor- tional + deriv control signal govern system target .
forc term ad , allow us modifi trajectori : y = y ( y ( g  )  y ) + f ( 2 ) defin nonlinear function f get desir behaviour non-trivi question .
order general make trajectori time- independ , new system , call canon dynam system , introduc , simpl dynam : x = xx ( 3 ) canon system start arbitrari valu , instanc x0 = 1 , goe 0 time goe infin .
henc , forc function f defin ba- sis function i , defin canon system x : f ( x , g ) = n i=1 iwi n i=1 i x ( g  y0 ) ( 4 ) y0 initi posit system wi weight given basi function i .
usual , basi defin like gaussian function center ci , hi varianc , i = exp ( hi ( x  ci ) 2 ) ( 5 ) forc function set gaussian funtion  activ  canon system x converg target .
weight summat normal , multipli x ( g  y0 ) term ,  dimin- ish  spatial scale term .
incorpor x term forc function guar- ante contribut forc term goe zero time , canon system .
moreov , 2 spatial scale mean set system follow desir trajectori specif goal would like abl move goal farther away closer get scale version trajectori .
final , general term tempor scale also sought : abl follow trajectori differ speed .
anoth term ad system dy- namic ,  , like tempor scale term , give tempor flexibl , y = 2 ( y ( y ( g  )  y ) + f ) x =  ( xx ) ( 6 ) slow system set  0 1 , speed set  greater 1 .
, forc term f make system take path converg target point , tempo- ral spatial scalabl .
order set system follow specifi path , affect system accelera- tion use forc term .
, desir trajec- tori ( fact vector desir point trajectori ) yd = { yd ( t0 ) , .
.
.
, yd ( tn ) } , forc term need gen- erat trajectori calcul , fd = yd  y ( y ( g  )  y ) ( 7 ) sinc forc term compris weight sum- mation basi function activ time ( 4 ) , optim techniqu like local weight regress ( lwr ) select calcul weight wi forc function match desir tra- jectori fd .
object function minim  i ( ) ( fd ( )  wi ( x ( ) ( g  y0 ) ) ) 2 ( 8 ) solut wi = stifd stis ( 9 ) =             xt0 ( g  y0 ) .
.
.
xtn ( g  y0 )             , i =             i ( t0 ) .
.
.
0 0 .
.
.
0 0 .
.
.
i ( tn )             ( 10 ) figur 2 : rviz visual reem robot .
differ data sensor shown .
3 .
softwar resourc section main devot explain integra- tion effort softwar exist tool .
short introduc aim understand imple- ment system work .
robot oper system ( ros ) ( foundat , 2014 ) framework set softwar librari tool build robot applic .
driver state-of-the-art algorithm , power develop tool visual creat applic .
3.1 .
data acquisit simul softwar packag employ follow ,  rosbag .
set tool record play- ing back ros topic high perform way ( thoma , 2014 ) .
 yaml .
 yaml  markup languag  ( evan , 2014 ) human-read data serial format .
 rviz .
3d visual display sensor data state inform ros ( hershberg et al. , 2014 ) ( see figur 2 ) .
 reem robot softwar .
reem run ros .
coupl implement packag ( robot , 2014 ) import work : urdf implementa- tion robot descript play motion packag store previous known movement way point fashion allow user ask reproduc movement .
3 3.2 .
dmps generat scott niekum dmp  .
packag call dmp ( niekum , 2014 ) develop scott niekum pro- vide general implement dynam movement primit ( dmps ) ( konidari et al. , 2013 ) .
packag expos three servic :  learn dmp demo : given demonstr tra- jectori dmp paramet , return learn multi- dimension dmp .
 set activ dmp : set activ multi-dimension dmp use plan .
 get dmp plan : creat full partial plan start state goal state , use current activ dmp .
3.3 .
movement moveit !
framework ( coleman et al. , 2014 ) extens use , part outlin next .
collis detect .
collis check perform tak- ing account robot status ( pan et al. , 2012 ) .
make use librari flexibl collis librari ( pan , 2014 ) willow garag .
kinemat .
forward kinemat jacobian in- tegrat .
default invers kinemat plug-in moveit !
configur use numer jacobian-bas solver .
control manag .
manag take care avail control split trajectori synchro- nize .
joint trajectori control .
develop part moveit !
moveit !
take grant joint trajec- tori control ( tsouroukdissian , 2014 ) work underly- ing control manag .
4 .
implement differ part system work explain section .
general overview complet cycl learn gestur , learnt differ sourc , creat trajectori safe ex- ecut seen diagram figur 3 .
figur 3 : diagram process learn execut gestur .
4.1 .
record motion three main input sourc employ perform learn demonstr .
learn previous known gestur .
gestur cre- ate hand ( i.e .
: specifi joint configur joint joint manual test slowli ) play back record .
approach impli autom way ex- ecut record gestur .
learn robot demonstr .
creat in- terfac lower max current joint effect abl move hand , motion taught di- rect move robot .
servic base interfac request actual current valu ( percentag maximum possibl mo- tor ) set desir valu ( see figur 4 ) .
learn extern devic .
accept end effec- tor pose ( 6d repres posit orient ) learn devic like razer hydra leap motion motion train .
devic track user move- ment tool , like paddl , direct human part like hand report posit world .
also learn- 4 figur 4 : captur web interfac chang current limit motor .
ing robot tf  s1 implement ( also learn play motion ) .
4.2 .
generat dmps use servic provid scott niekum learn three sourc input explain pre- vious subsect .
4.2.1 .
improv record data record posit joint robot con- sist subscrib sourc inform ( call ros topic ) state joint publish constant rate 50 hz .
real life informa- tion found noisi case .
nois 1the robot tf tree represent robot part current posit space .
enabl learn , exampl , trajectori tip hand .
make data useless learn .
filter meth- od evalu ( main low-pass filter ) , eas implement good result , strategi con- sist down-sampl signal later appli cubic spline down-sampl point cho- sen. exampl trajectori arm right 6 joint arm right 7 joint present jerki found plot- ted figur 5 ( ) .
veloc record execu- tion found figur 5 ( b ) , confirm con- tinuous jump direct rotat joint .
deploy 85 % 2 down-sampl signal connect trajectori point cubic spline , observ improv result figur 6 .
2this ideal valu found test differ valu trade similar train gestur smooth result trajectori .
5 ( ) origin captur trajectori posit .
( b ) origin captur trajectori veloc .
figur 5 : origin captur trajectori show evid jerki .
trajectori current smoother , make system abl generat trajectori  make robot shake .
4.2.2 .
paramet tune paramet tune use case learn demonstr also ask new plan learnt .
dmp paramet .
work play sever valu   paramet dynam equat ( 1 ) , left document .
tune number basi function , empir found valu equival 20 base per everi second durat record gestur gave best re- sult .
evalu valu plan initi final condit coincid record one orig- inal trajectori generat .
similar record trajectori generat one analyz .
anoth strategi evalu consist quantize much movement trajectori minim number basi function .
strategi made train faster lead occasion sudden movement , danger robot  mechan- ical part .
trajectori paramet .
set paramet , one realli need fine tune time resolut plan second .
found robot control behav better short step trajectori valu 0.02 second chosen .
lower valu slow need comput  add much smooth perceiv execut robot .
4.3 .
check trajectori generat compar record data generat data initi final point , posit veloc plot made check system .
posit graph .
first , observ jerk- iness exist improv record demonstr tra- jectori movement quit slow short ( figur 7 ( ) ) .
next , learn demonstr gen- erat plan initi point final point learnt demonstr ( figur 7 ( b ) ) .
final , execut trajectori shown fig- ure 7 ( c ) .
trajectori almost ident previous one .
littl differ plot depend- ing exact time start end trajecto- rie , also down-sampl trajectori lesser point main focus appreci natur movement still .
scale also vari mini- malli .
veloc graph .
similar system check per- form veloc .
initi , trajectori found figur 8 ( ) record .
 down-sampl veloc dmp server learn posit time inform .
figur 8 ( b ) show veloc generat plan dmp server .
notic smoother orig- inal one .
final , veloc result execut plan depict figur 8 ( c ) .
note bit less jerki origin one .
6 figur 6 : final trajectori use demonstr down-sampl use cubic spline .
4.4 .
check collis data manipul must perform abl send plan joint control .
dmp plan includ posit , veloc time robot agnost , sens take account particular ge- ometri robot .
henc , mandatori check provid trajectori safe .
use servic explain section 3.3 everi trajec- tori point check avoid robot collis environ .
point fail , execut start .
collis check process comput ex- pensiv oper .
real test found collis check full generat trajectori took rough 1/3 expect durat execut trajectori .
in- stanc , long trajectori call crowd salut du- ration 14 second .
comput collis took approxim 4 second .
trajectori compos 600 point .
everi collis check call take averag 0.007 second .
larg delay ask reproduc ges- ture desir research complet try- ing allevi issu .
down-sampl trajectori check collis point consid calcul worst case movement discard approach : everi trajectori point generat 0.02 second differ joint usual limit 1 meter per second veloc , motor arm move time would impli movement 0.14 meter end effector consid riski .
5 .
result sever experi implement illustr result .
show result work also abil robot ( like voic recogni- tion text speech ) perform experi appeal give vision work integr .
5.1 .
learn play motion demo robot perform pre-record move- ment creat hand make typic wav- ing motion .
movement record fed dmp server learn .
next , plan start pose end pose request final execut .
video made public ( pfeiffer , 2014c ) , part movement display im- age ( see figur 9 ) .
demo differ time dur- ing execut learnt gestur .
execut bit faster origin one record step 7 stop record moment robot report fin- ish motion , may happen short ac- tualli finish execut .
henc , experi fail show movement almost ident play video time hand let us show chang time motion still preserv motion natur .
5.2 .
learn demonstr video made public ( pfeiffer , 2014a ) experi .
part movement seen imag ( see figur 10 ) .
experi robot start ask user joint group want use , option right arm , right hand , left arm , left hand combin .
user choos one sentenc similar  want use right arm  .
robot ask confirm lower current desir joint group , case right arm , user abl move freeli .
next , user set initi posit ges- ture order robot start record motion .
reem repli confirm understood order start record .
user perform motion .
he/sh want stop record joint state , he/sh say  wait  .
learn process start .
motion learnt , take time propor- tional number joint involv learn long motion , reem inform user move arm posit he/sh want start learnt gestur .
user set pose andlet reem know may com- pute gestur current posit ( see figur 11 ) .
reem give back normal level maximum cur- rent joint , check generat trajectori safe final execut motion ( see figur 12 ) .
motion finish , reem ask user set anoth initi posit generat new gestur , enter loop user want stop .
whether user set initi pose provok trajectori generat dmp collis point , trajectori  execut user inform .
5.3 .
learn end effector video made public ( pfeiffer , 2014b ) , part movement depict .
experi execut simul safeti reason .
demo , user design trajec- tori 6d world ( i.e .
posit orient end effector ) use extern devic , case razer hydra control .
input mechan generic any- thing give 6d pose use input .
demo test also leap motion con- troller use robot hand tip execut previous known gestur refer pose .
trajectori record , dmp cartesian space learnt .
, system ask invers kinemat ( ik ) necessari everi point trajectori , done give everi call previous robot state initi posit tri ensur continu movement possibl .
whether shown trajectori quit simpl , usual work , movement in- volv big area mani configur chang larg shake trajectori .
trajectori joint space ( ev- eri end effector cartesian pose translat joint configur joint group ) skip safeti check step use demo ik call ensur us collis given con- figur .
6 .
conclus system learn execut gestur hu- manoid robot develop implement .
involv integr mani layer softwar quit low level high level cognit concept .
gestur repres via use dynam movement primit robot platform reem .
demonstr use dmps handi way learn motion complex robot integr experi easy-to-us softwar .
reem robot current abl learn gestur also compos task learn differ step .
futur work , issu could expand : tra- jectori check could faster ; trajectori could smooth re-plan execut ; train 8 figur 12 : reem perform taught gestur .
gestur extern devic could made safer also faster .
acknowledg would thank pal robot let us work project robot reem headquart great peopl therein interest work .
research support part patricia research project ( tin2012-38416-c03-01 ) , fund spanish ministri economi competit .
refer argal , b.d. , chernova , s. , veloso , m. , brown , b. , 2009 .
survey robot learn demonstr .
robot autonom system 57 , 469483 .
breazeal , c. , kidd , c. , thomaz , a. , hoffman , g. , berlin , m. , 2005 .
effect nonverb communic ef- ficienc robust human-robot teamwork , : intellig robot system , 2005 .
( iro 2005 ) .
2005 ieee/rsj intern confer , pp .
708 713. doi:10.1109/iros.2005.1545011 .
calinon , s. , billard , a. , 2007 .
increment learn gestur imit humanoid robot , : pro- 9 ceed acm/iee intern confer human-robot interact ( hri ) , pp .
255262 .
coleman , d. , sucan , i.a. , chitta , s. , correl , n. , 2014 .
reduc barrier entri complex robot soft- ware : moveit !
case studi .
comput research repositori abs/1404.3785 .
url : http : //arxiv .
org/abs/1404.3785 .
dewolf , t. , 2014 .
dynam movement prim- itiv part 1 : basic .
url : http : //studywolf.wordpress.com/2013/11/16/ dynamic-movement-primitives-part-1-the-basics/ .
evan , c.c. , 2014 .
yaml offici websit .
url : http : //www.yaml.org/ .
foundat , o.s.r. , 2014 .
ros offici websit .
url : http : //www.ros.org/ .
hershberg , d. , gossow , d. , faust , j. , 2014. rviz ros wiki .
url : http : //wiki.ros.org/rviz .
hostett , a.b. , alibali , m.w. , kita , s. , 2007 .
see hand eye : represent gestur reflect con- ceptual demand .
languag cognit process 22 , 313336 .
url : http : //dx.doi.org/10.1080/ 01690960600632812 , ijspeert , a.j. , nakanishi , j. , hoffmann , h. , pastor , p. , schaal , s. , 2013 .
dynam movement primit : learn attractor model motor behavior .
neu- ral comput 25 , 328373 .
konidari , g. , kuindersma , s. , niekum , s. , grupen , r. , barto , a. , 2013 .
robot learn : recent exam- ples , : proceed sixteenth yale workshop adapt learn system , center system scienc , depart electr engin , yale univers .
pp .
7176 .
lohs , m. , rothui , r. , gallego perez , j. , karreman , d.e. , ever , v. , 2014 .
robot gestur make difficult task easier : impact gestur perceiv work- load task perform , : chi  14 : proceed sigchi confer human factor com- pute system , acm , new york , ny , usa .
pp .
1459 1466 .
moshkina , l. , trickett , s.b. , trafton , j.g. , 2014 .
so- cial engag public place : tale one robot , acm , bielefeld , germani .
pp .
382389 .
doi:10 .
1145/2559636.2559678 .
niekum , s. , 2014 .
dmp ros wiki .
url : http : //wiki .
ros.org/dmp .
pan , j. , 2014 .
fcl offici github .
url : https : // github.com/flexible-collision-library/fcl .
pan , j. , zhang , l. , manocha , d. , 2012 .
collision-fre smooth trajectori comput clutter envi- ronment .
intern journal robot research 31 , 11551175 .
pfeiffer , s. , 2014a .
learn demonstr use dmps .
url : http : //youtu.be/qoj2d9r7m5 .
pfeiffer , s. , 2014b .
learn extern control dmps .
url : http : //youtu.be/h4jsr7avxvi .
pfeiffer , s. , 2014c .
learn previous known gestur use dmps .
url : http : //youtu.be/1_ gyrg4d-g4 .
puigbo , j. , pumarola , a. , angulo , c. , tellez , r.a. , 2015 .
use cognit architectur general purpos servic robot control .
connect .
sci .
27 , 105117 .
url : http : //dx.doi.org/10.1080/ 09540091.2014.968093 , doi:10.1080/09540091 .
2014.968093 .
radford , l. , 2009 .
gestur matter ?
sen- suous cognit palpabl mathemat- ical mean .
educ studi mathe- matic 70 , 111126 .
url : http : //dx.doi .
org/10.1007/s10649-008-9127-3 , doi:10.1007/ s10649-008-9127-3 .
robot , p.a.l. , 2014 .
reem ros wiki .
url : http : //wiki.ros.org/robots/reem .
ruckert , e. ,  avella , a. , 2013 .
learn parametr dy- namic movement primit share synergi control robot musculoskelet system .
fron- tier comput neurosci 7 , 138. doi:10 .
3389/fncom.2013.00138 .
10 salem , m. , rohlf , k. , kopp , s. , joublin , f. , 2011 .
friend gestur : investig effect multi- modal robot behavior human-robot interact , : ro-man , 2011 ieee , pp .
247252 .
doi:10.1109/ roman.2011.6005285 .
schaal , s. , 2006 .
dynam movement primit - framework motor control human humanoid robot , : kimura , h. , tsuchiya , k. , ishiguro , a. , witt , h .
( ed .
) , adapt motion anim ma- chine .
doi:10.1007/4-431-31381-8_23 .
tenorth , m. , beetz , m. , 2009 .
knowrob  knowledg process autonom person robot , : intelli- gent robot system , 2009 .
iro 2009 .
ieee/rsj intern confer , pp .
42614266 .
doi:10 .
1109/iros.2009.5354602 .
thoma , d. , 2014. rosbag ros wiki .
url : http : // wiki.ros.org/rosbag .
trafton , j.g. , hiatt , l.m. , harrison , a.m. , tamborello , f. , khemlani , s.s. , schultz , a.c. , 2013 .
act-r/ : embodi cognit architectur human robot inter- action .
journal human-robot interact 2 , 3055 .
doi:10.5898/jhri.2.1.trafton .
tsouroukdissian , a.r. , 2014. joint trajectori control ros wiki .
url : http : //wiki.ros.org/joint_ trajectory_control .
( ) down-sampl cubic spline trajectori posit .
( b ) generat dmp server trajectori posit .
( c ) execut trajectori generat dmp server trajec- tori , posit .
figur 7 : check system .
improv demonstr , generat execut trajectori posit .
11 ( ) origin captur trajectori veloc .
( b ) generat dmp server trajectori veloc .
( c ) execut trajectori generat dmp server trajec- tori , veloc .
figur 8 : check system .
improv demonstr , generat execut trajectori veloc .
figur 9 : reem perform origin wave motion one generat use dmps .
figur 10 : user teach gestur move robot arm .
figur 11 : user set differ initi posit execut gestur .
12
