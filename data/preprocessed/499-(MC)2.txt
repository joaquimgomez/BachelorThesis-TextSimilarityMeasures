meccanica, volum 53, issu 7, pp. 1757-1776 doi: 10.1007/s11012-017-0712-3 - special issu new trend mechan masonri track multi-direct intersect crack numer model masonri shear wall cyclic load savva saloustro miguel cervera luca pel received: 16 januari 2017 accepted: 8 june 2017 abstract in-plan cyclic load masonri wall in- duce complex failur pattern compos multipl diagon shear cracks, flexur cracks. realist model induc local crack necessit us costli direct numer simula- tion detail inform properti geometri masonri components. contrary, computation effici macro-model standard smeared-crack approach result poor rep- resent fractur simul material, properli local bias finit element mesh orientation. work propos possibl rem- edi drawback macro-model us crack-track algorithm. macro-model approach result afford comput cost, track algorithm aid mesh-bia in- depend local represent cracking. novel methodolog present allow simula- tion intersect multi-direct crack track algorithms. develop extend us local crack approach track algorithm savva saloustro miguel cervera luca pel depart civil environment engin universitat politcnica catalunya (upc-barcelonatech) jordi girona 1-3, 08034 barcelona, spain. intern center numer method engin (cimne) gran capit, s/n, 08034 barcelona, spain. e-mail: e-mail: e-mail: wider field applic exhibit multiple, ar- bitrari interact cracking. paper present novel formul includ orthotrop damag model descript irrevers deforma- tion shear loading. propos approach calibr comparison experimen- tal test masonri shear wall in-plan cyclic loading. keyword continuum damag mechan crack- track cyclic shear load intersect crack masonri wall 1 introduct damag masonri appear form local cracks. propag crack structur determin develop collaps mechan consequ capac struc- ture given load conditions. structur behaviour taken account devel- opment classic advanc analysi tool structur assess masonri construct [1, 2, 3, 4]. numer model masonri structur un- dergon import develop decades. inventori numer method todai includ simplifi techniqu limit analysi softwar [5, 6, 7, 8], equival frame method [9, 10, 11] macro-model approach [12, 13, 14] sophisti- cate on micro-model [15, 16] multi-scal finit element model [17, 18, 19]. simplifi numeri- cal methods, like macro-model ones, consid masonri continuum materi averag proper- ties. simplif allow numer anal- 2 savva saloustro et al. ysi larg scale structur afford computa- tional cost limit accuraci dam- ag representation. reciprocally, explicit considera- tion masonri micro-structur micro-model techniqu result realist represent cracking, cost increas comput time memori requir limit date appli- cation small structur element structures. afford altern simul local- iz crack larg scale structur propos cervera co-work [20, 21, 22]. method base enhanc smear crack approach us crack-track algorithm. outcom approach realist represent evolv- ing local crack analys structur comput cost compar classic smear crack approach [23, 24]. despit recent applic masonri structures, track algorithm long histori simul local failur quasi-brittl ma- terials. enhanc problem involv progress weak, smear (e.g. [25, 26, 22]) strong, discrete, discontinu (e.g. [27, 28, 29, 30]). independ chosen approach, applic aim circumv problem mesh-depend irreduc standard finit element formul presents. addit featur realist represent cracking, lo- caliz damag occur narrow band mesh. notwithstand aforement advan- tages, track algorithm commonli design import assumpt initiation, prop- agat complet simul cracks. assumpt limit us approach simul propag crack monoton loading. paper present methodolog simul ef- ficient local crack masonri structur induc in-plan cyclic load contin- uum damag mechan model enhanc crack- track algorithm. cyclic load masonri struc- ture result complex damag pattern charac- teriz multipl intersect cracks. appro- priat model this, novel numer methodolog proposed, basi track algorithm de- velop previou work [22, 31, 32], allow simul intersect multi-direct crack- ing, extend us track algorithm larg field applications. constitut level, paper present novel formul context contin- uum damag model descript irrevers deform shear loading. introduction, paper organ follow way. section 2 present constitut damag model. follow that, novel track algo- rithm detail section 3. propos approach calibr section 4 simul experiment test masonri wall cyclic shear loading. section address issu mesh object track algorithm. paper end conclud section 5. 2 constitut model materi non-linear repres nu- meric simul us constitut model present [33]. strain-bas continuum damag model scalar damag variabl dis- tinguish tensil compress damage. decomposit effect stress tensor posit neg parts, us damag variables, result unilater effect un- der tension-compress cyclic loading. model account irrevers deform simpl effici algorithm, context contin- uum damag mechanics. properties, limit number involv materi paramet simpl explicit formulation, suitabl model seismic analysi larg concret ma- sonri structur [34, 35, 36, 37]. sake completeness, section present basic ingredi aforement tension- compress damag model. shear behaviour model carefulli consid proper defi- nition damag surfac evolut irrevers strains. model irrevers strain achiev improv previou formul mainli intend concret structur [33, 34, 38]. section end discuss effect propos alter evolut irrevers deform shear loading. 2.1 constitut law cauchi stress tensor (of rank two) comput tension-compress damag model constitut relat = (1 d+) + + (1 d) (1) d+ d scalar variabl denot com- pressiv tensil damag affect posit + track multi-direct intersect crack numer model masonri shear wall cyclic load 3 neg part effect stress tensor re- spectively. calcul distin- guish stress split accord [38] + = 3 j=1 j pj pj (2) = + (3) equations, j princip stress cor- respond eigenvector pj effect stress tensor symbol macaulai bracket (x = x, x 0 ,x = 0, x < 0). model us scalar variabl , equiva- lent stresses, distinguish loading, unload reloading. adopt valu + de- termin shape d+ d damag surfaces. work adopt valu propos [19, 39] + = h [max] 1 1 [ 3j2 + ai1 + bmax ] f+ f (4) = h [min] 1 1 [ 3j2 + ai1 + 1bmax ] (5) = ( fb /f ) 1 2 ( fb /f ) 1 (6) b = (1 a) f f+ (1 + a) (7) above, f+ f denot tensil compress uniaxi strength respect fb biaxial compress strength. i1 invari effect stress tensor j2 second invari deviator effect stress tensor. finally, max min stand maximum minimum princip effect stress respectively. us heavisid step function (h[x] = 1 x 0 h[x] = 0 x < 0) activ + tensil shear stress state (1st, 2nd 4th quadrant figur 1), compress shear shear stress state (2nd, 3rd 4th quadrant figur 1). 1 variabl control shape failur surfac shear quadrant (i.e. 2nd 4th quad- rant figur 1). valu vari 0 (i.e. drucker-prag criterion) 1 (i.e. criterion pro- pose [40]). note us macaulai brack- et max equat (5) make function inde- pendent 1 pure compression. this, addit fact 1 appear equat (4), tensil compress respons 1st 3rd quadrant figur 1 independ 1. shown petracca et al. [39, 41], differ choic definit equival stress pro- pose [35, 38, 40] result better control model behaviour shear monoton loading. shown later, choic surfac current model result consider irrevers deform shear loading. < 1 = < 3 < 1 = < 3 < 1 /f+ < 3 /f+ =+ case - 1: =!(7<!) case - 2: =!(7<); 51 = 0:0 case - 3: =!(7<); 51 = 0:5 case - 4: =!(7<); 51 = 1:0 fig. 1: effect function shape d failur surfac shear quadrant plane stress case. follow above, damag criteria ex- press (r, ) = r 0 (8) intern variabl r+ r repres current damag threshold respect expans d+ d damag surfaces. initi valu defin equal uniaxi tensil strength r+0 = f + uniaxi compress strength r0 = f. damag triggered, valu equal maximum attain valu equival stress rn = max [ r0 , max i(0,n) ( )] (9) n repres number current (load /displacement) increment. 4 savva saloustro et al. effect irrevers deform ac- count follow definit effect stress tensor = c0 : ( i) = c0 : e (10) c0 denot (rank four) elast constitut tensor irrevers second order total strain tensor e elast one. contrari total strain tensor, extern variabl model, irrevers strain tensor intern variable. follow express propos work rate irrevers strain = lim t ( t r( ) rt rt+t et+t ) (11) increment form = r( ) rn rn+1 en+1 (12) equations, n n + 1 subscript refer subsequ time steps. symbol "" denot increment specif quantiti step n n+1. variabl r( ) represent, respectively, effect stress stress threshold absenc increment irrevers strain time step n+ 1 = (|i=0)n+1 = n +c0 : n+1 (13) r( ) = max [ rn , ( ) ] (14) note quantiti r( ) rn non- neg equat (14), essenti thermody- namic requir ensur non-neg dissipa- tion. finally, materi paramet , valu be- tween 0 1, defin rate irrevers defor- mation scale current increment equiv- alent stresses, consequ stress thresholds, follow equat rn+1 = r n+1 r n (15a) = (1 ) (r( ) rn ) (15b) conveni consid effect irre- versibl strain definit effect stresses, cauchi stress comput us- ing valu effect stress damag variabl d. perform updat effect stress equat (10) (11) similar wai [33] n+1 = (16) = 1 ( 1 rn r( ) ) (17) comput effect stress increment analysi present flowchart tabl 1. (i) comput equat (13). (ii) > 0 ? yes: continu step (iii) no: evolut irrevers strain considered. set n+1 = exit. (iii) calcul () equat (5) r() equat (14). (iv) comput equat (17). set n+1 = exit. tabl 1: flowchart calcul effect stresses. follow above, evolut damag variabl defined, work follow ex- ponenti relationship propos [42]. d = 1 r0 r exp { 2hd ( r0 r r0 )} (18) tension compress evolut law consid re- spectiv posit g+f neg g f fractur en- ergies, characterist finit element width ldi correspond discret soften pa- rameterhd ensur mesh-siz independ energi dis- sipat accord crack-band theori [43]. case tension [44] h+d = ldi l+mat ldi (19) case compress damage, discret soften paramet hd defin (see appendix) hd = 1 1 ( ldi lmat ldi ) (20) definit consist crack band-width approach yield object result dif- ferent valu consid contribut track multi-direct intersect crack numer model masonri shear wall cyclic load 5 -1 -0.8 -0.6 -0.4 -0.2 0 -6 -5 -4 -3 -2 -1 0 m /f min / (e f ) = 0.00 = 0.50 = 0.95 (a) -1 -0.8 -0.6 -0.4 -0.2 0 -6 -5 -4 -3 -2 -1 0 m /f min / (e f ) = 0.00 = 0.50 = 0.95 (b) fig. 2: effect choic discret soften pa- ramet compress soften behaviour differ valu : hd (a) equat (20), (b) formul [45]. dissip energi evolut irrevers strain compress damage. above, materi characterist length lmat tension com- pression lmat = 2egf (f) 2 (21) us discret soften paramet equa- tion (20) result object represent dissip energi gf. illustr figur 2 case cyclic uniaxi compress load us- ing propos hd equat (20) instead adopt [45], neg counterpart equat (19). us new soften modulu (figur 2a) result consist energi dissip accord input valu gf independ choic . effect visualis equat (11) (15) limit case 0; 1 = 0 r = r( ) rn (22) in+1 = 0 (23) 1 r = 0 (24) dn+1 = 0 (25) case, = 0, recov standard con- tinuum damag mechan model evolu- tion irrevers strains. contrariwise, 1 effect stress updat evo- lution equival stress correspondingli r. case, compress damag evolu- tion total increment strain step irreversible. valu 0 1, give proport evolut irrevers strain compress damage. effect illustr figur 2a. 2.2 irrevers strain shear load impli definit equat (11), irre- versibl strain influenc select compress damag criterion compres- sive equival stress . mean evolut irrevers strain possibl com- pressiv damag increasing. effect choic investig local pure shear. assum materi paramet demonstr exampl present tabl 2. comparison purposes, case con- sider differ definit . one, refer case-1, calcul us- ing neg effect stress tensor (j2 , i1 , max, min) = h [ min ] 1 1 [ 3j2 + ai1 + bmax ] (26) definit neg effect stress tensor, result open d damag surfac shear quadrants, shown figur 1 plane-stress case. mean local test, compress damag pure shear trigger minimum princip stress reach uniaxi compress strength material. cases, equival stress eq. (5) function total effect stress tensor () 1=0.0; 0.5; 1.0 case-2, case-3 case-4, 6 savva saloustro et al. f+ f g + f g f e v [mpa] [mpa] [j/m2] [j/m2] [mpa] [] [] 0.2 5.0 50.0 10000 3500 0.2 0.50 tabl 2: materi paramet element shear tests. -2 -1.5 -1 -0.5 0 0.5 -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 s h e r st ss x y [ m p ] shear strain xy 1000 case - 1: (- ) c o d e b,f = -2 -1.5 -1 -0.5 0 0.5 -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 s h e r st ss x y [ m p ] shear strain xy 1000 case - 2: (- ) - 1 = 0.0 c o d e f b = (a) (b) -0.15 -0.1 -0.05 0 0.05 0.1 0.15 0.2 0.25 0.3 -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 s h e r st ss x y [ m p ] shear strain xy 1000 case - 3: (- ) - 1 = 0.5 o b c d e f -0.15 -0.1 -0.05 0 0.05 0.1 0.15 0.2 0.25 0.3 -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 s h e r st ss x y [ m p ] shear strain xy 1000 case-4: (- ) - 1 = 1.0 o b c d e f (c) (d) fig. 3: respons shear revers load differ assumpt compress damag criterion. (a) case -1 ( = ()), (b) case - 2 ( = () 1 = 0.0), (c) case - 3 ( = () 1 = 0.5), (d) case - 4 ( = () 1 = 1.0). point a: trigger tensil damage, point b: trigger compress damage, point c: maximum shear deform stage loading, point d: irrevers deform xy = 0, point e: activ tensil damage, point f: activ compress damage. respectively. shape damag surfac present qualit figur 1. case subject shear deform compos stages: (a) load shear strain xy = 0.5 103 unload zero, (b) load shear strain xy = 2.5 103. figur 3 present respons shear differ cases. letter appear graph refer follow condit occur load stages: point trigger tensil dam- age, point b trigger compress damage, point c maximum shear deform stage loading, point d irrevers deform xy = 0, point e activ tensil damag second stage loading, point f activ com- pressiv damag second stage loading. o-a graph repre- sent linear behaviour reach d+ damag track multi-direct intersect crack numer model masonri shear wall cyclic load 7 surface. point, respons mod- el depend specif assumpt neg equival stress , i.e. specif shape d failur surfac second fourth quadrant figur 1. case-1 case-2, compress fail- ur criterion reach given maximum shear strain xy = 0.5 103. result increas shear capac load path a-c (see figur 3a-b). addit consequ evolut irrevers strain d failur surfac reach (path c- d figur 3a-b). contrary, evolut ir- revers strain occur case-3 case-4, evolut compress damag d load path a-c (figur 3c-d). case-4, overlap tensil d+ compress d failur surfac result trigger tensil compress damag time (b c) earlier evolut irrevers strains. reason, unload path (c-d, figur 3c-d) sharp case-3, result larger irrevers strains. damag occur stage cyclic static load analysi (o-d path) im- portant effect revers load second stage. stiff revers load depend d+ d valu attain stage cyclic load analysis. damag increas effect stress overcom attain threshold r (point e d+ point f d). case-3 case-4, happen increment (e f figur 3c-d). capac case 2 keep increas satisfac- tion failur criterion (point f, figur 3b). however, happen case-1, result increas shear capacity. analys descript unilater effect shear cyclic loading, definit unload stiffness, requir care calibr equival stress magnitud irrevers strain parameter. 3 track algorithm intersect multi-direct crack simul local crack macro- model approach achiev us lo- cal crack-track algorithm. aim algorithm identifi element cross propag crack time/load increment. crack simu- late us nonlinear stress-strain rela- tionship element crack path, on outsid maintain linear elast response. track algorithm differ numeri- cal approach develop simul local crack quasi-brittl materi (see [46]). despit divers appli fields, function same, i.e. local strain limit structure, crack expect propagate. methodolog base algorithm present [20, 21, 22, 32]. local natur crack-track techniqu enabl identif crack trajectori inform avail- abl step finit element analysis, i.e. stress state finit element. way, compu- tation cost, term time memori resources, kept valu compar classic smear crack approach (see [32]). strategi aim good balanc accuraci efficiency, pri- mari import problem involv multipl intersect cracks, case cyclic load ma- sonri structures. section present novel develop mak- ing possibl simul intersect multi- direct crack local crack-track algo- rithm. new algorithm develop present [32], allow model arbi- trari cracking, start boundari inte- rior analys structur propag directions. enhanc fun- dament simul respons structur expe- rienc multipl divers crack flexural, tensil shear stress states. follow section focus detail novel algorithm. firstly, gener introduct task track algorithm presented. follow date assumpt model crack initi monoton loading. model crack propag intersect pre- sent section 3.3. finally, section close novel approach simul multi-direct cracking. 3.1 structur track algorithm crack-track algorithm present call begin numer increment calcul stress-stat tasks: (a) identifi origin new crack (b) rec- ogniz crack path finit element pertain it. output crack-track subroutin flag distinguish element crack- path outside. way, group element follow differ constitut behaviour. here, continuum damag model present section 2 8 savva saloustro et al. fig. 4: illustr crack propag us maximum curvatur criterion new intern crack. element crack, rest linear stress-strain relationship maintained. 3.2 crack initi - monoton load new crack origin element satisfi fail- ur condit defin eq. (8). restrict pose locat crack origin mesh present [32]. crack initi corner intern elements, centroid triangular element select crack origin. case crack start element boundary, crack origin locat midpoint boundari edge. minimum distanc defin exist new cracks, refer exclus radiu rexcl [22]. finit element satisfi failur criterion time/load increment distanc exclu- sion radius, highest valu tensil equival stress + (see eq. (4)) select crack origin. valu exclus radiu defin accord structur problem fabric materi analys shown [22, 23, 32]. apart functionality, definit exclus radiu avert initi secondari spuriou crack sur- round crack-tip [27, 47], patholog spoil correct damag localization. 3.3 crack propag crack intersect propag direct defin orthogon direct maximum princip effect stresses. direct calcul element crack (crack tip element) stress tensor construct averag valu stress node element. start crack en- try point, vector aforement direct (ve figur 4), potenti element crack identifi crack entri coordin saved. figur 4a present exampl prop- agat intern crack, figur 4b show crack propag crack entri co- ordin wake crack tip. crack origin element ly boundari structure, crack propag singl direction. case flexur crack corner open base piers. contrary, shear crack initi interior masonri wall spandrel. allow this, track algorithm recogn crack origin element in- terior structure, propag crack monitor opposit orientations, shown figur 4a. way, shear flexur crack adequ modelled, masonri frame wall present figur 5. structur experienc multipl cracking, unavoid crack meet crack track multi-direct intersect crack numer model masonri shear wall cyclic load 9 x y z 0.2 0.1 0.3 0.4 0.5 0.6 0.7 tensil damag 0.8 1 0.9 0 gid x y z 1.2407e-07 0.035 0.07 0.105 si-strain 0.14 0.175 0.35 0.315 0.28 0.21 0.245 gid (a) (b) fig. 5: exampl flexur shear local crack masonri frame simul in-plan horizont load crack-track algorithm [32]: (a) tensil damag contour, (b) maximum princip strain end analysis. propagation. assumpt [22, 32] crack complet meet crack propag reconsid work order provid realist simul intersect crack cyclic in-plan load shear walls. propos algorithm, crack continu unimped evolut follow procedur crack-tip crack. crack direct identifi orthogon direct maximum princip effect stress finit element element crack sought. exampl case present follow section. order avoid sudden chang crack di- rection poor estim stress aris- ing us standard finit elements, correc- tion crack propag opportun ap- pli us maximum curvatur criterion [20, 21, 22]. criterion compar crack propa- gation direct crack-tip element ve averag crack direct vc (figur 4a). obtain averag sum propag direc- tion element crack path ly distanc lower rneigh crack-tip. propag direct diverg angl larger max, element crack sought averag crack direct vc instead ve. correct illustr figur 4. valu rneigh defin length crack crack tip consid comput vector vc (see figur 4a). maximum curvatur an- gle max determin margin allow crack rotation. effect numer parameters, criteria determination, detail [22, 32]. (a) (b) (c) activ crack inact crack fig. 6: exampl crack shear load wall: (a) open crack load left, (b) close crack return initi configur (c) open second crack, diagon revers loading. 3.4 crack initi ii - multi-direct crack criteria crack initiation, present section 3.2, defin new crack start certain dis- tanc exist ones, determin ex- clusion radiu rexcl. procedur robust struc- tural case monoton loading, crack di- rection sudden chang load histori (see previou work [22, 23, 31, 32]). however, cyclic loading, earthquak wind loads, inducemulti-direct crack structure, refer- ring crack initi region exist crack differ direction. illustr this, consid simplifi case shear wall (figur 6) subject cyclic shear load (restrain- ing rotation). displac left produc shear crack, start middl wall propag end (fig- ur 6a). revers load cycl find wall initi configur crack close (fig- ur 6b). load opposit direct result open new crack propag diagon 10 savva saloustro et al. fig. 7: crack propag middl shear wall: (a) propag shear crack load left, (b) deactiv crack chang stress state, (c) initi propag second crack inact one. corner (figur 6c). crack complet closed, structur condit be- fore open crack similar result possibl origin second crack close origin one. accur simul case need dif- ferent approach crack initi present section 3.2. specif case shear wall figur 6, approach allow initi second crack finit element satisfi failur criterion revers load cycle, independ distanc close crack. model case involv initi crack differ stress-stat region ex- ist crack possibl categor crack activ inactive. prior defini- tion categories, new versor intro- duced: crack direct vcr: versor denot averag direct consolid crack. crack direc- tion crack calcul crack entri coordin element total length crack. crack closur direct vcl: versor denot averag direct orthogon maximum prin- cipal effect stress element crack. versor show averag crack propaga- tion direct element crack time/load increment analysis. versor updat end time/load increment consolid cracks. crack defin activ angl crack direct versor vicr crack closur direct versor vicl lower predefin limit angl alim. crack statu altern express us follow function hi[|vicrv cl|cos(alim)] = { 0 inact crack 1 activ crack = 1, ncr (27) () dot product, subscript = 1, ncr denot versor valu crack total exist crack ncr h[] heavisid step function. follow above, element crack origin follow criteria satisfied: (i) failur condition, defin constitut model (eq. 8), reached. track multi-direct intersect crack numer model masonri shear wall cyclic load 11 (ii) activ crack distanc defin exclus radiu rexcl. mean new crack initi locat current stress-stat result clos- ing pre-exist cracks. illustr this, figur 7 illustr algorithm model shear crack middl wall exampl fig- ur 6. figur 7a show stress-stat crack moment open crack movement left. versor crack (vcr vcl, shown crack-tip crack) coincide, crack direct defin accord crack-propag direct el- ement it. crack activ continu propagation. figur 7b present stress state step revers cycle. wall deform right exist crack closed. seen direct prin- cipal effect stress rotat compar crack open. crack closur (vcr) crack direct versor (vcl) form angl greater limit angl lim. exist crack identifi inactive, new crack al- low open. happen later instance, shown figur 7c, crack initi close exist crack propag thereafter. us limit angl wai identifi clo- sure exist crack possibl new on open resembl concept model multipl crack constitut level smear crack mod- el borst nauta [48]. similar concept song & belytschko aim model crack branch propag crack [47] dynam fracture. likewise, limit angl introduc work (lim) numer paramet aim deac- tivat us exclus radiu strain state crack exceed margin set equa- tion (27) allow new crack emerg close exist ones. 4 numer simul shear wall cyclic load 4.1 experiment numer set-up section, propos numer model cal- ibrat comparison experimen- tal case study. test perform antoin et al. [49] consid in-plan respons ma- sonri wall quasi-stat shear loading. wall width 1.00 m height 1.35 m, thick 0.25 m. masonri construct us- ing english bond pattern unit dimens 55 120 250 mm3 10 mm mortar joint thick- ness. vertic load 150 kn distribut wall maintain constant experiment, aim repres gravit load act masonri wall seismic event. seismic action reproduc appli horizont displac wall. proper boundari condit appli avoid rotation. figur 8a show sketch experiment set-up adopt execut cyclic shear tests. experiment obtain shear load dis- placement graph present figur 8b. wall present typic behaviour shear domin fail- ure. characteris overal drop ca- paciti increas load cycl appreci en- ergi dissip load history, repres area hysteret cycl load-displac curve. quasi-brittl charac- ter shear failur decreas strength produc format system cross diagon crack wall [49, 50]. work, experi reproduc continuum damag model crack-track algorithm present section 2 3. wall discret 3-node constant-strain triangl (2836 nodes). materi paramet present tabl 3. compress strength, densiti young modulu equal valu obtain experiment test stack bond prism re- port [51, 50]. rest mechan proper- ti materials, paramet con- stitut model chosen order calibr correctli shear respons material, basi discuss present section 2.2. aim, valu 1 = 0.15 chosen similar valu avail studi masonri shear wall [19, 39, 41]. crack-track parameters, exclus radiu set equal rexcl = 0.20 m, valu length width masonri units. limit angl activation-deactiv crack un- der cyclic load lim = 40. valu mean addit crack orient vary- ing 40 initi exist crack. visual this, consid exclus ra- diu defin equival unit size, valu impli total crack differ orient initi unit. investig case shear wall cyclic loading, valu reason allow 12 savva saloustro et al. (a) (b) fig. 8: (a) experiment set-up (b) experiment obtain forc displac graph test masonri wall. pictur adapt [49]. f+ f g + f g f e v 1 [mpa] [mpa] [j/m2] [j/m2] [mpa] [kg/m3] [] [] [] 0.15 6.2 80.0 14000 1490 1750 0.2 0.95 0.15 tabl 3: materi paramet masonri shear wall. format diagon crack shear fail- ure. paramet maximum curvatur crite- rion max = 25, rneigh = 0.60 m. valu paramet show adequ avoid sudden chang crack direct report previou work author [22]. wall analys plane stress con- dition simul perform stages. includ applic self- weight vertic compress load wall. second stage, cyclic horizont dis- placement appli wall in- creas magnitude, experiment. vertic dis- placement restrained, preclud rota- tion wall. numer solut perform increment manner. time/load increment, nonlinear equat solv us modifi newton-raphson (use secant stiff matrix). converg achiev ratio be- tween norm iter residu forc norm total extern forc lower 102. calcul perform enhanc version finit element softwar comet [52], pre- post-process gid [53], develop cimne, barcelona. 4.2 numer result figur 9 present contour tensil d+ compress d damag indices, maximum princip strain end analy- sis. wall domin diagon shear cracking, agreement report experiment damag pattern [49, 50]. evid flexur crack lower part wall, sides. despit open crack dur- ing load history, main degrad wall concentr diagon crack open middl wall, shown contour maximum princip strains. us crack-track algorithm result clear represent local cracks, aid iden- tific occur collaps mechan wall. figur 10a present damag evolut fig- ur 10b state crack opposit displac cycle. demonstr pur- poses, contour valu 1 (red) activ crack -1 (white) inact ones, element outsid crack maintain valu equal 0 (orange) (figur (10b)). visibl crack activ maximum displac cycl load direct right. flexur crack corner wall consist track multi-direct intersect crack numer model masonri shear wall cyclic load 13 (a) (b) (c) fig. 9: contour of: (a) d+ damag index, (b) maximum princip strain end analysis, (c) d damag index end analysis. (a) (b) fig. 10: (a) tensil damag contour d+ (b) crack state load cycl maximum displac right (left column) maximum displac left (right column) (deform mesh 100). occur damage. those, shear crack ini- tiat middl wall (left column figur 10). result displac opposit direct present right column figur 10. previous open crack close correctli identifi inactive. new hor- izont crack appear opposit corners, diagon shear crack middl wall, intersect exist crack. propos approach capabl simul correct initi new crack close exist ones, inter- section. figur 11 present damag pattern load cycl maximum displac equal = 3.0mm. initi damag shown figur 10, addit shear crack opened, deformation, however, local initi diag- onal crack middl wall (see center column 14 savva saloustro et al. (a) (b) fig. 11: contour tensil d+ damag (left), maximum princip strain (center) crack state (right) displac 3.0 mm right (a) left (b), (deform mesh 50). figur 11). flexur crack initi later side wall propag horizont to- ward interior. note crack open opposit load direct correctli iden- tifi close (right column figur 11). -110 -90 -70 -50 -30 -10 10 30 50 70 90 110 -10 -5 0 5 10 f o rc e ( k n ) displac (mm) experiment envelop numer result fig. 12: forc horizont displac graph masonri shear wall obtain nu- meric analysis. respons simul wall term hori- zontal load horizont displac present figur 12. numer simul captur shear failur wall, character overal soften branch stiff degrad af- ter exceed maximum capacity. cycl load character linear be- haviour, small damag shown figur 10. signific drop capac occur complet degrad diagon crack middl wall, occur load cycl maximum displac 3.0 mm, experiment. that, increas dis- placement result drop stiff degrad addit shear cracks, yield final damag pattern strain state figur 9. constitut model abl repres sat- isfactorili cyclic damag behaviour wall. slight underestim magnitud ex- periment envelop hysteret loop specif natur damag model, associ evolut irrevers strain compress damag variabl d. fact, seen figur 9c, compress dam- ag d appear diagon crack middl wall, make sourc irrevers deformations. track multi-direct intersect crack numer model masonri shear wall cyclic load 15 max = 15mm max = 30mm max = 45mm max = 70mm (a) (b) fig. 13: discret (first column) contour tensil damag end cycl increas maximum displac max: (a) mesh-a, (b) mesh-b 4.3 mesh-depend studi track algorithm shown improv mesh object structur analys small [22, 31, 32] larg scale structur [54] monoton prop- agat cracks. section, shear wall anal- ysed addit mesh aim studi mesh depend present approach de- mand case cyclic loading. column fig- ur 13 show differ discret mesh depend analyses. mesh, denot mesh-a, mesh aforemen- tion result 5470 elements. second mesh, mesh-b, present constant structur pattern greatest wall equilater triangl mak- ing angl 30, 90 150 horizont axi lower number element (3704) compar mesh-a. differ column figur 13 present dam- ag pattern end differ cycl load history. diagon shear crack domin main wall cases, flexur crack appear boundaries. damag pattern similar greatest load histori wall, differ occur cycles, coarser mesh (mesh-b) present addit shear cracking. -110 -90 -70 -50 -30 -10 10 30 50 70 90 110 -10 -5 0 5 10 f o rc e ( k n ) displac (mm) mesh mesh b fig. 14: horizont forc displac wall mesh-a mesh-b figur 14 illustr forc appli displac graph mesh overlapped. analys bare import similarities. pre- dict capac wall show variat 3% attain second load cycl displac 3.0 mm. follow that, structur present soften respons drop capac energi dissip open cracks. present figur 13, 16 savva saloustro et al. load cycl crack formed, diagon crack middl wall boundari crack end wall complet opened. point, numer respons reflect small differ regard- ing posit crack appear crack coarser mesh (mesh-b), slightli al- ternat residu respons wall. 5 conclus paper present enhanc macro-model finit element method crack- track algorithm simul behaviour masonri structur in-plan cyclic loading. novel methodolog propos simul inter- sect multi-direct crack occur ma- sonri cyclic action local crack-track technique. achiev set suitabl crack opening/closur criteria numer algo- rithm. crack repres local level continuum damag model distinct represent tensil compress damage. constitut model formul includ descript evolut irrevers deform simplifi way. enhanc macro-model sim- ulat experiment test shear masonri wall un- der cyclic quasi-stat loading. track algorithm shown capabl simul shear flexu- ral crack propag multipl direct inter- sect them. result constitut model repres correctli gradual decreas structur capac cyclic load process. propos approach properli account complex damag typolog crack appear propag shear cyclic condi- tion. paper includ discuss constitut level evolut irrevers strain shear loading. simpl explicit algorithm formu- lation, proper definit com- pressiv damag surface, allow consid effect irrevers strain shear compress stress states. complianc ethic standard conflict author declar conflict interest. fund research receiv financi sup- port mineco (ministerio economia y competitividad spanish government) erdf (european region develop fund) multima project (multiscal tech- niqu experiment numer analysi reliabl masonri structures, ref. num. bia2015-63882-p). refer 1. s. huerta, analysi masonri architecture: histor approach, architectur scienc re- view, vol. 51, no. 4, pp. 297328, 2008. 2. p. roca, m. cervera, g. gariup, l. pel, structur analysi masonri histor con- structions. classic advanc approaches, archiv comput method engineer- ing, vol. 17, pp. 299325, jul 2010. 3. d. theodossopoulo b. sinha, review analyt method current design pro- cess assess perform masonri structures, construct build materials, vol. 41, pp. 9901001, 2013. 4. d. addessi, s. marfia, e. sacco, j. toti, mod- el approach masonri structures, open civil engin journal, no. 2, pp. 288300, 2014. 5. a. ordua p. b. loureno, cap model limit analysi strengthen masonri structures, journal structur engineering, vol. 129, no. 10, pp. 13671375, 2003. 6. p. block, t. ciblac, j. ochsendorf, real-tim limit analysi vault masonri buildings, com- puter & structures, vol. 84, pp. 18411852, nov 2006. 7. m. gilbert, c. casapulla, h. ahmed, limit analysi masonri block structur non- associ friction joint linear program- ming, comput & structures, vol. 84, pp. 873 887, 2006. 8. g. milani, p. loureno, a. tralli, ho- mogenis limit analysi masonri walls, i: failur surfaces, comput & structures, vol. 84, pp. 166180, jan 2006. 9. p. roca, c. molins, a. r. mar, strength ca- paciti masonri wall structur equiv- alent frame method, journal structur engi- neering, vol. 131, no. 10, pp. 16011610, 2005. 10. s. lagomarsino, a. penna, a. galasco, s. cat- tari, tremuri program: equival frame model nonlinear seismic analysi ma- track multi-direct intersect crack numer model masonri shear wall cyclic load 17 sonri buildings, engin structures, vol. 56, pp. 17871799, 2013. 11. r. siano, v. sepe, g. camata, e. spacone, p. roca, l. pel, analysi perform lin- ear field equivalent-fram model regular irregular masonri walls, engin struc- tures, vol. press, 2017. 12. y. endo, l. pel, p. roca, f. porto, c. mod- ena, comparison seismic analysi method ap- pli histor church struck 2009 l aquila earthquake, bulletin earthquak engineering, 2015. 13. s. saloustros, l. pel, p. roca, j. portal, numer analysi structur damag church poblet monastery, engin fail- ur analysis, vol. 48, pp. 4161, 2014. 14. l. pel, m. cervera, p. roca, or- thotrop damag model analysi masonri structures, construct build materials, vol. 41, pp. 957967, 2013. 15. p. b. loureno j. g. rots, multisurfac in- terfac model analysi masonri structures, journal engin mechanics, vol. 123, no. 7, pp. 660668, 1997. 16. l. macorini b. a. izzuddin, non-linear in- terfac element 3d mesoscal analysi brick- masonri structures, intern journal nu- meric method engineering, vol. 85, pp. 1584 1608, mar 2011. 17. t. j. massart, r. h. j. peerlings, m. g. d. geers, enhanc multi-scal approach ma- sonri wall comput local dam- age, intern journal numer method engineering, vol. 69, pp. 10221059, jan 2007. 18. d. addessi e. sacco, multi-scal enrich model analysi masonri panels, inter- nation journal solid structures, vol. 49, no. 6, pp. 865880, 2012. 19. m. petracca, l. pel, r. rossi, s. oller, g. camata, e. spacone, multiscal comput or- der homogen shell analysi out-of-plan load masonri walls, method appli mechan engineering, vol. 315, pp. 273301, 2017. 20. r. clemente, anlysi estructur edifi- cio histrico mediant modelo localizado fisuracin. ph.d. thesis, universitat politcnica catalunya, 2006. 21. l. pel, continuum damag model nonlinear analysi masonri structures. ph.d. thesis, uni- versitat politcnica catalunya, 2009. 22. m. cervera, l. pel, r. clemente, p. roca, crack-track techniqu local damag quasi-brittl materials, engin fractur me- chanics, vol. 77, no. 13, pp. 24312450, 2010. 23. p. roca, m. cervera, l. pel, r. clemente, m. chiumenti, continuum fe model anal- ysi mallorca cathedral, engin struc- tures, vol. 46, pp. 653670, 2013. 24. l. pel, m. cervera, s. oller, m. chiu- menti, local map damag model orthotrop materials, engin fractur me- chanics, vol. 124-125, pp. 196216, 2014. 25. m. cervera m. chiumenti, smear crack ap- proach: origin track, intern journal numer analyt method geomechanics, vol. 30, no. 12, pp. 11731199, 2006. 26. a. slobbe, m. hendriks, j. rots, smooth- ing propag smear cracks, engineer- ing fractur mechanics, vol. 132, pp. 147168, dec 2014. 27. j. oliv a. e. huespe, continuum approach materi failur strong discontinu settings, method appli mechan en- gineering, vol. 193, no. 30-32, pp. 31953220, 2004. 28. g. meschk p. dumstorff, energy-bas mod- el cohes cohesionless crack x- fem, method appli mechan engineering, vol. 196, no. 21-24, pp. 23382357, 2007. 29. d. dias-da-costa, j. alfaiate, l. j. sluys, e. jlio, compar studi model discontinu fractur mean enrich nodal element techniqu interfac elements, in- ternat journal fracture, vol. 161, no. 1, pp. 97119, 2010. 30. y. zhang, r. lackner, m. zeiml, h. a. mang, strong discontinu embed approach standard so formulation: element formulation, energy-bas crack-track strategy, valida- tions, method appli mechan engineering, vol. 287, pp. 335366, 2015. 31. s. saloustros, l. pel, m. cervera, crack-track techniqu local cohesive- friction damage, engin fractur mechan- ics, vol. 150, pp. 96114, 2015. 32. s. saloustros, l. pel, m. cervera, p. roca, finit element model intern mul- tipl local cracks, comput mechanics, vol. 59, no. 2, pp. 299316, 2016. 33. r. faria j. oliver, rate depend plastic- damag constitut model larg scale com- putat concret structures. cimne, 1993. 34. m. cervera, j. oliver, r. faria, seismic evalu- ation concret dam continuum damag mod- els, earthquak engin & structur dynam- 18 savva saloustro et al. ics, vol. 24, no. 9, pp. 12251245, 1995. 35. r. faria, j. oliver, m. cervera, model ma- terial failur concret structur cyclic ac- tions, journal structur engineering, no. de- cember, pp. 19972005, 2004. 36. p. roca, m. cervera, l. pel, r. clemente, m. chiumenti, viscoelast damag model creep behavior histor masonri struc- tures, pp. 188198, 2012. 37. l. pel, j. bourgeois, p. roca, m. cervera, m. chiumenti, analysi effect provi- sional ti construct current defor- mation mallorca cathedral, intern jour- nal architectur heritage, vol. press, no. doi: 10.1080/15583058.2014.996920, 2014. 38. r. faria, j. oliver, m. cervera, strain-bas plastic viscous-damag model massiv concret structures, intern journal solid structures, vol. 35, pp. 15331558, 1998. 39. m. petracca, l. pel, r. rossi, s. oller, g. camata, e. spacone, regular order com- putat homogen multiscal analysi masonri structures, comput mechanics, vol. 57, pp. 257276, dec 2016. 40. j. lubliner, j. oliver, s. oller, e. oate, plastic-damag model concrete, intern journal solid structures, vol. 25, no. 3, pp. 299326, 1989. 41. m. petracca, l. pel, r. rossi, s. zaghi, g. ca- mata, e. spacone, micro-scal continu discret numer model nonlinear analysi masonri shear walls, construct build materials, vol. press, 2017. 42. j. oliver, m. cervera, s. oller, j. lubliner, isotrop damag model smear crack analy- si concrete, proc. sci-c aid anal- ysi design concret structures, no. febru- ary, pp. 945957, 1990. 43. z. bazant b. oh, crack band theori frac- ture concrete, materi structures, vol. 16, pp. 155177, 1983. 44. m. cervera m. chiumenti, mesh object tensil crack local continuum damag model crack track technique, method appli mechan engineering, vol. 196, no. 1-3, pp. 304320, 2006. 45. m. cervera, viscoelast rate-depend continuum damag models, monographi n-79, tech. rep., barcelona, 2003. 46. t. rabczuk, s. bordas, g. zi, three- dimension model crack growth parti- tion uniti methods, comput structures, vol. 88, no. 23-24, pp. 13911411, 2010. 47. j.-h. song t. belytschko, crack node method dynam fractur finit elements, intern journal numer method engineering, vol. 77, pp. 360385, jan 2009. 48. r. borst p. nauta, non-orthogon crack smear finit element model, engin computations, vol. 2, no. 1, pp. 3546, 1985. 49. a. anthoine, g. magenes, g. magonette, shear compress tenst analysi brick masonri walls, 10th european confer earthquak engineering, (vienna), pp. 16571662, 1994. 50. g. magen g. m. calvi, in-plan seismic re- spons brick masonri walls, 1997. 51. l. binda, g. mirabella roberti, c. tiraboschi, s. abbaneo, measur masonri materi proper- ties, u.s.-itali workshop guidelin seis- mic evalu rehabilit unreinforc masonri buildings, pp. 326347, 1994. 52. comet, coupl mechan thermal anal- ysis, 2016. 53. gid, person pre post-processor, 2016. 54. s. saloustros, l. pel, m. cervera, p. roca, enhanc finit element macro-model realist simul local crack masonri structures: large-scal application, intern journal architectur heritage, vol. press, no. doi: 10.1080/15583058.2017.1323245, 2017. appendix rate mechan dissip contin- uum damag model present section 2 [33] = : d+ d+ d d = + d 0 (28) helmholtz free energi 0 elast free energi follow form [33] = (1 d+)+0 + (1 d )0 (29) +0 = 1 2 + : c10 : (30) 0 = 1 2 : c10 : (31) visibl equat (28) evolut damag d irrevers strain contribut total dissip energi solid, track multi-direct intersect crack numer model masonri shear wall cyclic load 19 = : 0 (32) d = d+ d+ d d 0 (33) total dissip energi unit volum gf obtain gf = t 0 dt+ t 0 d dt (34) discret soften paramet defin similarli [44] consid ideal uniaxi 1d com- pressiv experiment, monoton increment compress strain (denot e) initi unstress state degradation. loading, consid equat (5) (9) stress threshold r = e e (35) case dissip damag evo- lution (see [44]) d = t 0 d dt (36) = 1 2e t r0 (r)2 d dr (37) = ( 1 + 1 hd ) (f)2 2e (38) contribut irrevers strain total dissip energi comput consid = e e e e (39a) = (39b) = (1 ) e (39c) = (1 d) r (40) equat (39c) (40), dis- sipat energi evolut irrevers strain = t r0 (1 d) r (1 ) edt (41) = r r0 (1 d) r (1 ) 1 e dr (42) = 1 (f)2 e 1 2hd (43) virtu equat (36) (41) con- sider total dissip equal gf, updat soften modulu deriv hd = 1 1 ( ldi lmat ldi ) (44) note limit case = 1, equat (39b) limit = consequ e = 0. result r = 0, mean damag evo- lution softening. case, energi dissip evolut irrevers strains, equat (32), (35) (40) = e e0 t 0 dt (45a) = e e0 e 0 d (45b) = e e0 [ e 0] (45c) e0 elast strain peak strength. ac- cord above, dissip increas- ing linearli increas strains, resembl behaviour perfectli plastic material. introduct constitut model track algorithm intersect multi-direct crack numer simul shear wall cyclic load conclus