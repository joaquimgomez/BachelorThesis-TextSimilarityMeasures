upcommon portal del coneix obert la upc aquesta s una cpia la versi author final draft d'un articl publicat la revista multimedia tool applic . url d'aquest document upcommon e- prints: articl publicat / publish paper: duch, m.m., varas, d., rubi, j.r.m. et al. (2017) 3d hierarch optim multi-view depth map coding. multimedia tool applications, p. 1-26. doi: 10.1007/s11042-017-5409-z nonam manuscript no. (will insert editor) 3d hierarch optim multi-view depth map code marc maceira david vara josep-ramon morro javier ruiz-hidalgo ferran marqu received: date / accepted: date abstract depth data widespread us popular high reso- lution 3d sensors. multi-view sequences, depth inform sup- plement color data view. articl propos joint encod multipl depth map uniqu representation. color depth imag view segment independ combin optim rate- distort fashion. result partit project refer view coher hierarchi multipl view built. rate-distort optim appli obtain final segment choos node hierarchy. consist segment robustli encod depth map multipl view obtain competit result hevc code standards. marc maceira duch edifici d5 despatx 120 c. jordi girona, 1-3 barcelona spain tel.: +34-93-4011627 e-mail: david vara edifici d5 despatx 120 c. jordi girona, 1-3 barcelona spain tel.: +34-93-4011627 e-mail: josep-ramon morro edifici d5 despatx 008 c. jordi girona, 1-3 barcelona spain tel.: +34-93-4015765 e-mail: javier ruiz-hidalgo edifici d5 despatx 008 c. jordi girona, 1-3 barcelona spain tel.: +34-93-4015765 e-mail: ferran marqu edifici d5 despatx 111 c. jordi girona, 1-3 barcelona spain tel.: +34-93-4016450 e-mail: m 2 marc maceira et al. 1 introduct advanc 3d media technolog progress afford 3d displai consolid 3d video technolog recent years. video applic 3d televis free-viewpoint select abl provid depth percept interact user. wai provid function captur scene multipl viewpoints. multi-view video code system classifi us color data on us depth data viewpoint. on color data stand respect extens h.264 [19] hevc [28] multi-view environments. multi-view video code (mvc) [13] develop extens h.264 standard hevc multi-view video code extens (mv-hevc) [29]. extens us inter view predict exploit multi-view redund n camera employed. hand, multi-view plu depth (mvd) representation, depth data viewpoint encod addit color data. depth inform encod depth maps, per-pixel distanc scene camera stored. addit depth map allow render- ing virtual view in-between encod camera posit (dibr) [3]. effici compress depth data studi exploit dis- tinct characterist depth map standard video images. depth map present sharp edg separ area smooth transit repres block-bas transform natur video coders. 3d extens high effici video code (3d-hevc) [17] present code tool color depth maps. depth maps, 3d-hevc us similar color depth data motion paramet inher- itance. mvd sequences, depth data associ view heavili augment data need store 3d information. context, ex- tract 3d model scene multipl depth map remov redund inform view obtain uniqu 3d represent scene. work, inspir segmentation-bas code system [30], imag (in case, depth maps) segment homogen re- gions; result textur contour partit encod sent receiver. however, classic segmentation-bas system us independ segment view encod process perform independ view. propos build global 3d hierarch represent scene abl jointli model view mvd sequence. new represent allow exploit spatial redund view effici compress depth map multipl viewpoints. start construct color depth partit views. partit combin singl hierarchi- cal representation. depth inform result region model 3d plane, provid global 3d hierarch scene representation. 3d hierarch optim multi-view depth map code 3 3d planar represent conveni model smooth region sharp transit depth map [16]. long sharp edg depth map lai in-between regions, planar model approxim textur inform compactly. rate-distort optim process previou hierarchi (hier- archic optimization) allow obtain optim (for given bit budget) code partit differ view automatically. depth map code perform send plane coeffici region view code partitions, contour partitions. set partit consist (region repres object differ view given labels) camera paramet process. have global multiview model impli corre- spond region differ view repres uniqu planar model, reduc number bit necessary. figur 1 show graphic overview propos multi-view represent code scheme. lpcolor partit hierarchi (href) singl view optim. singl view optim. singl view optim. multi-view optim. refer view partit (pref) code region & contourshierarch representationcombin color depth partit textur (3d plane coeffs) & contour 1 textur (3d plane coeffs) & contour nv initi partit refer view (pref) ini code partit (pcod)(pi code partit (pcod)(pnv depth partit lpdepthlp1 depth partit lpdepthlpnv lp1color partit lpcolor lpnvcolor partit fig. 1 overview multi-view optim partition. color & depth map imag multipl view project combin refer view, hierarchi region built (each layer show cut hierarchy). rate-distort optim find optim partit hierarchi defin code partit input views. code partit encod depth map input view. problem segment base code system high cost send contours. work, assum color imag encod avail decoder. thus, depth boundari approxim color partit cost, color partit reproduc color imag decoder. approxim error (depth contour present color image) need explicitli sent, reduc code cost. main contribut paper are: 4 marc maceira et al. consist segment multipl view hierarch repre- sentat differ views. new global scene represent base 3d planar model obtain hierarch optimization. method effici encod depth map multipl views, base global scene representation. outlin paper follows. relat work 3d planar repre- sentat multi-view depth code studi section 2. section 3, gener hierarch optim method presented. section 4, consist multi-view depth map represent introduced. detail en- code inform multipl view section 5. finally, discuss experiment result conclus section 6 section 7 respectively. 2 relat work us 3d planar model repres structur scene explor multipl applications. 3d planar model shown us extract structur scene color data stereo configu- ration [27], co-seg multipl view object [9], recov structur scene panoram sequenc [15] multi-camera environ- ment [34]. multipl plane detect track time flight depth imag layer scene decomposit [24]. similar configuration, [1] 3d point cloud multipl rgb-d camera project 3d world gener set 3d planar patch consist views. patch obtain markov random field voxel scene 3d planar candidates. recently, [32] problem tackl wide-baselin stereo configuration. imag segment independ fit process assign 3d plane region. plane candid energy-minim problem, optim error model smooth neighbor regions. segment point cloud come rgb-d sensor tackl semant label indoor scene scene understanding. [26] hierarch segment propos depth clue infer relat object prior classifi differ objects. [21] initi superpixel segment comput kernel descriptor gradient, color surfac normal build hierarchi assign label node markov random field. gupta et al. [8] gener gpb-ucm hierarch segment incorpor depth inform semant segmentation. lately, [33] unsupervis framework joint featur learn encod propos rgb-d scene labeling. planar model propos depth represent 3dtv applications. [20] markov random field model mimic rate-distort 3d hierarch optim multi-view depth map code 5 trade-off stereo configur obtain co-segment pla- nar approximations. singl refer mvd format propos fuse inform stereo view singl reference. depth map code techniqu propos improv depth code mode 3d-hevc. [11] intra predict framework flexi- ble block partit scheme. depth edg predict explicitli encoded. similarly, [14] complet overhaul 3d-hevc defined. incorpor planar signal repres smooth chang flat scene ar- eas, new intra-pictur predict model improv wedgelet segmentation. joint color depth code multi-view video propos [6]. make us dibr, color depth inform project obtain inter-view prediction. inter-view predict miss pixel inpaint minimum explicitli encoding. [12] propos region base code depth map single-view. defin depth hierarchi segment depth map rgb-d imag flat partit explor coding. current paper extend depth hierarchi defin [12] deal multipl view optim fashion. 3 rate-distort hierarchi optim section, defin gener methodolog optim partit hierarchi term rate-distortion. notat consist [31], optim multipl hierarchi semant segment sequences. optim present benefits. firstly, encod paramet select optim region secondly, optim final number region need encod depth map automat obtained. work, us rate-distort opti- mizat step propos algorithm. 3.1 hierarchi definit represent hierarchi depict node shown figur 2. node hierarchi repres region image, parent node set region repres merging. stage assum hierarchi binari (region merg pairs). structur name binari partit tree [23]. commonly, hierarchi creat greedi region merg algorithm that, start initi leaf partit lp , iter merg similar pair neighbor region accord region similar criteria. merg process end imag repres singl region, root tree. set merg creat tree, leav root, denot merg sequenc (figur 2). 6 marc maceira et al. r1 r3 r2 r4 r5 r3 r4 r5 r6 r7 r1 r2 r3 r4 r5 r1 r2 r3 r4 r5 r1 r2 r6 r3 r4 r7 r5 r1 r2 r6 r3 r4 fig. 2 hierarch represent image. step similar region merged. binari hierarchy, merg sequenc contain n partitions, n number leav (region lp ). set partit usual analyz work hierarchies. still, hierarchi built, analysi hierarchi obtain partit includ merg sequenc (for instance, merg region 3 5 exampl figur 2) 3.2 rate-distort problem definit rate-distort problem consist find optim code min- imiz distort d imag constraint total cost r given budget [18]. case, optim code consist find optim partit image. hierarch representation, rate-distort function defin (see [18]) r d addit measur hierarchi h: rh = leav rk (1) dh = leav dk (2) node hierarchi encod set code techniqu gener set rk dk region k. work, distort measur dk comput squar error estim textur valu real ones: dk = nk n=1 |g(n) g(n)|2 (3) nk number pixel region k, g textur valu pixel region g estim valu textur code option. typically, region-bas coding, term need encod region. cost store posit contour region (rck ) 3d hierarch optim multi-view depth map code 7 cost store textur coeffici (rtk ). hence, region rate cost rk defin as: rk = r c k +r t k (4) constrain problem convert equival unconstrain lagrangian relax [18]. cost distort combin us- ing posit multipli defin trade-off distort allow number bit spent: jk = dk + rk (5) best partit obtain bottom-up local analysi node: jparent jch1 + jch2 (6) jch cost cheapest path child node. 3.3 hierarchi optim object hierarchi optim optim boundari configur defin partit node hierarchi h previous defin rate-distort constraints. inspir [2, 7, 31], propos solv rate-distort optimiza- tion problem quadrat semi-assign problem (qsap), restrict solut node hierarchy. partit defin term bound- ari region hierarch constraint ad solv qsap problem linear program relax approach. qsap approach main advantag common approach dy- namic program solution. firstly, qsap defin relat re- gion (whether merg not) term common contour. relat allow repres contour cost union region easily. secondly, qsap gener work multipl hierarchies, allow appli procedur defin work relat frame multipl time instant order remov tempor redundancy. optim state constrain minim problem: min b tr(qb) = min b m,n qm,nbm,n (7) s.t. bm,n {0, 1} m,n bm,m = 0 matrix q affin matrix measur qualiti possibl partit hierarchi h. matrix b encod partit binari matrix, element bm,n = 1 boundari leav m n activ (region m n merged) bm,n = 0 otherwise. 8 marc maceira et al. case, element matrix q defin mimic rate- distort lagrangian decis as: qch1,ch2 = jparent (jch1 + jch2) (8) allow introduc local node analysi equat (6) global framework optim equat (7). idea node minimum lagrangian j favored, lead optim partit given . figur 3 present exampl lagrangian optim hierarchi present figur 2. algorithm examin node hierarchi (node 1-7) select on present minimum lagrangian (node 3, 4 5). final partit (shown right figure) compos region repres nodes. r7 r5 r1 r2 r6 r3 r4 r5 r3 r4 fig. 3 exampl lagrangian optim hierarchi present figur 2. optim process activ node minimum lagrangian j (region 3, 4 5), find best partit given . hierarchi h contribut aspect optim process. firstly, defin merg region leav partit lp form clusters. secondly, includ order region merg repres node tree. [31], restrict encod coupl constraint node. constraint impos variabl repres boundari sibl value. second constraint impos given node, variabl repres boundari sibl impos merg leav associ node merged. constraint defin as: m,n n 6=l bm,n = (nc 1)bm,l (9) nc total number common region boundari leaf partit repres union siblings, m region sibl n, l region second sibling. second as: n,l bn,l nmbm,o (10) 3d hierarch optim multi-view depth map code 9 nm total number inner region boundari leav partit siblings, m n region sibl n, l region second sibling. ad constraint optim process equat (7) result in: min b m,n qm,nbm,n (11) s.t. bm,n {0, 1} bm,n = bn,m n,m m,n n 6=l bm,n = (nc 1)bm,l, n,l bn,l nmbm,o p {h} p repres parent node collect hierarchies. result optim binari matrix b describ optim partit {p ()}. vari , differ optim rate-distort partit found. correspond differ potenti solut convex hull oper rate-distort points. demonstr set solut finit [25]. monoton r(), small subset need search converg algorithm ensur cases. 4 multi-view 3d represent propos multi-view depth map code fuse inform multipl view uniqu 3d representation. method build 3d repre- sentat set initi 2d partit views. global scheme depict figur 4. start find partit indi- vidual view merg color depth partit optimally, reduc comput complex multi-view process. single-view process- ing independ view shown figur 5 explain section 4.1. inform multipl view accumul refer view viewref project view partit viewref . then, optim process (depict figur 8) obtain pref defin final code par- tition view. complet detail process given section 4.2. refer optim process equat (11) as: p () = opt(h) (12) given optim partit p extract h. simplicity, reduc notat optim partit p () p . work us initi color depth leav partit [12]. initi partit lp colori lp depth respectively. hierar- chi single-view multi-view stage built [12]: region 10 marc maceira et al. single-view optim multi-view represent p1 pref multi-view optim lp1 lp1 single-view optim pnv lpnv depth lpnv color nv view view ref depth color fig. 4 multi-view representation. view i, joint color depth optim find pi partition. nv pi partit project refer view multi-view optim find best set region partition. content project 3d model 3d plane ransac [4]. merg criterion base 3d plane similarity. stage optim partit p insid hierarchi method present section 3. 4.1 single-view optim single-view optim lp colori lp depth combin optim partit pi view shown figur 5. lpi depth single-view optim pi lpi color combin partit pi c_d hierarch represent hi c_d optim fig. 5 optim process view. combin color depth optim perform find optim combin partition. lp colori lp depth fuse partit p c d = lp color lp depth preserv boundari partitions. p c di build hierarchi hc di . optim procedur introduc section 3.2 hierarchi obtain optim rate-distort partit pi: pi = opt(h c d) (13) 3d hierarch optim multi-view depth map code 11 view i, equat (8) express follows: qchi,1,chi,2 = jpi (jchi,1 + jchi,2) = (14) (dpi + rpi) (dchi,1 + rchi,1) (dchi,2 + rchi,2) = 4dchi,1,chi,2 + 4rchi,1,chi,2 pi parent region result union children chi,1 chi,2: pi = chi,1 chi,2 (15) 4dchi,1,chi,2 increment distort caus union equa- tion (15) 4rchi,1,chi,2 increment rate union. typically, 4dchi,1,chi,2 posit repres depth map region increas distort 4rchi,1,chi,2 negative. distort region k hierarchi comput squar error 3d planar model pixel valu region, partic- ular equat (3) as: di,k = npixi,k n=1 |proji(k, n) gi(n)|2 (16) 3dk plane model region k, n pix i,k number pixel region k, proji(k, n) valu project 3d planar model pixel n region k gi(n) depth valu pixel n view i. exampl project step shown figur 6. 4dchi,1,chi,2 comput as: 4dchi,1,chi,2 = dpi dchi,1 dchi,2 (17) r4 r1 r2 r3 21 3 3d plane imag partit r1 1 4 fig. 6 single-view distort comput project 3d planar model pixel correspond region. r4 distort gener 4 compar represent child region r2 r3, repres model 2 3. comput 4rchi,1,chi,2 term present: textur contour. texture: 12 marc maceira et al. 4rtchi,1,chi,2 = r t pi rtchi,1 r t chi,2 = rt (18) cost textur constant (rt ) regions. contour region come partitions; lp colori lp depth . contour cost4r c chi,1,chi,2 comput count number contour element (two neighbor pixel differ label defin contour element them) region chi,1, chi,2 multipli averag cost encod contour element. consid common contours, contour cost parent zero. then: 4rcchi,1,chi,2 = canchi,1,chi,2 c chi,1,chi,2 (19) nchi,1,chi,2 n chi,1,chi,2 number common contour children depth color partit respectively, ca c averag cost encod contour element depth color partitions. note contour color partit introduc cost, ca = 0. ca obtain experiment multi-view sequenc result ca = 1.2 bit contour position. equat (4) comput as: 4rchi,1,chi,2 = 4r c chi,1,chi,2 +4rtchi,1,chi,2 = canchi,1,chi,2 r t (20) figur 7 show exampl merg regions. encod r4 instead r2 r3 save cost encod boundari region textur coeffici region. r4 r1 r2 r3 r1 fig. 7 single-view rate region rate save promot merging. region r2 r3 merg r4, lead repres depth map contour r2 r3 save 3d plane. color-depth optim view address addit depth boundari color partit optim fashion reduc heavili total number regions. procedur view reduc number occlud region multi-view optimization. 3d hierarch optim multi-view depth map code 13 4.2 multi-view optim multi-view optim process shown figur 8. partit pi nv view projected, camera parameters, viewref , obtain initi partit p inii view i: p inii = projref (pi) (21) pixel partit pi process scan order correspond- ing pixel label project viewref . individu project partit p inii defin assign pixel posit label nearest pro- ject view pixel. process region near camera posit prevail on away. project step, region view occlud refer view detected. region consid occlud number pixel region viewref half number pixel view i. occlud region valid correspond viewref . solv this, region encod independ view remov project partit viewref . p1 multi-view optim pref pnv combin partit nv view project project pref ini hierarch represent optim href p1 ini pnv ini fig. 8 multi-view optim process view. partit multipl view combin uniqu hierarchy. rate-distort measur comput input view store hierarchi joint optim partit multipl views. individu project partit p inii viewref accumul uniqu partit state equat (22). unlik single-view optimiza- tion, project viewref pixel project label. order obtain partit pixel assign label, hole fill algorithm creat new label in-between region differ label. combin label viewi, new label creat p ini ref . p iniref = p inii (22) 14 marc maceira et al. hierarch depth represent href built accumul partit p iniref . rate distort valu region href examin partit gener views. increment distort union comput as: 4dch1,ch2 = n i=1 4dchi,1,chi,2 (23) 4dchi,1,chi,2 repres increment distort view equat (17). graphic exampl equat (23) shown figur 9. notic that, example, rocl 1 occlud viewref . therefore, rocl 1 particip optim process encod independ plane. r1 r2 r3 viewref r1 r2 r3 view2 r1 r2 r3 view1 2 1 3 rocl 1 ocl 1 fig. 9 multi-view distort comput project 3d planar model pixel correspond region image. similarly, rate comput inform views, ad boundari cost (from depth boundari only, ca = 0 color contours): 4rch1,ch2 = n i=1 4rchi,1,chi,2 (24) region model encod region multipl views, textur rate singl view optimization: 4rch1,ch2 = ca n i=1 nchi,1,chi,2 r t (25) exampl comput rate multi-view optim shown figur 10. 3d hierarch optim multi-view depth map code 15 pref partit obtain hierarch optim sec- tion 3.2: pref = opt(href ) (26) hierarchi href build viewref , merg order determin viewref . incorpor inform thenv view optim process, result partit pref defin optim partit views. r4 r1 r2 r 3 r1 viewref r4 r1 r2 r3 r1 view2 r4 r1 r2 r3 r1 view1 rocl 1 fig. 10 multi-view rate region rate save obtain merging. merg viewref forc merg views. optim paramet defin rate-distort trade-off qualiti parameter. vari , differ rate-distort point found, abl obtain 3d scene represent differ level detail. 5 multi-view depth map code section 4, propos method obtain joint segment scene combin color depth partit explained. order convei depth inform decod propos method pack infor- mation multipl view efficiently. method assum camera paramet color imag view encod sent decod decod depth map information. partit pref project back, follow invers process equat (21), obtain consist set code partit p codi nv views. gener code scheme view present figur 11. step consist analyz contour lp colori lp depth present p codi . contour p cod lp depth encod freeman contour code [5] independ view. color contours, infor- mation color boundari activ (becaus region mergings) sent decod indic merg not. activ inform store 1 bit merg href . partit inform encoded, textur coeffici generated. view encod textur inform plane 16 marc maceira et al. 3d multi-view partit bitstream encod view partit analysi contour code textur bitstream nregs_color pi lpi color 3d model depth_edg activ color boundari textur encod cod fig. 11 encod scheme. partit inform gener independ view. textur encod encod 3d plane intra view appear inter encod previously. associ view intra mode, plane subsequ view encod inter view predict possible. intra mode, 3d plane repres distanc plane camera plu plane orientation. plane orient store spheric coordin 3d angl : = arcco ( nz n ) = arctan ( ny nx ) (27) nz compon point z > 0. result angl (in rang 0 2 0 2) encod equal precis uniform quantizer. distanc plane camera convert altern quantiz represent distanc depth map conversion: cdist = 1.0 d(pl,c) (2ndist1) ( 1.0 minz 1.0 maxz ) + 1.0 maxz (28) d(pl, c) euclidean distanc region plane camera, ndist number bit quantiz maxz minz maximum minimum depth valu image. subsequ view i, inter mode used. plane view project view construct multi-view partit viewref . region view candid plane view. plane compar plane code intra view i. plane lower error kept. plane code inter, skip mode sent, region intra coded. bitstream (depict figur 12) provid decod infor- mation need recov partit textur region. partit bitstream, activ color boundari textur bitstream view provid addit number region nreg color initi color partit lp colori . nreg color nv views. 3d hierarch optim multi-view depth map code 17 depth partit inform activ boundari textur coeffici view 1 view nv view 1 view nv view 1 intra view nv inter view 2 inter ... ... ... fig. 12 bitstream inform nv views. depth partit inform signal depth boundari ad color information. activ boundari inform final code partit obtained. textur coeffici view 2 nv us previou transmit coefficients. decod process depict figur 13. view, lp colori built decod color image. partition, color edg remov activ color boundari information. new edg ad partit bitstream. depth map recov decod textur bitstream project 3d plane p codi . color segmentationdecod color imag decod view partit decod activ color boundari textur bitstream textur decod lpi color decod depth map view nregs_color 3d multi-view partit bitstream pi cod fig. 13 decod scheme. lp colori gener decod color imag nreg color. inform activ color boundari partit bitstream encod partit p codi generated. decod depth map view obtain project 3d plane p codi . 6 experiment evalu section, present quantit evalu multi-view opti- mizat segment code method. us rgb-d multi-view sequenc ballet, undo dancer, breakdanc ghost town evalua- tion [22, 35, 36]. sequenc compos color depth frame 8 camera view camera paramet frame. ballet breakdanc captur color (rgb) camera depth comput afterwards. undo dancer ghost town synthet se- quences. resolut sequenc 1920x1088 pixel undo dancer 18 marc maceira et al. ghost town 1024x768 pixel ballet breakdancers. assum color view previous decod receiv side. dif- ferent stage propos method evalu 25 frame sequence. order assess technique, explor differ configur propos method section 6.1. finally, propos compar hevc, 3d-hevc mv-hevc section 6.2. experi us views: viewleft, viewright viewref configur 3d-hevc. viewleft viewright base view encod viewref locat select perform optim process multi-view optim block (see section 4.2). view correspond virtual view 3d-hevc. color depth map imag camera paramet avail view considered. 6.1 configur section, differ block overal analyzed. experi studi number view affect code perform method. then, gain rd optim hierarchy. experiment, differ color partit combin color plu depth partitions. final studi distribut rate depth partit information, activ boundari textur coefficients. result differ sequenc averag singl rate-distort curve. combin multipl view experi studi combin view prior multi-view optim figur 14 show result encod viewref depth map differ configurations. configuration, differ number view obtain hierarchi viewref . 1 view optim configuration, inform viewref used. configur achiev better rate-distort figures. 2 view optim configur us inform viewleft viewright. project view viewref abl match depth boundari viewref , result 2 view optim 1 view configuration. 3 view optim 3 view used. result slightli 1 view optimal, case optim 3 view together, obtain consist segment views. result optim code partit configur project viewleft viewright, present section 5. result shown figur 15. differ configur achiev similar results, result single-view configuration. behavior 3d hierarch optim multi-view depth map code 19 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 rate (bpp) 20 25 30 35 40 45 50 p s n r 1 view optim 2 view optim 3 view optim fig. 14 code result viewref . 1 view configur inform viewref , 2 view configur us 2 view project viewref 3 view configur us them. fact hierarch optim viewref restrict possibl merg view extra rate need encod occlud regions. single-view optimization, number region differ view reduc build share hierarchi view viewref . abl merg region single-view reduc number region occlud viewref creat hierarchi href viewref relev regions. rate-distort optim section, perform rate-distort optim method single-view configur studied. differ cut hierarchi hc di (thi is, differ partitions) extract follow merg sequenc compar optim partit pi differ qualiti paramet . result shown figur 16. propos optimization, abl achiev gain 2-3 db h depth merg sequence. color depth combin figur 17 show r-d curv differ options: depth partition, color partit color-depth partition. color partit advantag contour inform sent. good option low bit-rat lack precis 20 marc maceira et al. 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 rate (bpp) 20 25 30 35 40 45 50 p s n r multiview 1 view multiview 2 view multiview 3 view singl view fig. 15 result figur 14 translat viewleft viewright. multi- view configur (all hierarchi built viewref ) compar hierarchi view independently. region boundari limit maximum achiev quality. depth inform allow obtain higher qualiti contour sent, curv displac right. combin color depth provid good trade-off depth contour approxim color boundari reduc set depth contour present color partit sent. multi-view optimization: rate statist evalu distribut rate depth partit information, activ boundari textur coefficients, bitstream present section 5 analyz determin differ contributions. figur 18 show rate distribut category. bar normal maximum rate column. cost encod textur inform activ boundari remain fairli constant differ rate- distort points. however, partit cost prevail rate increases. result optim depend given budget rate. budget low, color boundari added. bit allocated, optim add costli depth boundaries. 6.2 rate-distort result propos method tempor prediction, intra mode differ method taken. sequence, view used, 3d hierarch optim multi-view depth map code 21 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 rate (bpp) 20 25 30 35 40 45 50 p s n r hierarchi optim fig. 16 rate-distort result propos optim method. initi hdepth, result code partit 3d plane follow merg sequenc propos optimization. viewleft viewright encod (each view independently) middl emploi locat viewref . view render origin depth map serv refer differ method virtual view. object evalu propos method, error measur taken depth map synthes virtual view. depth map visual render new images, measur virtual view give real perform method. measur directli depth map give overview origin depth map repres planes. similar result obtain psnr ssim. measur similar tendencies, psnr shown evalu error. result measur depth map differ sequenc shown figur 19. comparison, 3d-hevc perform wors hevc configur method literature. color depth map view encod 3d-hevc, view synthesi optim maxim qualiti virtual view directli depth map. propos method outperform [12] ([maceira2016]) sequences. us multi-view redund propos optim net allow 2 db gain differ sequences. improv noteworthi undo dancer sequence, planar characterist scene fulli exploited. hand, method problem ghost town sequence, number ad depth contour similar [12], achiev similar results. 22 marc maceira et al. 0.000 0.005 0.010 0.015 0.020 0.025 0.030 rate (bpp) 20 25 30 35 40 45 p s n r color depth color depth fig. 17 r-d curv color partitions, depth partit combin color depth partit encod depth maps. partit depth includ cost encod textur boundari color need textur information. color segment abl properli segment element differ depth tonality. sequenc depth map noisier, ballet breakdancers, 3d planar segment abl repres correctli depth maps, obtain wors result hevc standards. result render virtual view shown figur 20. result planar implement achiev better result hevc mv-hevc ballet undo dancer closer depth map comparison sequences. notic undo dancer 3d-hevc improv hevc mv-hevc. 3d-hevc encod color depth information. depth map 3d-hevc, color imag method render view. result figur 20 summar tabl 1 2 bjontegaard metric comput averag gain psnr (bd-snr) comput averag save bitrat (bd-rate) shown, take hevc reference. tabl 1 bd-rate mv-hevc 3d-hevc maceira2016 propos undo dancer -23.69 -40.97 -36.94 -49.16 ghost town -39.96 -64.50 42.03 2.91 ballet -6.03 -71.89 -37.16 -41.63 breakdanc -6.16 -35.71 48.46 150.13 3d hierarch optim multi-view depth map code 23 5 6 7 8 9 10 11 12 13 14 rate (bpp/1000) 0 10 20 30 40 50 60 70 80 90 100 % o f ra te depth partit activ bound. textur fig. 18 distribut rate texture, partit activ boundari inform differ rate-distort points. tabl 2 bd-snr mv-hevc 3d-hevc maceira2016 propos undo dancer 1.16 1.80 2.12 3.38 ghost town 1.43 2.16 -1.03 0.01 ballet 0.20 3.47 1.57 1.51 breakdanc 0.17 1.02 -1.03 -2.57 multi-view method propos improv rate-distort result [12] sequences, achiev encod result competit hevc standards. however, result translat equal virtual views. instance, ballet breakdanc sequenc noisier present larger baselin views. case, propos method reduc number 3d plane encod correspond depth maps, penal perform method. hand, sequenc undo dancer, planar characterist depth map allow improv hevc standards. addition, multi-view method present work extract consist segment differ views, us applications. 7 conclus work present region-bas multi-view depth map cod- ing techniqu base global 3d scene representation. color depth segment differ view combin singl hierarch 24 marc maceira et al. 0.000 0.005 0.010 0.015 rate (bpp) ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [2016] 0.020 0.025 25 30 35 40 45 50 55 0.000 0.005 0.010 0.015 0.020 rate (bpp) 0.025 0.030 0.035 0.040 25 30 35 40 45 50 ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [2016] a) undo dancer b) ghost town 0.00 0.02 0.04 0.06 rate (bpp) ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [2016] 0.08 0.10 20 25 30 35 50 45 40 0.00 0.01 0.02 0.03 0.04 0.05 rate (bpp) 0.06 hevc mv_hevc 3d_hevc propos multi-view maceira [2016] 0.07 0.08 0.0925 30 35 40 45 ps n r c) ballet d) breakdanc fig. 19 rate distort result evalu directli depth maps. representation. optim process hierarchi allow obtain optim code partition. represent retriev uniqu 3d planar decomposit scene. method encod 3d planar decomposit multi-view depth map code applic proposed. textur infor- mation sent model result region 3d plane send correspond plane parameters. us color partit (that avail decoder, extra cost) allow reduc cost send- ing code partition. multi-view code method show competit result hevc. benefit propos method that, addit coding, global 3d scene represent suscept task action detect [10], scene recognit [8] scene label [33]. acknowledg work develop framework project tec2013- 43935-r tec2016-75976-r, financ spanish ministerio economa y com- petitividad european region develop fund (erdf) 3d hierarch optim multi-view depth map code 25 0.000 0.005 0.010 0.015 rate (bpp) ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [2016] 0.020 0.025 28 30 42 40 38 36 34 32 0.000 0.005 0.010 0.015 0.020 rate (bpp) 0.025 0.030 0.035 0.040 34 36 38 40 42 44 ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [2016] a) undo dancer b) ghost town 0.00 0.02 0.04 0.06 rate (bpp) 28 30 ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [2016] 0.08 0.10 32 34 36 38 40 0.00 0.01 0.02 0.03 0.04 0.05 rate (bpp) 0.06 hevc mv_hevc 3d_hevc propos multi-view maceira [2016] 0.07 0.08 0.09 32 33 34 40 39 38 37 36 35 ps n r c) ballet d) breakdanc fig. 20 rate distort result evalu render views. refer 1. barrera f, padoi n (2014) piecewis planar decomposit 3d point cloud obtain multipl static rgb-d cameras. in: 2014 2nd interna- tional confer 3d vision, vol 1, pp 194201 2. charikar m, guruswami v, wirth (2003) cluster qualit information. in: proceed 44th annual ieee symposium foundat science, ieee society, washington, dc, usa, foc 03, pp 524533 3. fehn c (2004) depth-image-bas render (dibr), compression, transmiss new approach 3d-tv 4. fischler ma, boll rc (1981) random sampl consensus: paradigm model fit applic imag analysi autom car- tography. commun acm 24(6):381395 5. freeman h (1961) encod arbitrari geometr configurations. ir transact electron comput ec-10(2):260268 6. gao y, cheung g, maugei t, frossard p, liang j (2016) encoder-driven inpaint strategi multiview video compression. ieee transact imag process 25(1):134149 26 marc maceira et al. 7. glasner d, vitaladevuni sn, basri r (2011) contour-bas joint cluster multipl segmentations. in: proceed 2011 ieee confer vision pattern recognition, ieee society, washington, dc, usa, cvpr 11, pp 23852392 8. gupta s, arbelaez p, malik j (2013) perceptu organ recog- nition indoor scene rgb-d images. in: vision pattern recognit (cvpr), 2013 ieee confer on, pp 564571 9. kowdl a, sinha s, szeliski r (2012) multipl view object cosegment appear stereo cues. in: european confer vision, firenze, italy, pp 789803, doi 10.1007/978-3-642-33715-4 57 10. liang b, zheng l (2015) survei human action recognit depth sensors. in: digit imag computing: techniqu applic (dicta), 2015 intern confer on, pp 18 11. luca lfr, wegner k, rodrigu nmm, pagliari cl, da silva eab, faria smm (2015) intra predict depth map code flexibl block partitioning. ieee transact imag process 24(11):4055 4068 12. maceira m, morro jr, ruiz-hidalgo j (2016) depth map compress 3d region-bas representation. multimedia tool applic pp 124 13. merkl p, smolic a, muller k, wiegand t (2007) effici predict structur multiview video coding. ieee transact circuit system video technolog 17(11):14611473 14. merkl p, muller k, marp d, wiegand t (2016) depth intra code 3d video base geometr primitives. ieee transact circuit system video technolog 26(3):570582 15. micusik b, kosecka j (2009) piecewis planar citi 3d model street view panoram sequences. in: vision pattern recognition, 2009. cvpr 2009. ieee confer on, pp 29062912 16. muller k, merkl p, wiegand t (2011) 3-d video represent depth maps. proceed ieee 99(4):643656 17. muller k, schwarz h, marp d, bartnik c, boss s, brust h, hinz t, lakshman h, merkl p, rhee fh, tech g, winken m, wiegand t (2013) 3d high-effici video code multi-view video depth data. ieee transact imag process 22(9):33663378 18. ortega a, ramchandran k (1998) rate-distort method imag video compression. ieee signal process magazin 15(6):2350 19. ostermann j, borman j, list p, marp d, narroschk m, pereira f, stockhamm t, wedi t (2004) video code h.264/avc: tools, per- formance, complexity. ieee circuit system magazin 4(1):728 20. ozkalayc bo, alatan aa (2014) 3d planar represent stereo depth imag 3dtv applications. ieee transact imag process 23(12):52225232 21. ren x, bo l, fox d (2012) rgb-(d) scene labeling: featur al- gorithms. in: vision pattern recognit (cvpr), 2012 ieee confer on, pp 27592766 3d hierarch optim multi-view depth map code 27 22. rusanovskyi d, aflaki p, hannuksela m (2011) undo dancer 3dv se- quenc purpos 3dv standardization. iso/iec jtc1/sc29/wg11 mpeg2010 m 20028 23. salembi p, garrido l (2000) binari partit tree effici repre- sentat imag processing, segmentation, inform retrieval. ieee transact imag process 9(4):561576 24. schwarz la, mateu d, lallemand j, navab n (2011) track plane time flight camera j-linkage. in: applic vision (wacv), 2011 ieee workshop on, pp 664671 25. shoham y, gersho (1988) effici bit alloc arbitrari set quantiz 36(9):14451453 26. silberman n, hoiem d, kohli p, fergu r (2012) indoor segment support infer rgbd images. in: eccv 27. sinha s, steedli d, szeliski r (2009) piecewis planar stereo image- base rendering. in: intern confer vision, kyoto, japan, pp 18811888 28. sullivan gj, ohm jr, han wj, wiegand t (2012) overview high effici video code (hevc) standard. ieee transact circuit system video technolog 22(12):16491668 29. sullivan gj, boyc jm, chen y, ohm jr, segal ca, vetro (2013) standard extens high effici video code (hevc). ieee journal select topic signal process 7(6):10011016 30. torr l, kunt m (1996) second gener video code techniques, springer us, boston, ma, pp 130 31. vara d, alfaro m, marqu f (2015) multiresolut hierarchi co- cluster semant segment sequenc small variations. in: 2015 ieee intern confer vision (iccv), pp 45794587 32. verleysen c, vleeschouw c (2016) piecewise-planar 3d approxima- tion wide-baselin stereo. in: ieee confer vision pattern recognit (cvpr) 33. wang a, lu j, cai j, wang g, cham tj (2015) unsupervis joint featur learn encod rgb-d scene labeling. ieee transact imag process 24(11):44594473 34. yin f, velastin sa, elli t, makri d (2015) learn multi-planar scene model multi-camera videos. iet vision 9(1):2540 35. zhang j, li r, li h, rusanovskyi d, hannuksela mm (2011) ghost town fly 3dv sequenc purpos 3dv standardization. iso/iec jtc1/sc29/wg11, doc m 20027 36. zitnick cl, kang sb, uyttendael m, winder s, szeliski r (2004) high- qualiti video view interpol layer representation. in: acm siggraph 2004 papers, new york, ny, usa, siggraph 04, pp 600 608 adpc352.tmp upcommon portal del coneix obert la upc 11tu aquesta s una cpia la versi author final draft d'un articl publicat la revista multimedia tool applic . url d'aquest document upcommon e-prints: 11tu articl publicat / publish paper: