hybrid approach treebank construct una aproximacion hbrida la construccion treebank montserrat marimon dpt. lingustica gener universitat barcelona barcelona, spain llu padro talp research center universitat politecnica catalunya barcelona, spain resumen: est artculo investigacion sobr lo efecto la desambiguacion mor- fosintactica usada como preproceso analizador sintactico profundo basado en hpsg, en el contexto del desarrollo treebank del espanol codigo abierto, en el entorno delph-in. la anotacion treebank se realiza manualment tomando la deci- sion apropiada entr la opcion propuesta por el sistema y ordenada por modulo estadstico. lo experimento presentado muestran que el uso etiquetador reduc la ambiguedad la frases, y contribuy limitar la cantidad frase cuyo analisi so- brepasaa el lmite tiempo, y ayuda al modulo estadstico clasificar el arbol correcto entr lo n mejores. por lado, nuestro resultado validan lo beneficio ya reportado en la literatura tal preproceso analisi profundo respecto la velocidad, cobertura y precision. por otro lado, proponemo una estrategia basada en existent herramienta codigo abierto y recurso para desarrollar alta consitencia treebank sintaxi pro- funda para idioma limitada disponibilidad recurso lingusticos. palabra clave: anotacion sintactica profunda corpus, analisi hpsg, desambiguacion morfosintactica. abstract: paper describ research effect po tag preprocess hpsg-base deep pars context open-sourc spanish treebank develop delph-in framework. treebank annot perform hand select proper decis choic propos rank statist module. present experi us tagger lower ambigu sentences, reduc sentenc reach time-out entir pars forest built, help ranker place right tree n-best trees. hand, result valid benefit report literatur preprocess deep pars regard speed, coverage, accuracy. hand, propos strategi base exist open-sourc tool resourc develop highly-consist deep-annot treebank languag limit avail linguist resources. keywords: deep syntax treebank annotation, hpsg parsing, po tagging. 1 introduct linguist interpret natur languag text constitut crucial resourc theoreti- cal linguist investig languag us practic nlp purposes. thus, re- cent years, increas inter- est construct treebank and, nowa- days, theory-neutr theory-ground treebank develop great vari- eti languages.1 effort treebank build manual annotation, recent signific advanc develop large-scal robust effi- 1some treebank present (hinrich simov, 2004). cient grammar hybrid statistical/symbol approach resolv ambigu possibl us sophist linguist hand- craft deep-syntax framework (such hpsg lfg) support annot task (riezler et al., 2002; prin van noord, 2003; toutanova et al., 2005). however, drawback approach detail granular produc huge ambiguity, creat effici problem parser machineri make effect us result difficult. ambigu slow processing, impoverish grammar perform term coverag time-out problem pars long sen- procesamiento del lenguaj natural, revista n 49 septiembr 2012, pp 139-146 recibido 04-05-12 revisado 01-06 -12 aceptado 05-06-12 issn 1135-5948 2012 sociedad espaola para el procesamiento del lenguaj natur tences. besides, lead neg effect pars accuracy, caus combinato- rial explos search space. case treebank development, repres se- vere slow consequ cost increas sentenc pars exclud resource. thus, strate- gi devis extend coverag effici deep parser treebank development. strategi reli ba- sic exist state-of-the-art resourc (e.g. po tagger) order potent appliabl develop deep syntax annot corpu wide rang languages. research line pursu improv perform deep parsers, reli hybrid system com- bine shallow deep nlp paradigms. prime motiv publish hy- brid direct improv effici parser (bangalor et al., 1997; bangalor joshi, 1999; ciravegna lavelli, 1997; watanabe, 2000; grover lascarides, 2001; marimon, 2002; crysmann et al., 2002; prin van noord, 2003; daum, foth, men- zel, 2003; frank et al., 2003; clark curran, 2004; zhang, matsuzaki, tsujii, 2009). be- sides, integr shallow-deep pro- cess show improv robust- ness (marimon, 2002; crysmann et al., 2002; daum, foth, menzel, 2003; adolph et al., 2006) precis (prin van noord, 2003; daum, foth, menzel, 2003; sagae, miyao, tsujii, 2007) rule-bas symbol grammars. level shallow inform hybrid architectur integr achiev goals, rang simpl morpholog infor- mation po inform differ shallow syntact analysis. work grover lascarid (2001) prin van noord (2003) ex- ampl benefit basic po infor- mation. grover lascarid (2001) interfac po tag inform exist lexicon alvei natur languag tool system: word exist lexicon, po tag filter, access entri ap- propriat category, word unknown system, basic underspecifi entri po tag lexic entry. experi 200 sentenc show perform im- prove 37.5%, precis 30.5%. prin van noord (2003) hmm n-gram po tagger filter unlik lexic categori increas speed pars sys- tem base wide-coverag hpsg dutch. experiment result test set 216 sen- tenc us tagger greatli re- duce pars time, and, addition, yield increas pars precision. propos extend integr inform exploit shallow syntact anal- ysi produc differ shallow tools. line, bangalor et al. (1997) present sys- tem appli statist disambigu techniqu prior pars ltag frame- work. (trigram) disambigu model disambigu so-cal supertags, tag repres syntact behavior word 1-to-1 map grammar lexi- cal types. task parser reduc establish depend links, pars- ing speed-up factor 30, tag ac- curaci 68%. later experi report (bangalor joshi, 1999) improv tag ac- curaci 92% larger train data ad smooth tech- niques. benefit suppertag pars speed demonstr lex- icalis formal like ccg (clark cur- ran, 2004) hpsg (zhang, matsuzaki, tsujii, 2009; dridan, 2009). line research, ciravegna lavelli (1997) propos us text chunk control agenda- base bottom-up chart parser; preliminari text chunk allow focu directli constitu likely, reduc spuriou ambiguity. chunk process finit state automaton, take out- po tagger. claim experi reduct 68% constitu gener 78% time consumed. frank et al. (2003) combin macro-structur con- straint deriv probabilist topolog field parser german constraint-bas hpsg parser report perform gain factor 2.25 set 5060 sentences. watanab (2000) describ algorithm acceler cfg-pars process depend inform provid stochast parsers, inter- activ system linguist annot ad sourc text. report reduct process- ing time 45% 15%. and, re- cently, sagae, miyao, tsujii (2007) combin depend hpsg pars report 1% absolut improv precis recal predicate-argu identif hpsg pars- ing strong baseline. contribut shallow montserrat marimon, llu padr 140 compon perform deep analysi investigated, smaller extend. marimon (2002) integr cascad shallow compon perform po tag chunk recognit pre-process mod- ul hpsg-base grammar spanish imple- ment alep system. experiment re- sult effici overal anal- ysi improv averag 65% provid robust linguis- tic processing, maintain recal precis grammar. ap- proach crysmann et al. (2002) lkb system, us partial analys shallow process guid deep parser identifi relev candid deep process- ing. also, daum, foth, menzel (2003) in- vestig contribut tagger chunker perform deep syntact parser weight constraint depend grammar german report achiev high degre lexic robustness, reduc run time re- quirements, consider improv pars accuraci set 1845 sentences. paper describ research effect state-of-the-art po tagger deep pars unrestrict spanish text, carri con- text on-go work creation new open-sourc resourc spanish hpsg- base treebank call tibidabo. focu investig extend tagger af- fect result term cover- ag (measur percentag sentenc produc output alloc time) accuraci (measur percentag sen- tenc right pars tree rank best ones). additionaly, research contribut valid benefit po tag- ger pars speed report liter- ature. note that, goal build treebank, preprocess reli exist state-of-the- art tool resort sophisti- cate techniqu e.g. supertag lack train material. follow section summar set-up motiv research. section 3.1 describ experi influenc tag deep pars unrestrict spanish text, section 5 present conclus direct futur work. 2 annot environ mentioned, research paper carri context on-go work construct new open-sourc languag resourc spanish: hpsg-base treebank.2 investig us delph-in open- sourc tool write process hpsg grammar delph-in publicli avail spanish resourc grammar.3 treebank environ delph- framework base selection4 correct analysi analys produc symbol grammar, instead human annotation. pro- vide maximum entropi (me) base stochas- tic learner (toutanova et al., 2005) observ decis taken annot appli unseen pars reduc output gen- erat grammar and, therefore, manual annot effort treebank long sentences. nevertheless, sentenc includ treebank to: (a) parser build complet pars forest al- locat time exit time-out, (b) parser gener larg number possibl anal- ysi right rank solut offer annotator. studi us po tagger reduc timed-out sentenc increas number sentenc right analysi present rank best statist component. 2.1 parser grammar spanish resourc grammar broad- coverag precis grammar spanish aim pars unrestrict text. grammar implement linguis- tic knowledg builder (lkb) in- teract grammar develop environ type featur structur grammar (copestake, 2002). spanish resorc grammar ground theoret framework hpsg (pollard sag, 1987; pollard sag, 1994), constraint- base lexicalist approach grammat the- ori linguist object (i.e., word phrases) repres type featur struc- tures, us minim recurs se- mantic (mrs) semant represent (copes- 2the current treebank version publicli avail- abl delph-in framework. 3see 4select reject (or, alternatively, select- ing) lexic item grammar rule origin multipl pars increment disambigu sentenc singl analysi left. hybrid approach treebank construct 141 et al., 2006). unif type fea- ture structures, mr represent assign syntact flat semant represent lin- guistic express offers, mean label argument co-indexation, list semant relat set syntac- tic limit possibl scope relat them. spanish resourc grammar coverag lexicon close word class (pro- nouns, determiners, preposit conjunc- tions) contain 50,000 lexic en- tri open word classes.5 lexic en- tri defin set 500 lexic type repres type word lexicon. follow well-establish theoret hpsg proposals, lexic type orga- nize multipl inherit type hierarchi (i.e., subtyp inherit properti supertyp higher hierarchy) al- low lexic gener share sev- eral subtyp captur once. grammar 70 lexic rule perform va- lenc chang oper lexic item (e.g. movement remov complements) reduc number lexic entri manu- alli encod lexicon, 230 phrase struc- ture rule combin word phrase larger constitu composition build semant representation. spanish resourc grammar deal wide rang construct spanish, in- cluding: main claus canon word order surfac word order variations, valenc alter- nations, determination, agreement, null-subject, compound tens periphrast forms, rais- ing control, passives, (basic) compar superlatives, type rel clauses, un- bound depend constructions, clitic phenomena, construct se, coordination, nomin verbal ellipsis. 2.2 po tagger system, pars input sentences, raw text pre-process freeling, open- sourc languag analysi tool suit perform shallow process function (padro et al., 2010).6 freel receiv sentence, morphologi- calli annot word dictionari look-up, 5the grammar includ set gener lexic entri templat open class deal unknown word virtual unlimit lexic coverage. 6the freel toolkit download from: perform state-of-the-art hmm disambigua- tion, estim accuraci 97%. morpholog analysi step includ ap- plicat cascad special processor annot punctuat symbols, multi-words, numer expressions, date/tim expressions, ra- tios, percentages, monetari amounts, proper nouns.7 integr freel lkb simpl preprocessor protocol (sppp) map po tag partial featur struc- tures.8 sppp interfac modul allow definit adapt rule aim en- sure smooth integr tool provid best balanc pars effi- cienci accuracy. instance, list word tag caus ambigu solv high reliabl hmm tagger (like ambigu- iti pronoun-conjunct word que (that), proper name sentenc beginning) specified. word tags, po tag- ger decis ignor (no analysi discarded) specifi position, pass possibl deep pars resolv symbol grammar. also, interfac modul con- figur list substitut certain categori freel output categori expect grammar. way, avoid pars failur discrep freel tagset lexic categori as- sume spanish resourc grammar (thi case, instance, deictic adverb like here, there, today, tomorrow, etc., freel- ing tag adverb grammar lexicon encod pronomin signs). 2.3 target corpu creat treebank tibidabo chose news- paper text borrow corpu an- cora, corpu 528,000 word (17,363 sen- tences) (taule, mart, recasens, 2008). ta- ble 1 show number sentenc ratio distribut sentenc length. ancora corpu provid syntact annotation, semant roles, coreference, linguist markup similar deep analysi framework hpsg mr 7freel includ guesser deal word lexicon comput prob- abil possibl po tag given longest observ termin string word. 8sppp assum pre-processor run exter- nal process lkb commun caller standard input output channels. montserrat marimon, llu padr 142 sentenc length # sentenc % corpu 1-5 872 5.02 6-10 1,420 8.17 11-15 1,877 10.81 16-20 2,029 11.62 21-25 2,051 11.81 26-30 1,987 11.44 31-35 1,871 10.77 36-40 1,701 9.79 41-45 1,318 7.59 46-50 997 5.74 51+ 1,246 7.17 total 17,363 100 tabl 1: distribut sentenc length corpus. offer, annot hand created. thorough metodolog detail criteria used, human annot error-pron misinterpret criteria. human-annot resourc unavoid suffer certain de- gree error inconsist criteria fact. believ provid corpu consist- ing text annnot differ- ent paradigm annot criteria enforc deep analysi lexic grammar in- stead human annot valuabl resourc research. corpu us studi variabl human annotation, abil machin lear algorithm cap- ture structur annot approach, studi differ linguist criteria map other, pos- sibilities. 3 experiment set rough idea coverag current ver- sion grammar drawn fact 30.4% sentenc 50 word receiv parse.9 pars failur remain 70% sen- tenc basic reasons. first, process compon complex softwar develop stage certainli defici lack coverage, error unanticip interactions, lack robust respons 12.2% pars fail- ures. second, 57.4% input sentenc reach time-out limit set pars engin (which set 60 second sentence), larg number analyses. failur 9longer input pars establish time-out limits. ratio time-out limit increas consider longer sentenc (see tabl 3), clearli show need improv effici enabl pars unrestrict spanish text. 30% sentenc 50 word re- ceiv pars get, fact, averag 5,040 parses/sentence. pos- sibl tree requir reject/select deci- sion human annotator, increas dif- ficulti task dramat slow treebank construction. palliat this, stochast ranker delph-in framework train select reduc number pars tree present annotator, reduc number decis need disambigu sentence. nevertheless, huge possibl pars pose difficult challeng ranker, right tree selected. time-out problem larg num- ber tree ranker deal reduc number sentenc annot includ treebank. thus, overcom issu crucial step build complet us resource. lexic ambigu caus share problems, approach us po tag- ging preprocessor reduc ambigu parser deal with. follow sec- tion present experi measur influenc tag effici parser assign (multiple) analys input sentenc accuraci rank- ing model choos best on them. 3.1 corpu ambigu report result experiments, present statist morphological, lexical, syntact ambigu corpus. denot morpholog ambigu po ambigu typic address tagger. tabl 2 show summari morpho- logic ambigu (tag word) corpus. ambig. word word # word tg/w # word tg/w open-class 83,000 2.30 235,000 1.46 closed-class 144,000 2.62 293,000 1.80 total 227,000 2.46 528,000 1.63 tabl 2: morpholog ambigu profil corpus. hybrid approach treebank construct 143 spanish grammar implement delph-in ground theoreti- cal framework hpsg, heavili lexicalist ap- proach grammat theori word assign lexic class differ, ex- ample, valenc frame.10 denot lexic ambigu averag number lexic class word parser take ac- count. case corpus, 7.0 lexic class word. given input sentence, parser consid- ers, word, lexic class match valid po tag word. then, possi- ble pars consist possibl built, produc larg syntact analyses. denot syntact ambigu averag possibl pars sen- tenc gener parser. averag syntact ambigu 30% sentenc 50 word analy- sis, 5,040 parses/sentence. 4 experi 4.1 experi 1: influenc coverag investig effect po tagger effici spanish grammar pars corpu tagger compar performance. tabl 3 show ratio sentenc re- ceiv parse, percent- ag sentenc parser time out, distribut sentenc length.11 surprisingly, tag errors, po tag caus small loss number short sentenc receiv analysis: 3% sentenc 10 word analyzed, rel sentenc range, repres loss 0.4% corpus. however, tagger cer- tainli posit impact longer sentenc length 11 40 word observ coverag increas 7.2%. note sentenc length rang constitut third corpus. thus, overal ratio sentenc corpu receiv analysi increas 6.9%. po tagger reduc morpholog ambigu 1.63 1.03 tags/word,12 reduc 7.0 4.7 lexic class word 10for example, averag number entri verb 1.84, however, verb 8 lexic entries. 11the corpu pars quad-cor 2.83ghz 8gb ram. 12in case tagger larg error rates, pars timeout sent. % sentenc ratio length corpu tag tag tag tag 1-5 5.0 91.4 87.4 0 0 6-10 8.2 89.2 86.6 2.6 0.8 11-15 10.8 73.8 74.3 12.6 4.6 16-20 11.6 49.9 61.2 34.3 10.6 21-25 11.8 25.2 38.0 58.7 34.8 26-30 11.5 10.3 21.1 74.4 50.3 31-35 10.8 3.5 9.2 82.0 61.6 36-40 9.8 1.2 3.4 86.6 71.5 41-45 7.6 0.5 1.0 88.8 75.2 46-50 5.7 0.2 0.2 89.6 77.3 51+ 7.2 0 0 100.0 100.0 total 100.0 30.4 37.3 57.4 42.6 tabl 3: percentag pars timed-out sentences. lexic ambigu parser deal with. caus parser build constitu contribut final parse, make pos- sibl pars 7% sentences, parser timed-out before. syntact ambigu- iti po tag slightli increas (from 5,040 5,434 analysis/sentence) fact longer sentenc ambigu pars includ count. expected, morpholog disambigua- tion posit impact pars time reduc averag process time 38.4 30.4 sec/sent (even longer sentenc includ count). 4.2 experi 2: influenc accuraci evalu impact tag accuraci rank model, calcul ratio sentenc pars gold stan- dard rank n best stochas- tic model. note output analysi includ phrase structur tree mr semant representation, exact match required. corpu experi small treebank, consist 2,570 sentenc length 16 words. experi perform 5-fold cross- validation. tabl 4 show accuraci pars se- lection model (percentag sentenc right pars tree rank model conjunction/rel ambigu word que, tagger output ignor ambigu maintained. montserrat marimon, llu padr 144 n best) treebank pars tagger. differ- enc signific 95% confid degre accord pair t-test valu n ex- cept n = 10. n-best tagger tagger 1 54.8% 56.3% 2 65.1% 66.9% 3 70.8% 73.0% 4 74.1% 77.0% 5 78.1% 79.5% 10 85.7% 85.6% 20 91.4% 89.6% 30 94.7% 91.6% tabl 4: accuraci pars model select model n-best analys tagger. reason us po tag im- prove pars accuraci reduc number candid analyses, larg reduc search space select model deal with. set sentences, gram- mar assign averag 7.7 lexic class word produc averag 1,235 pars tree sentence. po tag used, figur reduc 4.3 class word 606 analys sentence. 5 conclus futur work paper describ research show use- ful po tag improv speed, cov- erage, accuraci hpsg-base deep parser treebank development. experi- ment show that, improv pars speed, po tag increas pars coverag long sentences. second experi show sta- tistic signific improv pars ac- curaci maximum-entropi base model rank n-best analysi sen- tence. present result 14.8% decreas timed-out sentenc (from 57.4% 42.6%) con- sist 6.9% coverag increase, plu 7.9% sentenc longer time analyz tagger error lack appropri rule grammar. us po tag- ger yield signific increas percent- ag sentenc right tree rank best on statist module. present result inform order design optim annot strategi aim maxim annot speed maintain high level accuracy: 50% sentenc corpu annot tagger set ranker select small number trees. given reduc forest, annot process fast, sentenc requir annot de- cision disambiguated. 20% sen- tenc annot (e.g. be- caus right tree pro- posed) process higher number candid trees. remain sen- tenc annot slower rate with- tagger. finally, higher time-out set parser analyz sentenc time before, repeat process. strategi base exist open-sourc tool resources13, make possibl develop highly-consist deep-annot treebank languag limit avail linguist resources. futur work includ extens grammar coverage, extens treebank. studi viabil train high- precis ranker allow automat anno- tation larg number sentenc tree- bank. acknowledg work partial fund eu- ropean union project x-like (fp7- ict-2011-288342), spanish govern program ramon y cajal project know2 (tin2009-14715-c04-03/04), catalan govern mobil program bequ estad la recerca fora catalunya. refer adolphs, p., s. oepen, u. callmeier, b. crys- mann, d. flickinger, b. kiefer. 2006. fine point hybrid natur languag parsing. proceed 5th internati- nal confer lrec, genoa, italy. bangalore, s., c. doran, b.a. hockey, a. joshi. 1997. approach robust par- tial pars evalu metrics. pro- ceed 5th intern workshop pars technologies, boston, ma. bangalore, s. a. joshi. 1999. supertag- ging: approach parsing. com- putat linguistics, 2(25):237265. 13all delph-in resourc software, srg grammar, treebank freel toolkit licens gpl lgpl. hybrid approach treebank construct 145 ciravegna, f. a. lavelli. 1997. control bottomup chart parser text chunk- ing. proceed 5th intern workshop pars technologies, boston, ma. clark, s. j.r. curran. 2004. impor- tanc supertag wide-coverag ccg parsing. proceed 20th interna- tional confer comput linguis- tic (coling-04), geneva, switzerland. copestake, a. 2002. implement type fea- ture structur grammars. csli publications, stanford. copestake, a., d. flickinger, c.j. pollard, i.a. sag. 2006. minim recurs seman- tics: introduction. research languag computation, 3(4):281332. crysmann, b., a. frank, b. kiefer, s. muller, g. neumann, j. piskorski, u. schafer, m. siegel, h. uszkoreit, f. xu, m. becker, h.u. krieger. 2002. integr ar- chitectur shallow deep processing. proceed 40th annual meet associ comput linguis- tics, pittsburgh. daum, m., k.a. foth, w. menzel. 2003. constraint base integr deep shal- low pars techniques. proceed 10th confer eacl, budapest. dridan, r. 2009. lexic statist im- prove hpsg parsing. master thesis, saar- land university, sarbrucken, germany. frank, a., m. becker, b. crysmann, b. kiefer, u. schafer. 2003. integr shallow deep parsing: topp meet hpsg. proceed- ing 41st annual meet associa- tion comput linguistics. grover, c. a. lascarides. 2001. xml- base data prepar robust deep pars- ing. proceed 39th annual meet- ing associ comput lin- guistics, toulouse, france. hinrichs, e.w. k. simov, editors. 2004. re- search languag computation, vol- um 2(4). kluwer academ publishers. marimon, m. 2002. integr shallow linguis- tic process unification-bas spanish grammar. proceed 19th interna- tional confer comput linguis- tics, taipei, taiwan. padro, l., m. collado, s. reese, m. lloberes, i. castelon. 2010. freel 2.1: year open-sourc languag process- ing tools. proceed 7th lan- guag resourc evalu confer (lrec10), la valletta, malta. pollard, c.j. i.a. sag. 1987. information- base syntax semantics, volum 1: fun- damentals. csli lectur notes, stanford university, ca. pollard, c.j. i.a. sag. 1994. head-driven phrase structur grammar. univer- siti chicago press csli publications, chicago. prins, r. g. van noord. 2003. reinforc parser prefer tagging. special issu evolut pars journal traitement automatiqu de langu 44(3), page 121139. riezler, s., t.h. king, r.m. kaplan, r. crouch, j.t. maxwell, m.johnson. 2002. pars- ing wall street journal lexical- function grammar discrimin es- timat techniques. proceed 40th annual meet associa- tion comput linguist (acl02), philadephia, pa. sagae, k., y. miyao, j. tsujii. 2007. hpsg pars shallow depend constraints. proceed 45th annual meet associ comput linguis- tics, prague, czech republic. taule, m., m.a. mart, m. recasens. 2008. ancora: multilevel annot corpora catalan spanish. proceed 6th intern confer languag re- sourc evaluation, lrec-2008, mar- rakech, morocco. toutanova, k., c.d. manning, d. flickinger, s. oepen. 2005. stochast hpsg pars disambigu redwood corpus. journal logic computation. watanabe, h. 2000. method accelerat- ing cfg-pars depend infor- mation. proceed 18th interna- tional confer comput linguis- tics, saarbrucken, luxembourg, nancy. zhang, y.-z., t. matsuzaki, j. tsujii. 2009. hpsg supertagging: sequenc label view. proceed 11th inter- nation confer pars technolog (iwpt09), paris, france. montserrat marimon, llu padr 146