june 24, 2014 connect scienc output connect scienc vol. 00, no. 00, month 200x, 114 research articl cognit architectur gener purpos servic robot control jordi-ysard puigboa, albert pumarolaa, cecilio anguloa, ricardo tellezb atechn univers catalonia, barcelona, spain; bpal robotics, barcelona, spain ( v3.4 releas april 2013) humanoid servic robot equip set simpl action skill includ navigating, grasping, recogn object people, others, consid paper. skill robot complet voic command express natur languag en- code complex task (defin concaten number basic skills). main feature, tradit planner decid skill activated, sequence. instead, soar cognit architectur act reason select action robot complete, address goal. propos allow includ new goal robot ad new skill (without need encod new plans). propos architectur test human size humanoid robot, reem, act gener purpos servic robot. keywords: cognit architecture; servic robot; robot control; gener purpos robot 1. introduct servic robot emerg research area human-cent technologies. specif applic exist kind robots, gener purpos servic robot control missing, special field humanoid servic robot (haidegg et al. (2013)). hence, main aim work endow servic robot control architectur allow gener execut plan accomplish goal. goal decompos steps, step involv skill implement robot. furthermore, openli increas goal ad new skills, encod new plans. typic approach gener control servic robot mainli base state machin technology, step requir accomplish goal specifi known robot hand. controllers, list possibl action robot complet exhaust created, step requir reach goal. main drawback approach inform specifi beforehand, prevent robot react either, novel situat new goals. altern us state machin planner (russel norvig (2003)). planners, usual base probabilist approaches/criteria, determin run time best sequenc skill order meet specifi goal. differ approach planner us cognit architectures. control system try correspond author. email: j-y. puigb a. pumarola contribut equal work issn: 0954-0091 print/issn 1360-0494 onlin c 200x taylor & franci doi: 10.1080/09540090xxxxxxxxxxxx june 24, 2014 connect scienc output 2 jordi-ysard puigbo et al. mimic brain process order gener decis (chen et al. (2010); jone (2004); kellei (2006); laird wrai iii (2010); langlei et al. (2009); pollack (1993)). cognit architectur exist literature: soar (laird et al. (2004)), act-r (anderson (1996); stewart west (2006)), cram (beetz et al. (2010)), ss-ric (kellei (2006); wei hindrik (2013)), others. enumer architectures, cram design have mind specif robot application: gener pancak servic robot (beetz et al. (2011)). however, time design gener purpos servic robot control, cram abl build plan defin beforehand, is, cram lack necessari skill solv unspecifi (novel) situations. hence, set action robot perform limit on cram encod itself. whereas, soar gener cognit architectur select requir skill current situat goal have predefin list plan situations. featur kei point gener purpos servic robot improv human robot interact needed. therefore, soar select approach control human size humanoid robot reem, equip set predefin basic skills. moreover, soar recent appli simpl navig task simpl wheel robot (hanford (2011)). work extend previou result complex gener humanoid robot solv complex tasks. rest paper organ follows: implement architectur introduc section 2; section 3, robot platform, gener purpos servic robot, described; section 4 highlight main result obtain experi- mentation; finally, conclus futur research line offered. 2. implement propos overal compos main modul connect shown figur 1. firstly, vocal command sent robot translat text automat speech recognit (asr) system. next, semant extractor modul split receiv text grammat structur goal gener them. then, goal compil reason modul sent cognit architectur (soar). finally, action select soar architectur translat skill activations. requir skill activ action node robot oper system. figur 1. structur overal develop translat high-level command robot actions. june 24, 2014 connect scienc output connect scienc 3 2.1. automat speech recognit modul order allow natur voic communication, incorpor auto- matic speech recognit (asr) modul process speech signal return text subsequ semant analysis. hence, natur wai human-robot interact (hri) provided. asr element allow translat voic command written sentences. asr softwar emploi archi- tectur base open sourc infrastructur sphinx (ravishankar (1996)) develop carnegi mellon university. dictionari 200 word con- sidered. case robot receiv command unknown word, accept command request new command. 2.2. semant extractor modul semant extractor modul charg process imper sentenc receiv asr module, extract retriev relev knowledg it. robot command type sentences: categori i. command compos short, simpl specif sub-commands, refer concret specif action. instance, kitchen, search person introduc . allow sub-command robot on defin tabl 2. categori ii. command under-specifi requir inform user. command either, miss inform com- pose categori word instead specif objects. exampl sentenc bring coke bring drink. exampl includ in- format drink is. second exampl explain kind drink user ask for. implement semant extractor extract sub-command contain command, action connect singl sentenc conjunct (and), transit particl (then) punctuat marks. note that, given output come asr software, punctuat mark omitted. suppos command express imper sentences. form, explicitli denot aim speaker robot perform certain action. action repres verb. verb convei occurr state being, exist, case imper sentenc command verb action. moreover, assum command ask robot action perform involv certain object (grasp coke), locat (navig kitchen table) person (bring drink). command categori i, semant extractor extract heard sentenc specif robot action object, locat person action act upon. categori ii, command necessarili contain inform execution. semant extractor figur action, identifi inform miss order accomplish it. semant extract parser built natur languag toolkit (nltk) (bird (2005)). context-fre grammar (cfg) design perform parsing. state-of-the-art parser like stanford parser (klein man (2003)) malt parser (hall (2006)) discard support imper sentences, have train deviat data need trained. semant extractor analys dependencies, preposit relations, synonym and, finally, co-references. june 24, 2014 connect scienc output 4 jordi-ysard puigbo et al. cfg, knowledg retriev command parser store structur call parsed-command. parsed-command contain follow information: action need perform; locat relev given action (if any). object relev given action (if any). person relev given action (if any). parsed-command structur identifi goal servic robot home, like [grasp - coke] [bring - - coke]. multipl goal (like sentenc categori i), arrai parsed-command generated, popul associ information. process work follows: firstly, sentenc receiv asr tokenized, is, stream text broken token word. nltk toolkit includ train tagger implement part-of-speech (pos) tag function english. then, tag function tag previou token tag plausibl po word. way, appli pos-tagging, verb found, action field parsed-command fill it. point action action need eventu accomplish goal command extracted. step obtain complement (object, locat and/or person). order achiev this, combin method used: (1) ontolog allow identifi noun sentenc word objects, person locations. (2) depend word sentenc found. have depen- denci tree allow identif part sentenc connect and, case, identifi connector have. so, depend tree allow noun act direct object verb. additionally, look direct object allow item action directed. indirect object loc adverbials. finish step, parsed-command completed. structur sent module, compil goal interpret reasoner. 2.3. knowledg world type inform robot encod world order properli operate: (1) map environ robot work. map navig locations. hence, map contain infor- mation locat robot perform actions. exampl locat includ specif room like kitchen, entri main room, specif fix object action performed, like main table, trash bin entri door. (2) simplist ontolog contain actions, name objects, name peopl name locat robot understand speech modul translat reason module. on- tologi includ action applic element (locations, people, objects) knowledg base includ default locat june 24, 2014 connect scienc output connect scienc 5 object categori object locat (when applicable, object classifi drink, food kitchenary, locat seat, room table). (3) databas model object robot abl recog- nize. db 2d/3d model object robot abl recogn grasp. (4) databas face robot abl recognize. (5) simpl database, cognit architecture, current knowledg state world includ state robot, object persons. includes, close to, item locat present, grasped, current state robot gripper current locat robot specif person. virtual represent world, desir world, included. encod specif state need goal consid accomplished. 2.4. reason modul compil firstli design reason modul produc goal receiv parsed-command understand format soar sub-system, call compiled-goal. happen command lack relev inform accomplish goal (categori ii). hence, modul respons check exist necessari inform complet goal, ask correct question requir complet miss information. example, command bring drink, robot check ontolog categori [drink ]. gener question ask kind drink speaker ask for, check answer match word ontology. next, program check ontolog determin know usual locat object information, too. requir inform obtained, goal compil sent soar module. 2.4.1. select cognit architectur main goal work endow gener purpos servic robot capac gener new behaviour pattern specif intervent humans. number cognit architectur provid framework aim, cram, ss-rics, act-r soar. hence, kei point featur interest work order choos architectures. featur evalu select cognit architectur following: generalization. architecture, given specif problem, abl extrapol behaviour similar problems, case base reason does. learning. given new goal specif program solved, select architectur solut learn later occurr case. symbol reasoning. symbol reason need high level control. action assum implement robot, choos appropri action execut step. scalability. architectur chosen easili scale goal actions, littl program effort. june 24, 2014 connect scienc output 6 jordi-ysard puigbo et al. tabl 1. comparison differ cognit architectures. note act-r engin cram ss-rics. cram ss-ric act-r soar main orienta- tion robot robot cognit cognit symbol rea- sone simpl simpl complet complet low-level control integr integr middl complex complex implement underli structur - - complex easi understanding/debug program complex complex complex complex simpl & eleg underli ar- chitectur act-r act-r - - program learnabl - - easi & scalabl complex comparison differ mention cognit architectur shown tabl 1. clear differ act-r soar, abil work low-level control task usability. fact, act-r easier learn, complex understand debug soar. cram ss-ric discard moment main purpos reason sub-symbol level, us let robot choos trajectori arm grasp action, scope work. soar final select act-r simplic avail documentation. 2.4.2. soar reason modul soar modul charg determin skill execut order achiev compiled-goal. loop insid soar select skill push reem step closer goal. time skill selected, petit sent action node execut correspond action. time skill execut finished, soar select new one. soar select skill goal accomplished. set skill robot activ encod list operators. hence, possibl action: rule propos operator, correspond attributes; rule send command output-link oper accepted; rules, depend command response, gener necessari chang world. given natur soar architecture, propos treat time compar term preferences. propos better others, oper execut new deliber phase begin new avail data. import know rule match condit treat fire time, parallel. sequenti order (wintermut et al. (2007)). goal list goal sent soar world represent created. soar requir updat world state order produc decision. world state updat skill execut order robot interact world. world chang either, robot june 24, 2014 connect scienc output connect scienc 7 exist agents. chang world robot action directli reflect result skill execut robot world view. chang world agents, robot fail execut current skill, provok execut skill tri solv impass (for example, go place coke find coke anymore, trigger search object skill figur coke is). hence, resolv action, object return soar modul describ success/failur action relev chang provoked. inform chang current knowledg robot. instance, robot detect beer bottl skill grasp it, send command grasp.item = beer bottle, action respons resolv succeed abort messag interpret soar robot.object = beer bottle. example, experimentation, differ skill implemented. rule check loop step 77. happen plan achiev goal. situat soar implement mechan solv them: sub-goal capac (laird et al. (1987)), allow robot wai impass avail current action order achiev desir state. case robot decid best action current situat avail knowledg distinct preference. chunk abil (how young (1997); laird et al. (1987); soartechnol- ogi (2002)), allow product new rule help robot adapt new situat and, given small set primit actions, execut featur specif goal face before. reinforc learn (nason laird (2005)), previou features, help robot learn perform maintain goal keep room clean learn us user-defin heurist order achieve, good result like chunking, near-optim performances. mechan activ approach. us rein- forcement learn analys futur work. mechan special import thank them, robot abl find wai reachabl goal current skill robot. moreover, chunk make decis easier robot face earli experienc similar situations. strength allow robot adapt new goal situat program either, defin goal admit expans capabl simpli defin new skill. 2.5. action node modul action node ro softwar elements. modular piec softwar implement perform robot abilities, defin soar modul possibl skills. time soar propos skill performed, call action node charg skill. action node executed, provid feedback soar success failure. feedback captur interfac sent soar order updat current state world. set skill implement associ action describ tabl 2. june 24, 2014 connect scienc output 8 jordi-ysard puigbo et al. tabl 2. tabl skill avail robot associ actions. skill action navig locat introduc talk follow person follow specif person search object look object search person look area grasp object grasp specif object deliv object deliv object person place memor person learn person face store exit apart look nearest exit exit area recogn person check person known retriev point object point locat specif object (a) reem humanoid robot experiments. (b) reem head kinect sensor in- clude figur 2. robot platform reem. 3. robot platform: reem reem robot platform test develop (see figur 2). 22 degre freedom humanoid servic robot creat pal robotics, weight 90 autonomi 8 hours. reem control oroco real time oper ro skill depletion. abilities, recogn grasp objects, detect faces, follow person clean room object belong it. order includ robust grasp gestur detection, kinect sensor headset head ad commerci version. robot equip core 2 duo atom computer, provid comput power requir perform task control. therefore, algorithm requir plan perform abil execut insid robot. june 24, 2014 connect scienc output connect scienc 9 figur 3. reem robot experiment environ mimic home. 4. experiment result architectur test environ mimic leagu gpsr test1 (see figur 3). test, robot listen differ type command increas difficulty, execut requir action (skills) accomplish command. implementation, categori tested, describ section 2.2. test involv provid robot spoken command, check robot abl perform requir action complet goal. exampl sentenc robot test (among others) are: categori i. complet sentences. kitchen, coke grasp sequenc action perform robot: understand command, kitchen, search coke, grasp coke reception, person introduc sequenc action perform robot: understand command, reception, search person, person, introduc closest person, introduc follow person sequenc action perform robot: search person, person, introduc yourself, follow person categori ii. sentenc miss information. point seat sequenc action perform robot: understand command, ask ques- tions, acknowledg information, location, search seating, point seat carri snack tabl sequenc action perform robot: understand command, ask ques- tions, acknowledg information, location, search snack, grasp snack, table, deliv snack bring drink (see figur 4) sequenc action perform robot: understand command, ask ques- tion drink, acknowledg information, location, search energi drink, grasp energi drink, origin, deliv energi drink rule regul june 24, 2014 connect scienc output 10 jordi-ysard puigbo et al. figur 4. sequenc action reem robot solv command bring drink: listen command, request miss inform acknowledg command, kitchen, look objects, detect energi drink, grasp energi drink, return master, deliv energi drink. present paper ensur action propos lead goal, robot solution, guarante lead optim one. complex tasks, robot face ambigu situat soar resolv ti best action perform. soar cognit architecture, usual subgoal resolv best evid best action, ti resolv random. instance, situations, robot move locat correct one, move second action step correct one. however, complet task guarante architectur continu provid step goal accomplished. 4.1. includ new goal main featur soar base easi solv new goal have encod new plans. implement soar includ represent desir state world. desir state compil output semant extract module, process compar real desir state world detect goal fulfilled. simpl fact ad soar new desir state world, us avail skill order closer new goal. addit new desir state world achiev follow steps: (1) all, grammar automat speech recognit se- mantic extractor updated. step requir order robot understand new goal identifi action per- formed. grammar updat ad word list verb defin grammar. (2) second step, world state new goal defined. goal compil sub-modul charg produc goal format un- derstand soar receiv parsed-command. consequently, modul updat ad new goal new desir june 24, 2014 connect scienc output connect scienc 11 state world goal compiler. example, robot provid new goal accomplished, kitchen table. purpos example, initi state world modifi includ exist kitchen tabl marmalad jar it. new locat name trash bin defin robot navig map. locat robot deliv object remov table. follow provid example, step complet are: (1) add word list verb defin grammar; (2) add goal compil new goal name defin goal world state object locat given location. step completed, robot ask clean table. sequenc action perform robot following: kitchen table, search objects, grasp marmalade, trash bin, deliv marmalade. therefore, new goal clean tabl achiev skill endow robot (go to, search, grasp, etc). sum up, clear now, architectur flexibl compil new goal have encod new plan new skill perform minor updates. 4.2. robot agnost introduc architectur robot agnost provid skill requir implement robot architectur go used. mean architectur robot chang architecture. requir skill robot provid appropri input output expect format architecture. fact, speech recognit skill provid heard sentence, semant extractor reason interfac (a defin figur 1) depend particular aspect robot architecture. actual call action node robot dependent, is, call differ skill robots. architectur go robot, requir skill implement things: (1) abil robot perform requir skill (for example, allow robot grasp, recogn speech). (2) proper interfac skill call cognit architecture. interfac implement standard ros-action-serv interface. 5. conclus research cognit architectur base soar introduc control gener purpos servic robots. architectur allow command commer- cial humanoid robot (the pal robot reem robot experimentation) perform task combin skills. kei issue, basic skill combin order solv task specified. approach avoid ai plan classic sens us instead cogni- tive approach (soar) base solv current situat face robot. solv current situat skill skill robot final reach goal june 24, 2014 connect scienc output 12 refer (if reachable). given goal set skills, soar gener necessari step fulfil goal skill (or try reach goal). hence, said easili adapt new goals, effortlessly. origin soar architectur detect goal request robot reachabl not. not, soar try reach it, send skill activ robot forever. implementation, set goal ask robot restrict speech recognit system. ensur accept vocal command reachabl soar execution. architectur complet robot agnostic. adapt robot provid skill exist robot ad interface. moreover, ad remov skill simpl defin outcomes, seen section 4.1. featur make architectur extrem adapt easi implement robot. current implement improv term robust solv known issues. firstly, action complet achiev (for example, robot abl reach posit space occupied, robot object it), skill activ fail. however, current implement robot mean discov reason failure. robot detect state world changed, select action (retry) goal accomplishment. behaviour lead infinit loop retries. second issu refer lack architectur solv command error sentenc encount (categori iii gpsr test). futur version architectur includ featur includ semant relat ontolog like wordnet (miller (1995)) verbnet (palmer et al. (2006)), make servic robot robust general. preliminari experi realist environments. observ limit factor hardware, control algorithm speech recognit natur language. high- level control virtual allow fulfil order encod goal, current robot present sever difficulti achiev robust basic skills. make scalabl far now. this, solv aforement robust issues, know abil solv new tasks, necessari step allow scalabl real environ kind robot. addit allow robot evalu achiev provid task and, doesnt guarante robot perform desired, report user problem solv means. acknowledg work possibl thank support pal robot member team (the team). research partli support patricia research project (tin2012-38416-c03-01), fund spanish ministri economi competitiveness. refer john r. anderson. act. simpl theori complex cognition. american psychologist, 51(4):355365, 1996. june 24, 2014 connect scienc output refer 13 michael beetz, lorenz mosenlechner, moritz tenorth. cram cognit robot abstract machin everydai manipul human environments. intern confer intellig robot system (iros), page 10121017, 2010. michael beetz, ulrich klank, ingo kresse, alexi maldonado, lorenz mosenlechner, dejan pangercic, thoma ruhr, moritz tenorth. robot roommat mak- ing pancakes. 11th ieee-ra intern confer humanoid robots, page 529 536, 2011. steven bird. nltk : natur languag toolkit. proceed acl workshop effect tool methodolog teach natur languag process comput linguistics., page 14, 2005. xiaop chen, jianmin ji, jiehui jiang, guoqiang jin, feng wang, jiongkun xie. develop high-level cognit function servic robots. proceed- ing 9th intern confer autonom agent multiag systems: volum 1 - volum 1, aama 10, page 989996, 2010. tama haidegger, marco barreto, paulo goncalves, maki k. habib, sampath kumar veera ragavan, howard li, alberto vaccarella, roberta perrone, edson prestes. appli ontolog standard servic robots. robot autonom systems, 61(11):12151223, novemb 2013. . johan hall. maltpars architectur induct label depend parsing. technic report 06050, vaxjo university, school mathemat system engineering, 2006. scott d. hanford. cognit robot base soar cognit archi- tectur mobil robot navigation, search, map missions. phd thesis, univers park, pa, usa, 2011. aai3501001. andrew how richard m. young. role cognit architectur model user: soar learn mechanism. human-comput interaction, 12(4):311343, 1997. randolph m. jones. introduct cognit architectur model simulation. proceed interservice/industri training, simul educ conference. i/itsec, 2004. troi dale kelley. develop psycholog inspir cognit architectur robot control : symbol subsymbol robot intellig control system. intern journal advanc robot systems, 3(3):219222, 2006. dan klein christoph d. manning. accur unlexic parsing. acl 03 proceed 41st annual meet associ comput linguistics, 1:423430, 2003. john e. laird robert e. wrai iii. cognit architectur requir achiev agi. proceed confer artifici gener intelligence, 2010. john e. laird, allen newell, paul s. rosenbloom. soar: architectur gener intelligence. artifici intelligence, 33(1):164, septemb 1987. john e laird, keegan r kinkade, shiwali mohan, joseph z xu. cognit robot soar cognit architecture. proc. 6th int. conf.on cognit modelling, page 226230, 2004. pat langley, john e. laird, seth rogers. cognit architectures: research issu challenges. cognit system research, 10(2):141160, june 2009. . georg a. miller. wordnet: lexic databas english. commun acm, 38(11):3941, 1995. shellei nason john e. laird. soar-rl: integr reinforc learn soar. cognit system research, 6(1):5159, 2005. martha palmer, karin kipper, anna korhonen, nevil ryant. extens clas- june 24, 2014 connect scienc output 14 refer sific english verbs. proceed 12th euralex intern congress, page 115, 2006. jordan b. pollack. wing knowledge: review allen newel unifi theori cognition. artifici intelligence, 59:355369, 1993. mosur k. ravishankar. effici algorithm speech recognition. phd the- sis, school science, carnegi mellon university, pittsburgh, 1996. avail cmu cs tech report cmu-cs-96-143. stuart j. russel peter norvig. artifici intelligence: modern approach. pearson education, 2 edition, 2003. isbn 0137903952. soartechnology. soar: function approach gener intelligence. technic report, 2002. terrenc c. stewart robert l. west. deconstruct act-r. proceed seventh intern confer cognit modeling, page 298303, 2006. changyun wei koen v. hindriks. agent-bas cognit robot architec- ture. program multi-ag system (promas) workshop affili aama 2012, page 5568, valencia, spain, 2013. samuel wintermute, joseph z. xu, john e. laird. sorts: human-level approach real-tim strategi ai. proceed artifici intel- ligenc interact digit entertain conference, aiide, page 5560, 2007.