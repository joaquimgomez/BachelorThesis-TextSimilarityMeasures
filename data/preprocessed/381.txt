1 time domain simul coupl sloshingseakeep problem sphfem coupl .
b. servn-camas1 , * , j.l .
cercs-pita2 , j. colom-cobb1 , j. garca-espinosa1,3 , a. souto-iglesias2 1 centr internacion de metod numer en enginyeria ( cimn ) , http : //www.cimne.upc.edu 2 cehinav res .
gr. , dmfpa , etsin , technic univers madrid ( upm ) 3 universitat politecnica de catalunya , barcelonatech ( upc ) , barcelona , spain * correspond author : bservan @ cimne.upc.edu , phone : +34-934054627 keyword : seakeep , slosh , coupl , sph , fem , lng abstract aim work carri numer simul time domain seakeep problem take account intern flow tank , includ slosh .
aim , smooth particl hydrodynam ( sph ) solver simul intern flow tank coupl time domain finit element method ( fem ) diffractionradi solver develop seakeep problem .
valid carri compar avail experiment data .
good agreement obtain numer result experiment data found .
1 .
introduct seri marin oper and/or navig condit coupl intern flow tank seakeep dynam crucial configur global dynam respons vessel .
assess coupl effect may thus extrem import order estim viabil certain oper well risk associ specif load condit navig .
navig condit and/or oper includ : carri offshor vessel , equip anti-rol tank , common oil & gas industri , consist deploy pipe system , cabl , drill equip , etc .
( see e.g .
neve et al. , 2009 ) ; refer offload oil liquefi natur gas ( lng ) float product storag offload ( fpso ) platform , bunker vessel float lng ( flng ) shuttl , regular vessel lng carrier , respect , side-by-sid configur ( see e.g .
watai et al. , 2015 ) ; transport partial fill tank lng storag flng tank ( see zhao et al. , 2011 , review flng vessel hydrodynam ) .
http : //www.cimne.upc.edu/ mailto : bservan @ cimne.upc.edu , phone https : //en.wikipedia.org/wiki/floating_production_storage_and_offload https : //en.wikipedia.org/wiki/floating_production_storage_and_offload 2 due larg econom cost much larger penalti case unexpect problem , plan mention oper definit fill level threshold tank , requir deep understand coupl dynam vessel intern flow .
order achiev understand import notic extern dynam usual resolv relat larg time scale , intern dynam may incorpor violent slosh flow , requir resolv complex free-surfac dynam much shorter time scale .
addit , wave excit present , low wave amplitud , motion usual linear amplitud frequenc moder larg wave amplitud , respons extrem nonlinear .
reason , order simultan resolv seakeep intern flow dynam , differ type solver typic use .
instanc , zhao et al .
( 2014a ) use frequenc domain linear boundari element method ( bem ) approach obtain hydrodynam coeffici wave forc , coupl timedomain nonlinear potenti solver intern dynam .
anoth exampl common cite refer kim et al .
( 2007 ) also resort frequenc domain calcul resolv intern flow model euler equat , finit differ scheme .
techniqu ship motion li et al .
( 2012 ) solv intern flow widespread use open-sourc volum fluid ( vof ) base solver openfoam .
regard numer method tradit adopt seakeep simul , boundari element method ( bem ) domin other like finit element method ( fem ) .
might find reason fact comput effort spent solv laplac equat .
might look like bem offer lower comput effort .
howev , cai et al .
( 1998 ) carri heurist studi regard comput effort requir solv laplac equat bem fem .
studi conclud similar three-dimension problem discret size , number unknown bem fem ( n2 ) ( n3 ) , respect , n number unknown need one dimens achiev desir discret .
comput cost ( n4 ) ( n3 ) respect .
therefor , bem might effici problem low number unknown , fem becom effici respect bem number unknown increas .
consid comput capabl continu increas , complex problem undertaken , number unknown requir .
henc fem becom effici bem .
3 timedomain diffractionradi solver base finit element method ( fem ) previous use ( see yan , 2009 , servn-cama garca-espinosa , 2013 ) .
capabl natur incorpor non-linear larger timedomain solver base frequenc domain pre-calcul one use kim et al .
( 2007 ) , li et al .
( 2012 ) , zhao et al .
( 2014a ) .
solver success use coupl moor model ( yan , 2009 ) , side-by-sid ( yan , 2011 ) even multi-bodi configur ( servn-cama garca-espinosa , 2013 ) .
fem base solver , howev , author  knowledg , yet use model coupl slosh ship motion .
due onset violent slosh , intern dynam extrem complex therefor comput expens resolv .
context , smooth particl hydrodynam ( sph ) solver competit option sinc , one hand , abl cope extrem non-linear fragment free-surfac flow , hand , easili parallel cost competit graphic card process unit .
sph solver success use past solv coupl dynam singl degre freedom angular motion coupl slosh problem ( bouscass et al. , 2014a , 2014b , bulian et al. , 2010 ) parallel gpus subject signific recent attent ( see e.g .
crespo et al .
2011 ; domingu et al .
2013 ; herault et al .
2010 ; nishiura et al .
2015 ) .
paper , intern flow dynam solv use aquagpusph ( cercs-pita , 2015 ) seakeep dynam solv seafem ( servn-cama garca-espinosa , 2013 ) .
solver , aquagpusph seafem , develop author .
paper organ follow : section 2 introduc intern flow wave diffract radiat solver ; section 3 describ rigid bodi dynam solver ; section 4 focus detail coupl algorithm , well communic solver ; section 5 present valid studi compar result obtain work experiment data avail three differ case scenario ; final , section 6 provid conclus work .
2 .
intern flow seakeep solver let  mention seakeep intern flow solver independ develop , compil , distribut softwar .
one hand , seakeep solver seafem , potenti fem time domain suit tool seakeep simul [ 1 ] develop intern center numer method engin ( cimn ) [ 2 ] , collabor compassi [ 1 ] .
4 hand , intern flow solver aquagpusph , open-sourc 3d sph solver , acceler opencl order run gpus , develop model basin research group [ 3 ] technic univers madrid .
2.1 .
intern flow solver : aquagpusph 2.1.1 .
general .
aquagpusph ( cercs-pita , 2015 ) recent releas free 3d sph solver , licens gplv3 , acceler opencl .
aquagpusph sourc code along develop ' document , galleri imag , video , valid case news blog , avail download [ 4 ] .
aquagpusph valid thorough document cercs-pita ( 2015 ) , use model slosh flow insid lead-cool fast nuclear reactor earthquak , focus evalu load caus fluid structur .
cercs-pita ( 2015 ) solver valid regard fluid load wall ( emphasi pressur load ) dam-break flow tld case work canon represent anti-rol tank ( bouscass et al. , 2014a , 2014b ; bulian et al. , 2010 ) .
intern solver also use simul influenc anti-rol tank nonlinear ship motion solver base pre-calcul ( frequenc domain ) diffract forc ( cercos-pita et al. , 2016 , 2016b ) .
2.1.2 .
sph method .
sph meshless numer method develop seventi first appli nineti free-surfac flow ( monaghan , 1994 ) , base follow convolut integr :  (  )  = 1  (  )   (  )  ( |  | ,  )   ( 1 )  scalar vectori function ,  even kernel function ( specif applic quintic wendland function consid ) ,  fluid domain ,  (  ) renorm factor :  (  ) =   ( |  | ,  )   ( 2 ) convolut integr appli generic differenti oper  , 5  (  )  = 1  (  )   (  )  ( |  | ,  )   ( 3 )  (  )  general unknown .
howev , expand express appli diverg theorem differenti oper conveni move kernel function :  (  )  = 1  (  ) (   (  )   (    ,  )   +   (  )   (  )  ( |  | ,  )   ) ( 4 ) previous equat  outward orient normal boundari .
tradit renorm factor  (  ) first integr ( call boundari integr ) neglect usag fluid extens enforc boundari condit .
howev , recent year , possibl keep term attract interest research ( see cercos- pita , 2015 ; ferrand et al. , 2013 ; maci et al. , 2012 ) , , matter fact , retain present implement .
henc , sph convolut ( eq .
( 1 ) ) allow evalu differenti oper use alreadi known field valu .
practic purpos , integr eq .
( 4 ) numer evalu discret fluid domain set particl , transport flow properti lagrangian framework .
end , generic particl , differenti volum comput  = / ,  constant mass particl ,  densiti .
therefor , discret version oper read :  =  1  (  b    ( b   ,  )   +  b    ( |  | ,  )  ) ( 5 )  area generic boundari element  .
2.1.3 .
govern equat .
methodolog describ appli navierstok equat weak compress lagrangian formul :   =   ( 6 )   =     + 1    +  ( 7 )   =  ( 8 ) pa = 0 20  ( (  0 )   1 ) ( 9 ) 6  veloc generic materi particl ,  graviti forc , 0 0 densiti speed sound fluid respect ,  incompress factor ,  stress tensor .
2.1.4 .
discret .
conserv consist reason ( see colagrossi et al. , 2009 , 2011 , 2013 ) , differenti oper direct approxim use equat eq .
( 5 ) , conveni symmetr .
specif , approxim differenti oper practis work read follow :   = 1  (  ( b   )    +  ( b   )    ) ( 10 )    = 1  (  (   2 +   2 )   +  (   2 +   2 )   ) ( 11 ) 1    =   ( b   )  ( b   ) |b  | 2   ( 12 ) although turbul model use , colagrossi et al .
( 2011 , 2013 , 2015 ) bouscass et al .
( 2014 , b ) show sph model fair accur turbul dissip kind free-surfac flow , even presenc wave break .
matter fact , bouscass et al .
( 2014 , b ) use capabl model sph coupl slosh angular motion problem .
2.1.5 .
boundari condit .
regard boundari condit , consid neglig effect boundari layer kind slosh flow , free-slip boundari condit impos .
aim , boundari integr , first introduc campbel ( 1989 ) , formal later kulasegaram et al .
( 2003 ) , de leff et al .
( 2009 ) , ferrand et al .
( 2013 ) maci et al .
( 2012 ) use .
method base contour integr present eq .
( 4 ) discret equat ( 10 ) - ( 11 ) .
sinc free slip condit impos , boundari affect viscous term comput includ eq .
( 12 ) .
use techniqu , geometr boundari discret flat area element whose typic size inter-particl distanc .
main advantag techniqu ( see cercos- pita , 2015 ) : 1 .
effici memori consumpt comput time .
7 2 .
abl deal complex geometri .
3 .
fulli consist mani neighbor limit ; contrari boundari techniqu ghost fluid ( see maci et al. , 2012 detail ) .
2.1.6 .
numer aspect .
pure explicit numer scheme present , correspond weakly- compress formul ( monaghan , 1994 ) , may lead numer instabl unless either extrem small time step , addit diffus , use .
consid , -sph diffus term use work ( see antuono et al .
2012 , 2015 ) , includ equat ( 10 )   = 1  (  ( b   )    +  ( b   )    ) + 0  .
( 13 ) diffus term incorpor non-dimension coeffici  whose valu taken 0.2 , optim one discuss antuono et al .
( 2012 ) .
factor   approxim second deriv densiti field use follow express   =   ( b   )   ( b   ) 2     .
( 14 ) differ formul factor  avail literatur .
one chosen antuono et al .
( 2012 ) , preserv mass conserv exact hydrostat field .
regard time integr scheme , souto et al .
( 2006 ) discuss detail modifi predictor- corrector , second order space first order veloc densiti , use present studi .
time step chosen consid courant condit pressur wave propag ( restrict problem ) fulfil , name   = 0.25  0 ( 15 ) 2.1.7 .
code acceler parallel .
aquagpusph code add exist free graphic processor unit ( gpu ) acceler altern , name comput unifi devic architectur ( cuda ) base gpusph ( herault et al. , 2010 ) dualsphys ( crespo et al. , 2011 ) .
perform comparison solver provid cercs-pita ( 2015 ) .
main differ implement includ : first , aquagpusph acceler parallel opencl .
second , common use boundari condit scheme implement , includ boundari integr use present studi ( maci , 8 2012 ) .
third , aquagpusph python extens , allow custom coupl solid bodi motion .
key featur led use opencl instead altern like cuda , openmp mpi ( success use sph implement ) , summar follow list : ( 1 ) hardwar diversif : opencl restrict gpus , cpus , ibm cell architectur , abl deal .
featur must taken consider framework select , architectur may best one , also opencl like easier adapt new architectur creat futur .
sph develop requir 3 differ version softwar : serial cpu version , parallel cpu version cuda base version gpus .
opencl standard , uniqu version code cover version , moreov , simultan , allow use gpus cpus simul .
( 2 ) high moddabl applic : opencl base glsl work method , code execut comput devic load compil run time , allow reli extern file .
2.2 .
potenti flow solver seakeep solver includ rigid bodi dynam solver wave diffractionradi solver .
rigid bodi dynam solver describ follow section detail coupl aquagpusph .
regard wave diffractionradi solver , consid wave problem govern potenti flow theori :  = 0   incompress irrot flow , ( 16 )   +  x   +  y     z = 0   = free surfac kinemat boundari condit , ( 17 )  t + 1 2    +  = 0   = free surfac dynam boundari condit , ( 18 )    +    = 0  p  bodi boundari condit , ( 19 )  z = 0   =  bottom boundari condit , ( 20 )  veloc potenti ,  free surfac elev ,  fluid domain , b repres wet surfac present bodi ,  repres local bodi veloc 9 bodi surfac ,  veloc induc  ,  normal vector  , h water depth .
pressur given point p  =     1 2      pressur point p. ( 21 ) appli taylor seri expans free surfac boundari condit around  = 0 , introduc stoke  perturb solut  = 1 + 2 +   = 1 + 2 +  , retain first order term , first order wave problem govern 1 = 0   , ( 22 )  1   1 z = 0   = 0 , ( 23 ) 1 t +  1 = 0   = 0 , ( 24 )  1   0 +  1   0 = 0     0 , ( 25 ) 1 z = 0   = h , ( 26 ) pressur given point p  1 =  1    pressur point p. ( 27 ) point , superscript  1  omit sinc first order approach discuss .
next , solut decompos  =  +   =+  ,   incid wave veloc potenti free surfac elev respect , fulfil  = 0   , ( 28 )     z = 0   = 0 , ( 29 )  t +  = 0   = 0 , ( 30 )  z = 0   = h .
( 31 ) henc incid wave describ well solut eq .
( 36 ) - ( 40 ) :  =    cosh ( || ( + ) ) cosh ( || ) sin (    +  )  , ( 32 )  =   cos (    +  )  , ( 33 )  = 2  ( cos (  ) , sin (  ) ) ,  wave length ,  wave direct propag ,  wave frequenc ,  phase delay .
follow dispers relat hold : 10  2 = || tanh ( || ) , ( 34 ) fluid pressur induc incid wave point p given  =   cosh ( || ( + ) ) cosh ( || ) cos (    +  )  .
( 35 )   diffractionradi veloc potenti free surfac elev respect .
, first order wave diffractionradi govern follow equat : 2 = 0  , ( 36 ) tt +   = 0  = 0 , ( 37 )  = 0  =  , ( 38 )    = (    )    , ( 39 )  =  1 g t  = 0 .
( 40 ) pressur induc point p  =      pressur point p. ( 41 ) previous equat , domain assum infinit horizont direct .
howev , infinit domain consid numer point view .
sinc wave repres  born bodi propag direct away bodi , wave either dissip let go domain come back interact bodi .
, sommerfeld radiat condit edg comput domain use : t +    = 0  ( 42 ) r surfac limit domain horizont direct , cr prescrib wave phase veloc ,  normal vector r .
numer scheme use eq .
( 42 ) follow : +1    =  (  ) +    ( 43 )  calcul phase veloc wave smaller frequenc ( larger wave ) .
eq .
( 42 ) let wave phase veloc  escap domain .
howev , wave differ phase veloc ( shorter wave ) leav domain .
, wave dissip insert dynam free surfac boundari condit vari pressur free surfac pn+1/ = pa/ + (  ) ( z ) +1 ( 44 ) 11  (  ) damp coeffici set zero near field around bodi ( dissip ) , increas gradual , start given distanc bodi , order dissip wave diffract radiat bodi .
associ matrix form former govern equat use fem  = b + z0 + zh + r ( 45 )  standard laplacian matrix , b , z0 , zh r vector obtain integr correspond boundari condit  ,  = 0 ,  =  ,  .
fourth order pad scheme use integr free surfac boundari condit , fourth order finit differ use kinemat boundari condit : +1  2 + 1  =    1 12 (  +1  2  +  1 ) ( 46 ) +1 = 1  ( 25 12 +1  4 + 31  4 3 2 + 1 4 3 ) ( 47 ) time step  obtain base follow stabil criteria : 2/ <  ;  minimum length vertic direct free surfac discret element ,  stabil limit order 1 , depend discret use .
numer detail regard bodi dynam wave diffractionradi solver found servn-cama garca-espinosa ( 2013 ) .
3 .
bodi dynam problem assumpt small rotat , usual assumpt seakeep problem , bodi dynam float devic describ equat motion ( use frame refer origin graviti center bodi ) : m = ext ( 48 ) m bodi mass matrix ,  bodi acceler vector , ext total extern forc moment vector .
inertia , extern load , includ hydrodynam , hydrostat , wave , come intern flow calcul , includ ext .
, eq .
( 48 ) solv use n implicit newark  averag acceler method .
ext introduc straightforward bodi dynam solver .
henc , bodi dynam solver account non-linear generat intern flow calcul , among other could consid .
12 dynam solver integr diffractionradi solver packag use calcul action wave load float bodi .
, sinc bodi dynam solver implicit non-linear , requir iter order achiev converg within time step .
shown figur 1 , two iter loop within time step .
 bodi posit vector ,  bodi veloc vector ,  bodi acceler vector , 0 extern forc hydrodynam load , h hydrodynam load , sph intern tank vector forc moment comput sph solver .
regard superscript ,  n  repres current time step ,  k  repres k-th iter solver loop ,  l  repres l-th iter bodi dynam loop .
figur 1 : bodi dynam solver algorithm includ load intern flow solver .
13 one hand , outer loop iter hydrodynam solver obtain diffractionradi problem .
hand , inner loop iter bodi dynam solver updat load act bodi dynam .
look figur 1 , observ diffractionradi problem bodi dynam solv within time march loop , henc time step use solver .
regard sph solver , requir smaller time step , exchang data bodi dynam solver carri per time step .
regard bodi dynam equat ,  bossak-newmark  averag acceler method implement ( wood et al. , 2005 ) .
iter procedur inner loop requir relax scheme ensur converg .
aitken method use relax bodi acceler aim acceler converg iter algorithm ( iron tuck , 1969 ) .
let  standard differ oper , l iter counter , result algorithm bodi dynam loop written : ( ) set iter  = 1 .
( b ) comput forc moment act bodi : ext ,  = ext ( r ,  ) .
( c ) solv : ( 1  ) m+1 +mtt = ext ,  .
( ) comput relax factor : +1 = 1   [ 1  ( r ,  r , +1 ) r , +1 ( r ,  r , +1 ) 2 ] .
( e ) relax step : r , +1 = (   +1 )  + +1 .
( f ) check converg .
reach advanc iter  =  + 1 go ( b ) .
4 .
coupl scheme 4.1 .
communic issu seakeep intern flow solver use work independ develop , compil , distribut softwar .
therefor , develop implement communic strategi key point work .
general idea design coupl scheme trivial : bodi movement calcul seakeep solver sent intern flow solver forc moment evalu sent back seakeep solver .
exchang data , seakeep solver tcl interfac , allow execut tcl script access differ intern data structur solver calcul process .
14 part , intern flow solver includ python-bas interfac , develop interchang data extern sourc .
order implement communic scheme , tcl script [ 5 ] built , respons communic two program .
script interpret execut seakeep solver communic differ instanc intern flow solver .
figur 2 explain communic scheme use .
exchang data carri respect instantan refer system .
tabl 1 2 show data sent seakeep solver intern flow solver vice versa .
instantan refer system time=t , r ( ) xtytzt , defin r ( 0 ) x0y0z0 coincid global refer system oxyz , r ( ) describ trajectori point rigid bodi locat initi origin global system , axe xtytzt parallel global axe .
understand refer system use , simpl rigid bodi movement present figur 3 show displac rotat .
tabl 1 : data sent seakeep solver intern flow solver elaps simul time time-step r ( ) = ( xr ( ) , yr ( ) ; zr ( ) ) coordin bodi refer point r refer global system oxyz  ( ) = ( x ( ) , y ( ) ; z ( ) ) rotat angl refer global system oxyz bodi vr ( ) = ( vx ( ) , vy ( ) ; vz ( ) ) linear veloc bodi refer point r refer global system oxyz  ( ) = ( x ( ) , y ( ) ; z ( ) ) angular veloc bodi refer global system oxyz tabl 2 : data sent intern flow solver seakeep solver f ( ) = ( fx ( ) , fy ( ) ; fz ( ) ) intern flow forc refer global system oxyz ( ) = ( mx ( ) , ( ) ; mz ( ) ) intern flow moment refer global system oxyz 15 seafem aquagpusph execut tcl interfac python script seafem initi structur batch file execut initi script b c h f il e h r u n f q u g p u p h e f e c lls c l p ro ce ss ia li za ti n c l ia liz ti n p ro ce ss tcl  initi process  call : connect aquagpusph wait seafem connect p h n n ia li za ti n cr ip send aquagpusph tank mesh data ( number particl , densiti , viscos , numer paramet ,  ) .
receiv tank mesh data ( number particl , densiti , viscos , numer paramet ,  ) client .
tcl wait generat input file necessari aquagpusph particl file fluid data file .
generat necessari variabl use throughout calcul .
close python initi script tcl wait batch file execut aquagpusph generat input file .
aquagpusph call python script use defin problem .
connect aquagpusph  main program use communic seafem .
end  initi process  return seafem execut .
wait seafem connect aquagpusph p h n p ro g ra cr ip seafem end initi start time-loop .
python wait e f e im e lo p e f e n e e e xt e rn l fo rc e fr q u g p u sp h .
c c l  ta rt te p  p ro ce ss c l ta rt te p p ro ce ss tcl wait aquagpusph use receiv movement t=n calcul t=n-1 t=n .
q u g p u sp h im e lo p tcl get forc t=n aquagpusph send seafem tcl interfac forc t=n .
( t=0 , send hydrostat forc ) .
tcl send seafem extern forc .
end  start step process  python wait seafem extrapol load t=n+1 use bodi dynam solver obtain bodi movement t=n+1 e f e c lls c l  e n te p  p ro ce ss e n e n ts q u g p u sp h c l e n te p p ro ce ss tcl get movement t=n+1 seafem tcl send movement aquagpusph .
end  end step process  python receiv movement t=n+1 .
e f e e n th e im e lo p n f h e p ro b le b ls c g h e c l  e n p ro b le  p ro ce ss c l e n p ro b le p ro ce ss tcl communic aquagpusph problem finish finish calcul .
tcl shut connect aquagpusph aquagpusph receiv communic seafem end proceed stop calcul .
figur 2 : communic scheme .
16 figur 3 : rigid bodi movement refer system .
4.2 .
coupl algorithm key point work coupl two solver carri .
aforement , solver run time domain .
therefor , coupl base exchang data tabl 1 2 specif time step run .
time step requir sph solver ( tsph ) stabil criteria usual order 10 1000 time smaller time step use seakeep solver ( tfem ) , depend case studi , grid resolut number particl .
, explicit stagger approach select adequ coupl solver .
scheme summar next : 1 .
load calcul intern flow solver  =  sent seakeep solver .
2 .
seakeep solver extrapol load intern flow solver  = (  + 1 )  use five point lagrang polynomi .
3 .
seakeep solver calcul movement  = (  + 1 )  .
4 .
seakeep solver send movement intern flow solver  = (  + 1 )   .
5 .
intern flow solver run  =   = (  + 1 )  interpol bodi movement sent seakeep solver  (  + 1 )  .
17 figur 4 provid detail coupl algorithm implement seakeep intern flow solver ,   forc moment sent seakeep solver respect ,   extrapol forc moment respect ,   linear angular movement intern tank respect ,   linear angular veloc intern tank respect .
figur 1 also show extern forc moment introduc bodi dynam solver begin time step , movement sent sph solver dynam solver converg .
figur 4 : intern flow-seakeep coupl algorithm .
18 5 .
valid 5.1 .
barg water tank .
5.1.1 .
case descript order valid present coupl intern flow-seakeep solver , experiment result obtain molin et al .
( 2002 ) use compar .
experi consist studi seakeep respons barge-lik ship , tank extend relat larg part model .
two tank next mid-ship whose transvers dimens close model breadth .
figur 5 show barg layout tank figur 6 show unstructur mesh use seakeep solver present case studi .
mesh size float line 2.5 cm , total 236,144 tetrahedr element use .
figur 5 : barg tank .
19 figur 6 : fem mesh .
5.1.2 case 1 : water level tank .
first case studi analyz water level 19cm tank .
achiev target draft 10.8cm , addit mass 40kg ad deck barg .
tabl 3 provid particular barg includ addit mass .
roll valu provid molin et al .
( 2002 ) .
numer simul carri free sway , heav roll order better approxim experi .
sinc tank fill water level , movement occur oyz plane , one tank simul second assum behav equal .
figur 7 repres experiment result case studi tank fill water level ( 19 cm ) .
roll rao experi obtain via spectral analysi irregular motion test .
wave spectrum use jonswap particular provid tabl 4 .
20 tabl 3 : barg main particular includ addit mass 40kg deck .
length 3 breath 1 target draft 0.108 displac 275kg xg 0 yg 0 zg 0.14 radii gyrat respect g : rxx 0.3704 figur 7 : experiment result obtain molin et al .
( 2002 ) [ 34 ] .
tabl 4 : jonswap spectrum use experi .
peak enhanc factor  2 signific wave height hs 6.6 cm peak period tp 1.6 21 5.1.2.1 monochromat wave test first , calibr roll damp account viscous effect carri .
monochromat test wave amplitud 2 cm wave frequenc  = 4.026 rad/ , first reson appear .
test carri 105 particl found 11 % critic roll damp necessari reproduc rao valu experi , larger 8 % critic damp ludvigsen et al .
( 2013 ) .
second , sever test carri check effect increas number particl sph solver .
select wave frequenc  = 5.984 rad/ , correspond second reson frequenc figur 7 .
case simul includ damp factor c = 0.114ixxk44 , ixx roll inertia system barg plus weight , k44 roll hydrostat restor coeffici .
tabl 5 provid roll amplitud obtain case .
amplif factor converg , slowli , valu 2.7 .
tabl 5 : roll amplitud rad/m monochromat test case .
number particl rao roll [ rad/m ] 10,000 2.29 35,000 2.45 100,000 2.55 250,000 2.60 500,000 2.64 5.1.2.2 irregular wave test next rao analysi test carri .
wave condit use numer simul correspond jonswap spectrum similar characterist use experi ( see tabl 4 ) .
wave amplitud distribut use mimic irregular wave condit experi provid appendix .
discret wave spectrum done use 51 frequenc 2.5 rad/ ( frequenc resolut use experi ) .
also roll damp c = 0.114ixxk44 use .
22 figur 8 compar result obtain present work use one hundr thousand particl experi calcul wadam ludvigsen et al .
( 2013 ) use potenti flow approach account fluid dynam within tank .
observ wadam provid smooth curv result , experi present work show bit nois obtain curv .
believ sph approach fluid flow tank nonlinear , contribut energi transfer among frequenc .
figur 8 : result comparison among fem-sph coupl ( present work ) , wadam ludvigsen et al .
( 2013 ) [ 35 ] , experi molin et al .
( 2002 ) [ 34 ] water level tank ( 19cm+19cm ) .
frequenc around  = 6 rad/ , experi show larger valu obtain comput analys .
hand , result obtain work bit larger obtain wadam , compar quit well experi frequenc away  = 6 rad/ .
23 5.1.2.3 comput time tabl 6 provid data regard comput effort need present approach .
comput time correspond case present section 5.1.1 .
observ calcul fluid flow within tank use sph 3.5104 particl much expens calcul seakeep behavior .
furthermor , number particl bump 5105 solver take 98 % calcul time .
tabl 6 : comput time number particl  ( ms )  ( ms ) simul time ( ) comput time ( ) sph ( % ) fem ( % ) 10,000 1.17 10-3 10-2 30 1938 33.5 66.5 35,000 7.7 10-4 10-2 30 4109 68.4 31.6 100,000 5.4 10-4 10-2 30 13110 88.5 11.5 250,000 4.0 10-4 10-2 30 41577 95.5 4.5 500,000 3.2 10-4 10-2 30 98616 98.2 1.8 case present tabl 6 , artifici speed sound sph set 10m/s , maximum particl veloc simul order 0.6m/s , keep mach number 0.06 .
5.1.3 case 2 : differ water level tank .
second case studi analyz case water level one tank 19cm 39cm .
addit mass necessari achiev target draft like previous case studi .
wave amplitud distribut use mimic irregular wave condit experi provid appendix .
discret wave spectrum done use one 101 frequenc rang 2.5 8 rad/ ( frequenc resolut increas respect experi abl catch middl reson peak shown experi ) .
also roll damp c = 0.114ixxk44 use .
main particular barg case studi given tabl 7 .
24 tabl 7 : barg main particular addit mass deck .
target draft 0.108 displac 275kg xg 0 yg 0 zg 0.132 radii gyrat respect g : rxx 0.414 figur 9 compar result obtain present work experi calcul wadam ludvigsen et al .
( 2013 ) .
105 particl use 19cm fill tank , two hundr thousand particl 39cm fill tank .
case studi , three reson peak appear .
frequenc around  = 4 rad/ largest deviat numer experiment result found .
, frequenc around  = 5.25 rad/ appar deviat peak  frequenc observ numer result around sharp peak achiev similar valu experiment result .
final , frequenc around  = 7 rad/ , deviat frequenc observ , numer result predict peak valu .
figur 9 : result comparison among fem-sph coupl ( present work ) , wadam ludvigsen et al .
( 2013 ) [ 35 ] , experi molin et al .
( 2002 ) [ 34 ] differ water level tank ( 19cm+39cm ) 25 5.2 antirol tank analysi bai rhee ( 1987 ) provid experiment rao , obtain model basin , suppli vessel equip anti-rol tank ( art ) .
later , kim et .
al ( 2002 ) kim et al .
( 2007 ) carri numer simul modifi s175 hull order compar result experiment data provid bai rhee ( 1987 ) .
modifi s175 hull use kim et .
al ( 2007 ) approxim suppli vessel use bai rhee , despit , result obtain kim et .
al ( 2007 ) numer show trend experiment one .
work , follow kim et .
al ( 2007 ) approach use modifi s175 hull approxim suppli hull use bai rhee ( 1987 ) .
use aspect ratio beam length , draft length use kim et al .
( 2007 ) , modifi s175 hull art .
howev , inform regard exact geometri found , neither posit graviti center inertia .
therefor , estim paramet well hull form .
start s175 hull form provid ittc web site .
, proceed scale ship fulfil aspect ratio provid kim et .
al ( 2007 ) .
result geometri provid [ 6 ] .
longitudin posit graviti center art estim longitudin posit buoyanc center .
transvers posit set y=0 vertic posit graviti center roll radii gyrat estim approxim roll rao result without art provid kim et .
al .
( 2007 ) .
tabl 8 9 provid main particular hull form art use work .
figur 10 show modifi s175 hull art place .
tabl 8 : modifi s175 main particular without art length perpendicular (  ) 47.6 breadth 13.7088 draft 3.9984 displac 1498.4 xfp 23.8 xap -23.8 xg -0.73 yg 0 zg -0.25 radius roll gyrat rxx 6.26 26 tabl 9 : particular art length 2 .
8 breadth 13.699 draft 2.4 fresh water fill 50 % xt ( mid tank ) -0.73 yt ( mid tank ) 0 zt ( base tank ) -1.8564 figur 10 : modifi s175 hull art .
roll rao obtain seri test monochromat wave normal respect maximum wave slope ak , wave amplitud , k wave number .
also damp factor c = 4ixxk44 use calibr rao valu near reson .
27 figur 11 compar experiment result obtain bai rhee ( 1987 ) numer result obtain work result shown without art .
104 particl use sph solver art sph simul .
modifi s175 calibr show similar behavior suppli vessel bai rhee without art , observ compar rao result without art .
insert art result tend one obtain bai rhee similar reduct roll movement .
figur 11 : experiment vs present work .
roll rao monochromat wave test a/l = 0.005 .
roll rao obtain maximum wave slope ak .
figur 12 present snapshot modifi s175 hull art reson wave frequenc case art .
observ roll motion small , fluid flow insid art nonlinear , exhibit wave break phenomena .
28 figur 12 : snapshot modifi s175 srt l/g = 1.55 a/l = 0.005 .
5.3 2d vessel includ intern flow zhao et al .
( 2014b ) carri seri two-dimension model test studi hydrodynam perform float liquefi natur gas ( flng ) section includ intern flow oscil .
refer flng section ballast fresh water equival solid weight respect , clarifi coupl effect .
rao motion respons intern slosh flow calcul base measur data .
particular vessel section , intern tank , complet model provid tabl 10-12 , figur 13 show 3d fem mesh model use simul .
tabl 10 : particular intern tank tank full scale model scale length ( ) 40 0.8 breadth ( ) 10 0.2 water level ( ) 18 0.36 mass ( kg ) 7.2 e+06 57.6 zg ( ) -4.72 -0.0944 inertia respect tank cg ixx ( kg m2 ) 1.15 e+09 3.69 radius roll gyrat rxx ( ) 12.7 0.25 29 tabl 11 : particular vessel section section full scale model scale length ( ) 50 1 breadth ( ) 17.5 0.35 mass ( kg ) 4.805 e+06 38 zg ( ) -1.0473 -0.021 inertia respect section cg ixx ( kg m2 ) 1.027 e+09 3.287 radius roll gyrat rxx ( ) 14.621 0.2924 tabl 12 : particular complet model complet model full scale model scale draft ( ) 13.72 0.2744 mass ( kg ) 1.20 e+07 96.04 zg ( ) -3.25 -0.065 inertia respect complet model cg ixx ( kg m2 ) 2.22 e+09 7.1054 radius roll gyrat rxx ( ) 13.6 0.272 figur 13 : fem 3d mesh 2d cross section .
30 white nois spectrum , energi densiti approxim one use experi , use carri simul .
consist 51 frequenc equal space min = 0.3918 rad/ max = 16.6165 rad/ , wave amplitud = 0.14 m. first , uncoupl simul equival solid weight carri calibr damp coeffici .
compar solid weight experiment result ( see figur 14 , left ) , damp coeffici estim c33 = 0.24mk33 heav , c44 = 0.0554ixxk44 roll .
second , coupl simul carri use around 104 particl within tank .
rao comparison provid figur 14 ( right ) .
overal , result obtain work fit well experiment result provid zhao et al .
( 2014b ) .
differ appear regard reson frequenc roll , might due experiment setup enforc 2d condit , fulli simul comput model .
besid , numer result coupl problem show peak valu frequenc around reson frequenc uncoupl problem .
although effect present experiment result , observ previous case studi antirol tank .
appear peak surpris appear question .
1 .
conclus work , sph flow solver fem seakeep solver coupl perform simul seakeep dynam intern flow tank simultan .
solver run independ timedomain , henc coupl algorithm , includ communic strategi , develop .
sph-fem coupl show effect solv seakeep dynam coupl intern flow includ slosh .
valid sever case avail experiment data , provid good agreement .
specif case studi modifi s175 hull antirol tank , slosh effect observ , good agreement found , demonstr capabl incorpor high non-linear phenomena .
result , propos coupl strategi capabl perform complex seakeep analysi coupl high non- linear intern flow reason comput time .
coupl solver appli futur work solv realist problem includ lng transport analysi complex slosh phenomena differ sea condit .
31 figur 14 : experiment versus present work .
rao comparison .
solid case left , liquid ( coupl ) case right .
acknowledg research lead result receiv fund spanish ministri economi competit grant tra2013-41096-p ( optimizacin del transport de gas licuado en buqu lng mediant estudio sobr interaccin 32 fluido-estructura ) ene2014-59194-c2-2-r ( x-sheak : campaa experiment validacin ) .
first author grate acknowledg support nvidia corpor donat tesla k20 gpu use research .
refer antuono m. , colagrossi a. marron s. , numer diffus term weakly-compress sph scheme , comput .
phys .
commun .
183 , 2012 , 5702580 .
antuono m. , marron s. , colagrossi a. bouscass b. , energi balanc -sph scheme , comput .
method appl .
mech .
eng .
289 , 2015 , 209226 .
bai k.j .
rhee k.p. , roll-damp tank test .
project report , 1987 , seoul nation univers .
bouscass b. , colagrossi a. , souto-iglesia a. cercos-pita j.l. , mechan energi dissip induc slosh wave break fulli coupl angular motion system .
.
theoret formul numer investig , phys .
fluid ( 1994present ) 26 , 2014a , 3 .
bouscass b. , colagrossi a. , souto-iglesia a. cercos-pita j.l. , mechan energi dissip induc slosh wave break fulli coupl angular motion system .
ii .
experiment investig , phys .
fluid ( 1994present ) 26 , 2014b , 3 .
bulian g. , souto-iglesia a. , delorm l. botia-vera e. , sph simul tune liquid damper angular motion , j. hydraul .
res .
48 ( extra issu ) , 2010 , 2839 .
cai x. , langtangen h.p. , nielsen b.f. tveito a. , finit element method fulli nonlinear water wave , j. comput .
phys .
143 , 1998 , 544568 .
campbel p.m. , new algorithm boundari valu problem smooth particl hydrodynam , 1989 , defens nuclear agenc ; usa .
cercos-pita j.l. , aquagpusph , new free 3d sph solver acceler opencl , comput .
phys .
commun .
192 ( 0 ) , 2015 , 295312 .
cercs-pita , j. l. , bulian , g. , prez-roja , l. , francescutto , .
( 2016 ) .
coupl simul nonlinear ship motion free surfac tank .
ocean engin , 120:281288 .
cercs-pita , j. l. bulian , g. ( 2016b ) .
cosimul ship motion slosh tank .
( review ) colagrossi a. , antuono m. le touz d. , theoret consider free-surfac role smoothed- particle-hydrodynam model , phys .
rev .
e ( stat .
nonlinear soft matterphi . )
79 ( 5 ) ,2009 , 056701 .
33 colagrossi a. , antuono m. , souto-iglesia a. le touz d. , theoret analysi numer verif consist viscous smoothed-particl hydrodynam formul simul freesurfac flow , phys .
rev .
e 84 , 2011 , 26705 .
colagrossi a. , souto-iglesia a. , antuono m. marron s. , smoothed-particle-hydrodynam model dissip mechan graviti wave , phys .
rev .
e 87 , 2013 , 023302 .
colagrossi a. , bouscass b. marron s. , energy-decomposit analysi viscous free-surfac flow , phys .
rev .
e 92 , 2015 , 053003 .
crespo a. , dominguez j. , barreiro a. , gmez-gesteira m. roger b. , gpus , new tool acceler cfd : effici reliabl smooth particl hydrodynam method , plos one 6 , 2011 , 6 .
de leff m. , le touz d. alessandrini b. , normal flux method boundari sph , : proceed 4th ercoftac spheric workshop sph appl .
2009 , 149156 .
dominguez j.m. , crespo a.j.c. , valdez-baldera d. , roger b.d .
gmez-gesteira m. , new multi-gpu implement smooth particl hydrodynam heterogen cluster , comput .
phys .
commun .
184 , 2013 , 18481860 .
ferrand m. , laurenc d.r. , roger b.d. , violeau d. kassioti c. , unifi semi-analyt wall boundari condit inviscid , laminar turbul flow meshless sph method int .
j. numer .
method fluid 71 , 2013 , 446472 .
herault a. , bilotta g. dalrympl r.a. , sph gpu cuda , j. hydraul .
res .
48 ( extra issu ) , 2010 , 74 79 .
iron b.m .
tuck r.c. , version aitken acceler comput iter , int .
j. numer .
method eng .
1 , 1969 , 275277 .
li y. , zhu r. , miao r. fan , j g. , simul tank slosh base openfoam coupl ship motion time domain , j .
hydrodyn. , ser .
b 24 ( 3 ) , 2012 , 450457 .
kim y. , numer studi slosh flow coupl ship motionth anti-rol tank problem , j .
ship res .
46 ( 1 ) , 2002 , 5262 .
kim y. , nam b.w. , kim d.w. kim y.s. , studi coupl effect ship motion slosh , ocean eng .
34 , 2007 , 21762187 .
kulasegaram s. , bonet j. , lewi w.r. profit m. , variat formul base contact algorithm rigid boundari two-dimension sph applic , comput .
mech .
33 ( 4 ) , 2003 , 316325 .
34 ludvigsen , a. , pan , z.y. , gou , p. , vada , t. , 2013 .
adapt linear potenti theori solver outer hull account fluid dynam tank .
: proceed asm 2013 32nd intern confer ocean , offshor arctic engin omae2013 june 914 , nant , franc .
q.w .
yan s. , qale-fem numer model non-linear interact 3d moor float bodi steep wave , int .
j. numer .
method eng .
78 ( 6 ) , 2009 , 713756 .
maci f. , antuono m. , gonzlez l.m .
colagrossi a. , theoret analysi no-slip boundari condit enforc sph method , progress .
theor .
phys .
125 ( 6 ) , 2011 , 10911121 .
maci f. , gonzlez l.m. , cercos-pita j.l .
souto-iglesia a. , boundari integr sph formul .
consist applic isph wcsph , progress .
theor .
phys .
128 ( 3 ) , 2012 , 439462 .
molin , b. , remi , f. , rigaud , s. , de jouett ch. , 2002 .
lng-fpso  : frequenc domain coupl analysi support liquid cargo motion .
: proceed inam confer , rethymnon , greec .
monaghan j.j. , simul free surfac flow sph , j. comput .
phys .
110 , 1994 , 399406 .
neve m.a.s. , merino j.a .
rodrguez c.a. , nonlinear model parametr roll stabil anti-rol tank , ocean eng .
36 ( 14 ) , 2009 , 10481059 .
nishiura d. , furuichi m. sakaguchi h. , comput perform smooth particl hydrodynam simul shared-memori parallel comput , comput .
phys .
commun .
194 ( 0 ) , 2015 , 1832 .
servn-cama b. garca-espinosa j. , acceler 3d multi-bodi seakeep simul use unstructur finit element , j. comput .
phys .
252 , 2013 , 382403 .
souto-iglesia a. , delorm l. , roja l.p. abril s. , liquid moment amplitud assess slosh type problem sph , ocean eng .
33 , 2006 , 1112 .
watai r.a. , dinoi p. , ruggeri f. , souto-iglesia a. simo a.n. , rankin timedomain method applic side-by-sid gap flow model , appl .
ocean res .
50 ( 0 ) , 2015 , 6990 .
wood w.l. , bossak m. zienkiewicz o.c. , alpha modif newmark 's method , int .
j. numer .
method eng .
5 ( 10 ) , 2005 , 15621566 .
yan , s. , , q.w. , cheng , x. , 2011 .
fulli nonlinear simul two float structur close proxim subject obliqu wave .
: proceed 21st intern offshor polar engin confer ( isop ) .
intern societi offshor polar engin ( isop ) .
zhao w.h. , yang j. , hu z.q .
wei y.f. , recent develop hydrodynam float liquid natur gas ( fnlg ) , ocean eng .
38 , 2011 , 15551567 .
35 zhao w. , yang j. , hu z. tao l. , coupl analysi nonlinear slosh ship motion , appl .
ocean res .
47 ( 0 ) , 2014a , 8597 .
zhao w. , yang j. , hu z. , xiao l. tao l. , hydrodynam 2d vessel includ intern slosh flow , ocean eng .
84 , 2014b , 4553 .
web refer [ 1 ] compassi ( last access : januari 20th 2016 ) : http : //www.compassis.com/seafem .
last access : januari 20th 2016 .
[ 2 ] centr internacion de metod numer en enginyeria ( last access : januari 20th 2016 ) : http : //www.cimne.upc.edu .
[ 3 ] cehinav res .
gr. , dmfpa , etsin , technic univers madrid ( last access : januari 20th 2016 ) .
http : //canal.etsin.upm.es/ .
last access : januari 20th 2016 .
[ 4 ] aquagpusph ( last access : januari 20th 2016 ) : http : //canal.etsin.upm.es/aquagpusph/ .
[ 5 ] tcl ( tool command languag ) [ on-lin ] ( last access : januari 20th 2016 ) : http : //www.tcl.tk [ 6 ] ( last access : januari 20th 2016 ) : ( http : //canal.etsin.upm.es/papers/servanetal2016/ ) http : //www.compassis.com/seafem http : //www.cimne.upc.edu/ http : //canal.etsin.upm.es/ http : //canal.etsin.upm.es/aquagpusph/ http : //canal.etsin.upm.es/papers/servanetal2016/
