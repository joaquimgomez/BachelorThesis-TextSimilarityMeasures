upcommon portal del coneix obert de la upc http : //upcommons.upc.edu/e-print aquesta s una cpia de la versi author  final draft d'un articl publicat la revista multimedia tool applic .
url d'aquest document upcommon e- print : http : //hdl.handle.net/2117/113183 articl publicat / publish paper : duch , m.m. , vara , d. , rubi , j.r.m .
et al .
( 2017 ) 3d hierarch optim multi-view depth map code .
multimedia tool applic , p. 1-26 .
doi : 10.1007/s11042-017-5409-z http : //upcommonsdev.upc.edu/ http : //upcommonsdev.upc.edu/ http : //upcommons.upc.edu/e-print http : //hdl.handle.net/2117/113183 nonam manuscript .
( insert editor ) 3d hierarch optim multi-view depth map code marc maceira  david vara  josep-ramon morro  javier ruiz-hidalgo  ferran marqu receiv : date / accept : date abstract depth data widespread use sinc popular high reso- lution 3d sensor .
multi-view sequenc , depth inform use sup- plement color data view .
articl propos joint encod multipl depth map uniqu represent .
color depth imag view segment independ combin optim rate- distort fashion .
result partit project refer view coher hierarchi multipl view built .
rate-distort optim appli obtain final segment choos node hierarchi .
consist segment use robust encod depth map multipl view obtain competit result hevc code standard .
marc maceira duch edifici d5 despatx 120 c. jordi girona , 1-3 barcelona spain tel .
: +34-93-4011627 e-mail : marc.maceira @ upc.edu david vara edifici d5 despatx 120 c. jordi girona , 1-3 barcelona spain tel .
: +34-93-4011627 e-mail : david.vara @ upc.edu josep-ramon morro edifici d5 despatx 008 c. jordi girona , 1-3 barcelona spain tel .
: +34-93-4015765 e-mail : ramon.morro @ upc.edu javier ruiz-hidalgo edifici d5 despatx 008 c. jordi girona , 1-3 barcelona spain tel .
: +34-93-4015765 e-mail : j.ruiz @ upc.edu ferran marqu edifici d5 despatx 111 c. jordi girona , 1-3 barcelona spain tel .
: +34-93-4016450 e-mail : ferran.marqu @ upc.edu 2 marc maceira et al .
1 introduct advanc 3d media technolog progress afford 3d display consolid 3d video technolog recent year .
video applic 3d televis free-viewpoint select abl provid depth percept interact user .
one way provid function captur scene multipl viewpoint .
multi-view video code system classifi among use color data one also make use depth data viewpoint .
among one use color data stand respect extens h.264 [ 19 ] hevc [ 28 ] multi-view environ .
multi-view video code ( mvc ) [ 13 ] develop extens h.264 standard hevc multi-view video code extens ( mv-hevc ) [ 29 ] .
extens use inter view predict exploit multi-view redund n camera employ .
hand , multi-view plus depth ( mvd ) represent , depth data viewpoint encod addit color data .
depth inform encod depth map , per-pixel distanc scene camera store .
addit depth map allow render- ing virtual view in-between encod camera posit ( dibr ) [ 3 ] .
effici compress depth data studi exploit dis- tinct characterist depth map standard video imag .
depth map present sharp edg separ area smooth transit well repres block-bas transform natur video coder .
3d extens high effici video code ( 3d-hevc ) [ 17 ] present code tool color depth map .
depth map , 3d-hevc use similar color depth data motion paramet inher- itanc .
mvd sequenc , depth data associ view heavili augment amount data need store 3d inform .
context , ex- tract 3d model scene multipl depth map remov redund inform view obtain uniqu 3d represent scene .
work , inspir segmentation-bas code system [ 30 ] , imag ( case , depth map ) segment homogen re- gion ; result textur contour partit encod sent receiv .
howev , classic segmentation-bas system would use independ segment view encod process would also perform independ view .
propos build global 3d hierarch represent scene abl joint model various view mvd sequenc .
new represent allow exploit spatial redund among view effici compress depth map multipl viewpoint .
start construct color depth partit view .
partit combin singl hierarchi- cal represent .
depth inform result region model 3d plane , thus provid global 3d hierarch scene represent .
3d hierarch optim multi-view depth map code 3 3d planar represent conveni model smooth region sharp transit depth map [ 16 ] .
long sharp edg depth map lay in-between region , planar model approxim textur inform compact .
rate-distort optim process previous hierarchi ( hier- archic optim ) allow obtain optim ( given bit budget ) code partit one differ view automat .
depth map code perform send plane coeffici region view  code partit , well contour partit .
set partit consist ( region repres object differ view given label ) camera paramet use process .
global multiview model impli corre- spond region differ view repres uniqu planar model , thus reduc number bit necessari .
figur 1 show graphic overview propos multi-view represent code scheme .
lpcolor partit hierarchi ( href ) singl view optim .
singl view optim .
singl view optim .
multi-view optim .
refer view partit ( pref ) code region & contourshierarch representationcombin color depth partit textur ( 3d plane coeff ) & contour 1 textur ( 3d plane coeff ) & contour nv initi partit refer view ( pref ) ini code partit ( pcod ) ( pi code partit ( pcod ) ( pnv depth partit lpdepthlp1 depth partit lpdepthlpnv lp1color partit lpcolor lpnvcolor partit fig .
1 overview multi-view optim partit .
color & depth map imag multipl view project combin refer view , hierarchi region built ( layer show cut hierarchi ) .
rate-distort optim find optim partit hierarchi defin code partit input view .
code partit use encod depth map input view .
one problem segment base code system high cost send contour .
work , assum color imag alreadi encod avail decod .
thus , depth boundari approxim color partit without cost , color partit reproduc color imag decod .
approxim error ( depth contour present color imag ) need explicit sent , reduc code cost .
main contribut paper : 4 marc maceira et al .
 consist segment multipl view hierarch repre- sentat differ view .
 new global scene represent base 3d planar model obtain hierarch optim .
 method effici encod depth map multipl view , base global scene represent .
outlin paper follow .
relat work 3d planar repre- sentat multi-view depth code studi section 2 .
section 3 , generic hierarch optim method present .
section 4 , consist multi-view depth map represent introduc .
detail en- code inform multipl view found section 5 .
final , discuss experiment result conclus section 6 section 7 respect .
2 relat work use 3d planar model repres structur scene explor multipl applic .
3d planar model shown use extract structur scene use color data stereo configu- ration [ 27 ] , co-seg multipl view object [ 9 ] , recov structur scene panoram sequenc [ 15 ] multi-camera environ- ment [ 34 ] .
multipl plane detect track time flight depth imag use layer scene decomposit [ 24 ] .
similar configur , [ 1 ] 3d point cloud multipl rgb-d camera project 3d world use generat set 3d planar patch consist among view .
patch obtain markov random field use voxel scene sever 3d planar candid .
recent , [ 32 ] problem tackl wide-baselin stereo configur .
imag segment independ fit process assign 3d plane region .
plane use candid energy-minim problem , optim error model smooth neighbor region .
segment point cloud come rgb-d sensor tackl part semant label indoor scene scene understand .
[ 26 ] hierarch segment propos use depth clue infer relat object use prior classifi differ object .
[ 21 ] initi superpixel segment use comput kernel descriptor gradient , color surfac normal build hierarchi use assign label node use markov random field .
gupta et al .
[ 8 ] general gpb-ucm hierarch segment incorpor depth inform semant segment .
late , [ 33 ] unsupervis framework joint featur learn encod propos rgb-d scene label .
planar model also propos depth represent 3dtv applic .
[ 20 ] markov random field model mimic rate-distort 3d hierarch optim multi-view depth map code 5 trade-off use stereo configur obtain co-segment pla- nar approxim .
singl refer mvd format also propos fuse inform stereo view singl refer .
depth map code techniqu propos improv depth code mode 3d-hevc .
[ 11 ] intra predict framework flexi- ble block partit scheme .
depth edg predict explicit encod .
similar , [ 14 ] complet overhaul 3d-hevc defin .
incorpor planar signal repres smooth chang flat scene ar- ea , new intra-pictur predict model improv wedgelet segment .
joint color depth code multi-view video propos [ 6 ] .
make use dibr , color depth inform project obtain inter-view predict .
inter-view predict miss pixel inpaint use minimum explicit encod .
[ 12 ] propos region base code depth map single-view .
defin depth hierarchi segment depth map one rgb-d imag flat partit explor code .
current paper extend depth hierarchi defin [ 12 ] deal multipl view optim fashion .
3 rate-distort hierarchi optim section , defin generic methodolog find optim partit hierarchi term rate-distort .
notat use consist [ 31 ] , optim multipl hierarchi use semant segment sequenc .
optim present two benefit .
first , encod paramet select optim region second , optim final number region need encod depth map automat obtain .
work , use rate-distort opti- mizat various step propos algorithm .
3.1 hierarchi definit represent hierarchi depict node shown figur 2 .
node hierarchi repres region imag , parent node set region repres merg .
stage assum hierarchi binari ( region merg pair ) .
structur name binari partit tree [ 23 ] .
common , hierarchi creat use greedi region merg algorithm , start initi leaf partit lp , iter merg similar pair neighbor region accord region similar criteria .
merg process end whole imag repres singl region , root tree .
set merg creat tree , leav root , denot merg sequenc ( figur 2 ) .
6 marc maceira et al .
r1 r3 r2 r4 r5 r3 r4 r5 r6 r7 r1 r2 r3 r4 r5 r1 r2 r3 r4 r5 r1 r2 r6 r3 r4 r7 r5 r1 r2 r6 r3 r4 fig .
2 hierarch represent imag .
step two similar region merg .
binari hierarchi , merg sequenc contain n partit , n number leav ( region lp ) .
set partit usual analyz work hierarchi .
still , hierarchi built , analysi whole hierarchi could obtain partit includ merg sequenc ( instanc , merg region 3 5 exampl figur 2 ) 3.2 rate-distort problem definit rate-distort problem consist find optim code min- imiz distort imag constraint total cost r given budget [ 18 ] .
case , optim code consist find optim partit describ imag .
hierarch represent , rate-distort function defin ( see [ 18 ] ) r addit measur hierarchi h : rh =  leav rk ( 1 ) dh =  leav dk ( 2 ) node hierarchi encod use set code techniqu generat set rk dk region k. work , distort measur dk comput squar error estim textur valu real one : dk = nk n=1 |g ( n )  g ( n ) |2 ( 3 ) nk number pixel region k , g textur valu pixel region g estim valu textur code option .
typic , region-bas code , two term need encod region .
cost store posit contour region ( rck ) 3d hierarch optim multi-view depth map code 7 cost store textur coeffici ( rtk ) .
henc , region rate cost rk defin : rk = r c k +r k ( 4 ) constrain problem convert equival unconstrain one use lagrangian relax [ 18 ] .
cost distort combin us- ing posit multipli  defin trade-off distort allow number bit spent : jk = dk + rk ( 5 ) best partit obtain use bottom-up local analysi node : jparent  jch1 + jch2 ( 6 ) jch cost cheapest path child node .
3.3 hierarchi optim object hierarchi optim find optim boundari configur defin partit use node hierarchi h use previous defin rate-distort constraint .
inspir [ 2 , 7 , 31 ] , propos solv rate-distort optimiza- tion problem quadrat semi-assign problem ( qsap ) , restrict solut node hierarchi .
partit defin term bound- ari region hierarch constraint ad solv qsap problem linear program relax approach .
qsap approach two main advantag common approach dy- namic program solut .
first , qsap defin relat re- gion ( whether merg ) term common contour .
relat allow repres contour cost union two region easili .
second , qsap general work multipl hierarchi , would allow appli procedur defin work relat frame multipl time instant order remov tempor redund .
optim state constrain minim problem : min b tr ( qb ) = min b  , n qm , nbm , n ( 7 ) s.t .
bm , n  { 0 , 1 } m , n bm , = 0 matrix q affin matrix measur qualiti possibl partit hierarchi h. matrix b encod partit binari matrix , element bm , n = 1 boundari leav n activ ( region n merg ) bm , n = 0 otherwis .
8 marc maceira et al .
case , element matrix q defin mimic rate- distort lagrangian decis : qch1 , ch2 = jparent  ( jch1 + jch2 ) ( 8 ) allow introduc local node analysi equat ( 6 ) global framework optim equat ( 7 ) .
idea node minimum lagrangian j favor , thus lead optim partit given  .
figur 3 present exampl lagrangian optim hierarchi present figur 2 .
algorithm examin node hierarchi ( node 1-7 ) select one present minimum lagrangian ( node 3 , 4 5 ) .
final partit ( shown right side figur ) compos region repres node .
r7 r5 r1 r2 r6 r3 r4 r5 r3 r4 fig .
3 exampl lagrangian optim hierarchi present figur 2 .
optim process activ node minimum lagrangian j ( region 3 , 4 5 ) , thus find best partit given  .
hierarchi h contribut two aspect optim process .
first , defin merg region leav partit lp form cluster .
second , also includ order region merg repres node tree .
[ 31 ] , restrict encod use two coupl constraint per node .
first constraint impos variabl repres boundari two sibl valu .
second constraint impos given node , variabl repres boundari two sibl impos merg leav associ node merg .
first constraint defin : , n n 6=l bm , n = ( nc  1 ) bm , l ( 9 ) nc total number common region boundari leaf partit repres union sibl , region first sibl n , l region second sibl .
second : n , l bn , l  nmbm , ( 10 ) 3d hierarch optim multi-view depth map code 9 nm total number inner region boundari leav partit sibl , n region first sibl n , l region second sibl .
ad two constraint optim process equat ( 7 ) result : min b  , n qm , nbm , n ( 11 ) s.t .
bm , n  { 0 , 1 } bm , n = bn , n , , n n 6=l bm , n = ( nc  1 ) bm , l , n , l bn , l  nmbm , p  { h } p repres parent node collect hierarchi .
result optim binari matrix b describ optim partit { p  (  ) } .
vari  , differ optim rate-distort partit found .
 correspond differ potenti solut convex hull oper rate-distort point .
demonstr set solut finit [ 25 ] .
monoton r (  ) , small subset  need search converg algorithm ensur case .
4 multi-view 3d represent propos multi-view depth map code system fuse inform multipl view uniqu 3d represent .
method build 3d repre- sentat set initi 2d partit view .
global scheme depict figur 4 .
start find partit indi- vidual view merg color depth partit optim , reduc comput complex multi-view process .
single-view process- ing done independ view shown figur 5 explain section 4.1 .
inform multipl view accumul refer view viewref project view partit viewref .
, optim process ( depict figur 8 ) obtain pref defin final code par- tition view .
complet detail process given section 4.2 .
refer optim process equat ( 11 ) : p  (  ) = opt ( h ) ( 12 ) given  optim partit p  extract h. simplic , reduc notat optim partit p  (  ) p .
work use initi color depth leav partit [ 12 ] .
name initi partit lp colori lp depth respect .
hierar- chi single-view multi-view stage built [ 12 ] : region 10 marc maceira et al .
single-view optim multi-view represent p1 pref multi-view optim lp1 lp1 single-view optim pnv lpnv depth lpnv color nv view view ref depth color fig .
4 multi-view represent .
view , joint color depth optim find pi partit .
nv pi partit project refer view multi-view optim find best set region partit .
content project 3d model 3d plane ransac [ 4 ] .
merg criterion base 3d plane similar .
stage find optim partit p  insid hierarchi method present section 3 .
4.1 single-view optim single-view optim lp colori lp depth combin optim partit pi view shown figur 5 .
lpi depth single-view optim pi lpi color combin partit pi c_d hierarch represent hi c_d optim fig .
5 optim process view .
combin color depth optim perform find optim combin partit .
lp colori lp depth fuse partit p c = lp color  lp depth preserv boundari partit .
p c di use build hierarchi hc di .
optim procedur introduc section 3.2 hierarchi obtain optim rate-distort partit pi : pi = opt ( h c ) ( 13 ) 3d hierarch optim multi-view depth map code 11 view , equat ( 8 ) express follow : qchi,1 , chi,2 = jpi  ( jchi,1 + jchi,2 ) = ( 14 ) ( dpi + rpi )  ( dchi,1 + rchi,1 )  ( dchi,2 + rchi,2 ) = 4dchi,1 , chi,2 + 4rchi,1 , chi,2 pi parent region result union children chi,1 chi,2 : pi = chi,1  chi,2 ( 15 ) 4dchi,1 , chi,2 increment distort caus union equa- tion ( 15 ) 4rchi,1 , chi,2 increment rate union .
typic , 4dchi,1 , chi,2 posit repres depth map less region increas distort 4rchi,1 , chi,2 negat .
distort region k hierarchi comput squar error 3d planar model pixel valu region , partic- ular equat ( 3 ) : di , k = npixi , k n=1 |proji ( k , n )  gi ( n ) |2 ( 16 ) 3dk plane model region k , n pix , k number pixel region k , proji ( k , n ) valu project 3d planar model pixel n region k gi ( n ) depth valu pixel n view .
exampl project step shown figur 6 .
4dchi,1 , chi,2 comput : 4dchi,1 , chi,2 = dpi dchi,1 dchi,2 ( 17 ) r4 r1 r2 r3 21 3 3d plane imag partit r1 1 4 fig .
6 single-view distort comput project 3d planar model pixel correspond region .
r4 distort generat 4 compar represent use child region r2 r3 , repres model 2 3 .
comput 4rchi,1 , chi,2 two term present : textur contour .
textur : 12 marc maceira et al .
4rtchi,1 , chi,2 = r pi rtchi,1 r chi,2 = rt ( 18 ) sinc cost textur constant ( rt ) region .
contour region may come two partit ; lp colori lp depth .
contour cost4r c chi,1 , chi,2 comput count number contour element ( two neighbor pixel differ label defin one contour element ) region chi,1 , chi,2 multipli averag cost encod contour element .
sinc consid common contour , contour cost parent zero .
: 4rcchi,1 , chi,2 = canchi,1 , chi,2  c   chi,1 , chi,2 ( 19 ) nchi,1 , chi,2 n  chi,1 , chi,2 number common contour two children depth color partit respect , ca c  averag cost encod contour element either depth color partit .
note contour color partit introduc cost , therefor ca = 0 .
ca obtain experiment use multi-view sequenc result ca = 1.2 bit per contour posit .
equat ( 4 ) comput : 4rchi,1 , chi,2 = 4r c chi,1 , chi,2 +4rtchi,1 , chi,2 = canchi,1 , chi,2 r ( 20 ) figur 7 show exampl merg two region .
encod r4 instead r2 r3 save cost encod boundari region textur coeffici one region .
r4 r1 r2 r3 r1 fig .
7 single-view rate region rate save promot merg .
region r2 r3 merg r4 , lead repres depth map without contour r2 r3 save one 3d plane .
color-depth optim view address addit depth boundari color partit optim fashion reduc heavili total number region .
procedur view also reduc number occlud region multi-view optim .
3d hierarch optim multi-view depth map code 13 4.2 multi-view optim multi-view optim process shown figur 8 .
partit pi nv view project , use camera paramet , viewref , obtain initi partit p inii view : p inii = projref ( pi ) ( 21 ) pixel partit pi process scan order correspond- ing pixel label project viewref .
individu project partit p inii defin assign pixel posit label nearest pro- ject view pixel .
process region near camera posit prevail one away .
project step , region view occlud refer view detect .
region consid occlud number pixel region viewref less half number pixel view i. occlud region valid correspond viewref .
solv , region encod independ view remov project partit viewref .
p1 multi-view optim pref pnv combin partit nv view project project pref ini hierarch represent optim href p1 ini pnv ini fig .
8 multi-view optim process view .
partit multipl view combin uniqu hierarchi .
rate-distort measur comput use input view store hierarchi find joint optim partit multipl view .
individu project partit p inii viewref accumul uniqu partit state equat ( 22 ) .
unlik single-view optimiza- tion , project viewref pixel project label .
order obtain partit pixel assign label , hole fill algorithm creat new label in-between region differ label .
combin label viewi , new label creat p ini ref .
p iniref =  p inii ( 22 ) 14 marc maceira et al .
hierarch depth represent href built use accumul partit p iniref .
rate distort valu region href found examin partit generat view .
increment distort union comput : 4dch1 , ch2 = n i=1 4dchi,1 , chi,2 ( 23 ) 4dchi,1 , chi,2 repres increment distort view equat ( 17 ) .
graphic exampl equat ( 23 ) shown figur 9 .
notic , exampl , rocl 1 occlud viewref .
therefor , rocl 1 particip optim process encod independ plane .
r1 r2 r3 viewref r1 r2 r3 view2 r1 r2 r3 view1 2 1 3 rocl 1 ocl 1 fig .
9 multi-view distort comput project 3d planar model pixel correspond region imag .
similar , rate comput use inform view , ad boundari cost ( depth boundari , ca = 0 color contour ) : 4rch1 , ch2 = n i=1 4rchi,1 , chi,2 ( 24 ) region model encod region multipl view , textur rate singl view optim : 4rch1 , ch2 = ca n i=1 nchi,1 , chi,2 r ( 25 ) exampl comput rate multi-view optim shown figur 10 .
3d hierarch optim multi-view depth map code 15 pref partit obtain use hierarch optim sec- tion 3.2 : pref = opt ( href ) ( 26 ) sinc hierarchi href build viewref , merg order determin viewref .
incorpor inform thenv view optim process , result partit pref defin optim partit view .
r4 r1 r2 r 3 r1 viewref r4 r1 r2 r3 r1 view2 r4 r1 r2 r3 r1 view1 rocl 1 fig .
10 multi-view rate region rate save obtain merg .
merg viewref may forc merg view .
optim paramet  defin rate-distort trade-off qualiti paramet .
vari  , differ rate-distort point found , abl obtain 3d scene represent differ level detail .
5 multi-view depth map code section 4 , propos method obtain joint segment scene combin color depth partit explain .
order convey depth inform decod propos method pack infor- mation multipl view effici .
method assum camera paramet color imag view encod sent decod decod depth map inform .
partit pref project back , follow invers process equat ( 21 ) , obtain consist set code partit p codi nv view .
general code scheme view present figur 11 .
first step consist analyz contour lp colori lp depth present p codi .
contour p cod lp depth encod freeman contour code [ 5 ] independ view .
color contour , infor- mation color boundari activ ( region merg ) sent decod indic merg done .
activ inform store 1 bit per merg href .
partit inform encod , textur coeffici generat .
first view encod textur inform plane 16 marc maceira et al .
3d multi-view partit bitstream encod view partit analysi contour code textur bitstream nregs_color pi lpi color 3d model depth_edg activ color boundari textur encod cod fig .
11 encod scheme .
partit inform generat independ view .
textur encod encod 3d plane intra first view appear inter encod previous .
associ view intra mode , plane subsequ view encod use inter view predict possibl .
intra mode , 3d plane repres use distanc plane camera plus plane orient .
plane orient store spheric coordin 3d angl   :  = arcco ( nz n )  = arctan ( ny nx ) ( 27 ) nz compon point toward z > 0 .
result angl ( rang 0     2 0    2 ) encod equal precis uniform quantize .
distanc plane camera convert altern quantiz represent use distanc depth map convers : cdist = 1.0 ( pl , c ) ( 2ndist1 )  ( 1.0 minz  1.0 maxz ) + 1.0 maxz ( 28 ) ( pl , c ) euclidean distanc region plane camera , ndist number bit use quantize maxz minz maximum minimum depth valu imag .
subsequ view , inter mode use .
plane first view project view done construct multi-view partit viewref .
region view candid plane first view .
plane compar plane code intra view .
plane lower error kept .
plane code inter , skip mode sent , region intra code .
bitstream ( depict figur 12 ) provid decod infor- mation need recov partit textur region .
partit bitstream , activ color boundari textur bitstream view provid addit number region nreg color initi color partit lp colori .
nreg color nv view .
3d hierarch optim multi-view depth map code 17 depth partit inform activ boundari textur coeffici view 1 view nv view 1 view nv view 1 intra view nv inter view 2 inter ... ... ...
fig .
12 bitstream inform nv view .
depth partit inform signal depth boundari ad color inform .
activ boundari inform final code partit obtain .
textur coeffici view 2 nv make use previous transmit coeffici .
decod process depict figur 13 .
view , lp colori built decod color imag .
partit , color edg remov use activ color boundari inform .
new edg ad partit bitstream .
depth map recov decod textur bitstream project 3d plane p codi .
color segmentationdecod color imag decod view partit decod activ color boundari textur bitstream textur decod lpi color decod depth map view nregs_color 3d multi-view partit bitstream pi cod fig .
13 decod scheme .
lp colori generat decod color imag use nreg color .
use inform activ color boundari partit bitstream encod partit p codi generat .
decod depth map view obtain project 3d plane p codi .
6 experiment evalu section , present quantit evalu multi-view opti- mizat segment code method .
use rgb-d multi-view sequenc ballet , undo dancer , breakdanc ghost town evalua- tion [ 22 , 35 , 36 ] .
sequenc compos color depth frame 8 camera view well camera paramet frame .
ballet breakdanc captur use color ( rgb ) camera depth comput afterward .
undo dancer ghost town synthet se- quenc .
resolut sequenc 1920x1088 pixel undo dancer 18 marc maceira et al .
ghost town 1024x768 pixel ballet breakdanc .
assum color view previous decod receiv side .
dif- ferent stage propos method evalu use 25 frame sequenc .
order assess techniqu , first explor differ configur propos method section 6.1 .
final , propos compar hevc , 3d-hevc mv-hevc section 6.2 .
experi make use three view : viewleft , viewright viewref use configur 3d-hevc .
viewleft viewright two base view encod viewref locat select perform optim process multi-view optim block ( see section 4.2 ) .
view correspond virtual view 3d-hevc .
color depth map imag well camera paramet avail three view consid .
6.1 configur section , differ block overal system analyz .
first experi studi number view affect code perform method .
, show gain use rd optim hierarchi .
third experi , show differ use color partit combin color plus depth partit .
final studi distribut rate among depth partit inform , activ boundari textur coeffici .
result differ sequenc averag singl rate-distort curv .
combin multipl view experi studi combin sever view prior multi-view optim figur 14 show result encod viewref depth map differ configur .
configur , differ number view use obtain hierarchi viewref .
1 view optim configur , inform viewref use .
configur one achiev better rate-distort figur .
2 view optim configur use inform viewleft viewright .
project view viewref abl match depth boundari viewref , result 2 view optim 1 view configur .
3 view optim 3 view use .
result slight 1 view optim , case optim 3 view togeth , obtain consist segment across view .
result optim code partit configur project back viewleft viewright , present section 5 .
result shown figur 15 .
differ configur achiev similar result , result single-view configur .
behavior due 3d hierarch optim multi-view depth map code 19 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 rate ( bpp ) 20 25 30 35 40 45 50 p n r 1 view optim 2 view optim 3 view optim fig .
14 code result viewref .
1 view configur inform viewref , 2 view configur use 2 view project viewref 3 view configur use three .
fact hierarch optim viewref restrict possibl merg view extra rate need encod occlud region .
single-view optim , number region differ view reduc build share hierarchi view viewref .
abl merg region single-view reduc number region occlud viewref creat hierarchi href viewref relev region .
rate-distort optim section , perform rate-distort optim method single-view configur studi .
differ cut hierarchi hc di ( , differ partit ) extract follow merg sequenc compar optim partit pi differ qualiti paramet  .
result shown figur 16 .
use propos optim , abl achiev gain 2-3 db use h depth merg sequenc .
color depth combin figur 17 show r-d curv three differ option : use depth partit , use color partit use color-depth partit .
use color partit advantag contour inform sent .
 good option low bit-rat lack precis 20 marc maceira et al .
0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 rate ( bpp ) 20 25 30 35 40 45 50 p n r multiview 1 view multiview 2 view multiview 3 view singl view fig .
15 result figur 14 translat viewleft viewright .
three multi- view configur ( hierarchi built viewref ) compar hierarchi view independ .
region boundari limit maximum achiev qualiti .
use depth inform allow obtain higher qualiti contour sent , curv displac right .
combin color depth provid good trade-off depth contour approxim use color boundari reduc set depth contour present color partit must sent .
multi-view optim : rate statist evalu distribut rate among depth partit inform , activ boundari textur coeffici , bitstream present section 5 analyz determin differ contribut .
figur 18 show rate distribut among categori .
bar normal maximum rate last column .
cost encod textur inform activ boundari remain fair constant among differ rate- distort point .
howev , partit cost becom prevail one rate increas .
result optim depend given budget rate .
budget low , color boundari ad .
bit alloc , optim add cost depth boundari .
6.2 rate-distort result propos method tempor predict , intra mode differ method taken .
sequenc , three view use , 3d hierarch optim multi-view depth map code 21 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 rate ( bpp ) 20 25 30 35 40 45 50 p n r hierarchi optim fig .
16 rate-distort result propos optim method .
use initi hdepth , result code partit 3d plane follow merg sequenc propos optim .
viewleft viewright encod ( view independ ) middl one employ locat viewref .
view render use origin depth map serv refer differ method virtual view .
object evalu propos method , error measur taken depth map synthes virtual view .
sinc depth map visual use render new imag , measur virtual view give real perform method .
measur direct depth map give overview origin depth map repres plane .
similar result obtain use psnr ssim .
measur show similar tendenc , psnr shown evalu error .
result measur depth map differ sequenc shown figur 19 .
comparison , 3d-hevc perform wors hevc configur method literatur .
color depth map two view encod togeth 3d-hevc , view synthesi optim maxim qualiti virtual view direct depth map .
propos method outperform [ 12 ] ( [ maceira2016 ] ) sequenc .
use multi-view redund well propos optim net allow 2 db gain differ sequenc .
improv noteworthi undo dancer sequenc , planar characterist scene fulli exploit .
hand , method problem ghost town sequenc , number ad depth contour similar [ 12 ] , thus achiev similar result .
22 marc maceira et al .
0.000 0.005 0.010 0.015 0.020 0.025 0.030 rate ( bpp ) 20 25 30 35 40 45 p n r color depth color depth fig .
17 r-d curv use color partit , depth partit combin color depth partit encod depth map .
partit use depth includ cost encod textur boundari color need textur inform .
color segment abl proper segment element differ depth sinc tonal .
sequenc depth map noisier , ballet breakdanc , 3d planar segment abl repres correct depth map , thus obtain wors result hevc standard .
result render virtual view shown figur 20 .
result planar implement achiev better result hevc mv-hevc ballet undo dancer closer depth map comparison sequenc .
notic undo dancer 3d-hevc improv hevc mv-hevc .
due 3d-hevc encod togeth color depth inform .
take depth map 3d-hevc , use color imag method render view .
result figur 20 summar tabl 1 2 bjontegaard  metric comput averag gain psnr ( bd-snr ) comput averag save bitrat ( bd-rate ) shown , take hevc refer .
tabl 1 bd-rate mv-hevc 3d-hevc maceira2016 propos undo dancer -23.69 -40.97 -36.94 -49.16 ghost town -39.96 -64.50 42.03 2.91 ballet -6.03 -71.89 -37.16 -41.63 breakdanc -6.16 -35.71 48.46 150.13 3d hierarch optim multi-view depth map code 23 5 6 7 8 9 10 11 12 13 14 rate ( bpp/1000 ) 0 10 20 30 40 50 60 70 80 90 100 % f ra te depth partit activ bound .
textur fig .
18 distribut rate textur , partit activ boundari inform differ rate-distort point .
tabl 2 bd-snr mv-hevc 3d-hevc maceira2016 propos undo dancer 1.16 1.80 2.12 3.38 ghost town 1.43 2.16 -1.03 0.01 ballet 0.20 3.47 1.57 1.51 breakdanc 0.17 1.02 -1.03 -2.57 multi-view method propos improv rate-distort result [ 12 ] sequenc , achiev encod result competit hevc standard .
howev , result translat equal virtual view .
instanc , ballet breakdanc sequenc noisier present larger baselin view .
case , propos method reduc number 3d plane encod correspond depth map , penal perform method .
hand , sequenc undo dancer , planar characterist depth map allow improv hevc standard .
addit , multi-view method present work extract consist segment differ view , could use applic .
7 conclus work present region-bas multi-view depth map cod- ing techniqu base global 3d scene represent .
color depth segment differ view combin singl hierarch 24 marc maceira et al .
0.000 0.005 0.010 0.015 rate ( bpp ) ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [ 2016 ] 0.020 0.025 25 30 35 40 45 50 55 0.000 0.005 0.010 0.015 0.020 rate ( bpp ) 0.025 0.030 0.035 0.040 25 30 35 40 45 50 ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [ 2016 ] ) undo dancer b ) ghost town 0.00 0.02 0.04 0.06 rate ( bpp ) ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [ 2016 ] 0.08 0.10 20 25 30 35 50 45 40 0.00 0.01 0.02 0.03 0.04 0.05 rate ( bpp ) 0.06 hevc mv_hevc 3d_hevc propos multi-view maceira [ 2016 ] 0.07 0.08 0.0925 30 35 40 45 ps n r c ) ballet ) breakdanc fig .
19 rate distort result evalu direct depth map .
represent .
optim process hierarchi allow obtain optim code partit .
represent retriev uniqu 3d planar decomposit scene .
method encod 3d planar decomposit multi-view depth map code applic also propos .
textur infor- mation sent model result region 3d plane send correspond plane paramet .
use color partit ( alreadi avail decod , without extra cost ) allow reduc cost send- ing code partit .
multi-view code method show competit result hevc .
side benefit propos method , addit code , global 3d scene represent suscept use task action detect [ 10 ] , scene recognit [ 8 ] scene label [ 33 ] .
acknowledg work develop framework project tec2013- 43935-r tec2016-75976-r , financ spanish ministerio de economa com- petitividad european region develop fund ( erdf ) 3d hierarch optim multi-view depth map code 25 0.000 0.005 0.010 0.015 rate ( bpp ) ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [ 2016 ] 0.020 0.025 28 30 42 40 38 36 34 32 0.000 0.005 0.010 0.015 0.020 rate ( bpp ) 0.025 0.030 0.035 0.040 34 36 38 40 42 44 ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [ 2016 ] ) undo dancer b ) ghost town 0.00 0.02 0.04 0.06 rate ( bpp ) 28 30 ps n r hevc mv_hevc 3d_hevc propos multi-view maceira [ 2016 ] 0.08 0.10 32 34 36 38 40 0.00 0.01 0.02 0.03 0.04 0.05 rate ( bpp ) 0.06 hevc mv_hevc 3d_hevc propos multi-view maceira [ 2016 ] 0.07 0.08 0.09 32 33 34 40 39 38 37 36 35 ps n r c ) ballet ) breakdanc fig .
20 rate distort result evalu render view .
refer 1 .
barrera f , padoy n ( 2014 ) piecewis planar decomposit 3d point cloud obtain multipl static rgb-d camera .
: 2014 2nd interna- tional confer 3d vision , vol 1 , pp 194201 2 .
charikar , guruswami v , wirth ( 2003 ) cluster qualit inform .
: proceed 44th annual ieee symposium foundat comput scienc , ieee comput societi , washington , dc , usa , foc  03 , pp 524533 3 .
fehn c ( 2004 ) depth-image-bas render ( dibr ) , compress , transmiss new approach 3d-tv 4 .
fischler , boll rc ( 1981 ) random sampl consensus : paradigm model fit applic imag analysi autom car- tographi .
commun acm 24 ( 6 ) :381395 5 .
freeman h ( 1961 ) encod arbitrari geometr configur .
ire transact electron comput ec-10 ( 2 ) :260268 6 .
gao , cheung g , maugey , frossard p , liang j ( 2016 ) encoder-driven inpaint strategi multiview video compress .
ieee transact imag process 25 ( 1 ) :134149 26 marc maceira et al .
7 .
glasner , vitaladevuni sn , basri r ( 2011 ) contour-bas joint cluster multipl segment .
: proceed 2011 ieee confer comput vision pattern recognit , ieee comput societi , washington , dc , usa , cvpr  11 , pp 23852392 8 .
gupta , arbelaez p , malik j ( 2013 ) perceptu organ recog- nition indoor scene rgb-d imag .
: comput vision pattern recognit ( cvpr ) , 2013 ieee confer , pp 564571 9 .
kowdl , sinha , szeliski r ( 2012 ) multipl view object cosegment use appear stereo cue .
: european confer comput vision , firenz , itali , pp 789803 , doi 10.1007/978-3-642-33715-4 57 10 .
liang b , zheng l ( 2015 ) survey human action recognit use depth sensor .
: digit imag comput : techniqu applic ( dicta ) , 2015 intern confer , pp 18 11 .
luca lfr , wegner k , rodrigu nmm , pagliari cl , da silva eab , de faria smm ( 2015 ) intra predict depth map code use flexibl block partit .
ieee transact imag process 24 ( 11 ) :4055 4068 12 .
maceira , morro jr , ruiz-hidalgo j ( 2016 ) depth map compress via 3d region-bas represent .
multimedia tool applic pp 124 13 .
merkl p , smolic , muller k , wiegand ( 2007 ) effici predict structur multiview video code .
ieee transact circuit system video technolog 17 ( 11 ) :14611473 14 .
merkl p , muller k , marp , wiegand ( 2016 ) depth intra code 3d video base geometr primit .
ieee transact circuit system video technolog 26 ( 3 ) :570582 15 .
micusik b , kosecka j ( 2009 ) piecewis planar citi 3d model street view panoram sequenc .
: comput vision pattern recognit , 2009 .
cvpr 2009 .
ieee confer , pp 29062912 16 .
muller k , merkl p , wiegand ( 2011 ) 3-d video represent use depth map .
proceed ieee 99 ( 4 ) :643656 17 .
muller k , schwarz h , marp , bartnik c , boss , brust h , hinz , lakshman h , merkl p , rhee fh , tech g , winken , wiegand ( 2013 ) 3d high-effici video code multi-view video depth data .
ieee transact imag process 22 ( 9 ) :33663378 18 .
ortega , ramchandran k ( 1998 ) rate-distort method imag video compress .
ieee signal process magazin 15 ( 6 ) :2350 19 .
ostermann j , borman j , list p , marp , narroschk , pereira f , stockhamm , wedi ( 2004 ) video code h.264/avc : tool , per- formanc , complex .
ieee circuit system magazin 4 ( 1 ) :728 20 .
ozkalayc bo , alatan aa ( 2014 ) 3d planar represent stereo depth imag 3dtv applic .
ieee transact imag process 23 ( 12 ) :52225232 21 .
ren x , bo l , fox ( 2012 ) rgb- ( ) scene label : featur al- gorithm .
: comput vision pattern recognit ( cvpr ) , 2012 ieee confer , pp 27592766 3d hierarch optim multi-view depth map code 27 22 .
rusanovskyy , aflaki p , hannuksela ( 2011 ) undo dancer 3dv se- quenc purpos 3dv standard .
iso/iec jtc1/sc29/wg11 mpeg2010 20028 23 .
salembi p , garrido l ( 2000 ) binari partit tree effici repre- sentat imag process , segment , inform retriev .
ieee transact imag process 9 ( 4 ) :561576 24 .
schwarz la , mateus , lallemand j , navab n ( 2011 ) track plane time flight camera j-linkag .
: applic comput vision ( wacv ) , 2011 ieee workshop , pp 664671 25 .
shoham , gersho ( 1988 ) effici bit alloc arbitrari set quantize 36 ( 9 ) :14451453 26 .
silberman n , hoiem , koh p , fergus r ( 2012 ) indoor segment support infer rgbd imag .
: eccv 27 .
sinha , steed , szeliski r ( 2009 ) piecewis planar stereo image- base render .
: intern confer comput vision , kyoto , japan , pp 18811888 28 .
sullivan gj , ohm jr , han wj , wiegand ( 2012 ) overview high effici video code ( hevc ) standard .
ieee transact circuit system video technolog 22 ( 12 ) :16491668 29 .
sullivan gj , boyc jm , chen , ohm jr , segal ca , vetro ( 2013 ) standard extens high effici video code ( hevc ) .
ieee journal select topic signal process 7 ( 6 ) :10011016 30 .
torr l , kunt ( 1996 ) second generat video code techniqu , springer us , boston , , pp 130 31 .
vara , alfaro , marqu f ( 2015 ) multiresolut hierarchi co- cluster semant segment sequenc small variat .
: 2015 ieee intern confer comput vision ( iccv ) , pp 45794587 32 .
verleysen c , de vleeschouw c ( 2016 ) piecewise-planar 3d approxima- tion wide-baselin stereo .
: ieee confer comput vision pattern recognit ( cvpr ) 33 .
wang , lu j , cai j , wang g , cham tj ( 2015 ) unsupervis joint featur learn encod rgb-d scene label .
ieee transact imag process 24 ( 11 ) :44594473 34 .
yin f , velastin sa , elli , makri ( 2015 ) learn multi-planar scene model multi-camera video .
iet comput vision 9 ( 1 ) :2540 35 .
zhang j , li r , li h , rusanovskyy , hannuksela mm ( 2011 ) ghost town fli 3dv sequenc purpos 3dv standard .
iso/iec jtc1/sc29/wg11 , doc 20027 36 .
zitnick cl , kang sb , uyttendael , winder , szeliski r ( 2004 ) high- qualiti video view interpol use layer represent .
: acm siggraph 2004 paper , new york , ny , usa , siggraph  04 , pp 600 608 adpc352.tmp upcommon portal del coneix obert de la upc 11tuhttp : //upcommons.upc.edu/e-print aquesta s una cpia de la versi author  final draft d'un articl publicat la revista multimedia tool applic .
url d'aquest document upcommon e-print : 11tuhttp : //hdl.handle.net/2117/113183u11t articl publicat / publish paper :
