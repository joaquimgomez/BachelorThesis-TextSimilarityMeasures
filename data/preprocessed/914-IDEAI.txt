1 multiscal combinatori group imag segment object propos gener jordi pont-tuset*, pablo arbelaez*, jonathan t. barron, member, ieee, ferran marques, senior member, ieee, jitendra malik, fellow, ieee abstractw propos unifi approach bottom-up hierarch imag segment object propos gener recognition, call multiscal combinatori group (mcg). purpose, develop fast normal cut algorithm. propos high-perform hierarch segment make effect us multiscal information. finally, propos group strategi combin multiscal region highly-accur object propos explor effici combinatori space. present single-scal combinatori group (scg), faster version mcg produc competit propos second image. conduct extens comprehens empir valid bsds500, segvoc12, sbd, coco datasets, show mcg produc state-of-the-art contours, hierarch regions, object proposals. index termsimag segmentation, object proposals, normal cuts. f 1 introduct paradigm shape field object recog-nit decade. one, popular viola-jon face detect algorithm [1], formu- late object local window classification. ba- sic scanning-window architecture, reli histogram gradient linear support vector machines, introduc dalal trigg [2] context pedestrian detect core semin object detector pascal challeng de- formabl model [3]. second paradigm reli perceptu group provid limit number high-qual category- independ object proposals, de- scribe richer represent input sophist learn methods. exampl famili [4], [5]. recently, approach domin pascal segment challeng [6], [7], [8], [9], im- prove object detect [10], fine-grain categor [11] proven competit large-scal classif [12]. power second paradigm critic depend accuraci number object proposals, increas bodi research delv j. pont-tuset f. marqu depart signal theori communications, universitat politecnica catalunya, barcelonatech (upc), spain. e-mail: p. arbelaez depart biomed engineering, universi- dad lo andes, colombia. e-mail: j. t. barron, j. malik depart electr engin science, univers california berkeley, berkeley, ca 94720. e-mail: * author contribut equal fig. 1. top: origin image, instance-level ground truth coco multiscal hierarch segmenta- tion. bottom: best object propos 150. problem gener [13], [14], [15], [12], [16], [17], [18], [19]. however, approach typic focu learn gener properti object set examples, reason fix set region contour produc extern bottom-up segment [20], [21]. paper, propos unifi approach multiscal hierarch segment object propos gener call multiscal combinatori group (mcg). fig. 1 show exampl result fig. 2 overview pipeline. main contribut are: effici normal cut algorithm, practic provid 20 speed-up eigenvector comput requir contour global [20], [22] (sect. 3.1). state-of-the-art hierarch segment lever- ag multiscal inform (sect. 3.3). group algorithm produc accur object propos effici explor combinatori space multiscal region (sect. 5). 2017 ieee. person us materi permitted. permiss ieee obtain uses, current futur media, includ reprinting/ republish materi advertis promot purposes,cr new collect works, resal redistribut server lists, reus copyright compon work works. doi 10.1109/tpami.2016.2537320 2 f ixed-scal segment r escal & lignment c ombin r e lu ti o n c ombinatori group mage p yramid segmentati p yramid al gned h ierarchi object propos multiscal hierarchi fig. 2. multiscal combinatori grouping. start multiresolut imag pyramid, perform hierarch segment scale independently. align multipl hierarchi combin singl multiscal segment hierarchy. group compon produc rank list object propos effici explor combinatori space regions. conduct comprehens large-scal empir validation. bsds500 (sect. 4) report signific progress contour detect hierarch segmen- tation. voc2012, sbd, coco segment dataset (sect. 6), propos obtain overal state-of- the-art accuraci segment propos bound boxes. mcg efficient, good generaliza- tion power make paramet free practice, provid rank set propos competit regim number proposals. 2 relat work space reasons, focu review recent normal- iz cut algorithm object propos recognition. fast normal cuts: effici comput normalized-cut eigenvector subject recent work, comput bottleneck group algorithms. taylor [23] present tech- niqu simpl watersh oversegment reduc size eigenvector problem, sacri- fice accuraci speed. similar approach solv eigenvector problem reduc space, us simpl image-pyramid oper affin matrix (instead separ segment algorithm) loss perform despit 20 speed improvement. mair yu [24] present novel multigrid solver produc eigenvector multipl scales, speed fine-scal eigenvector comput leverag coarse-scal solutions. techniqu us scale-spac structur image, instead solv problem multipl scales, simpli reduc scale problem, solv reduc scale, upsampl solut preserv structur image. such, techniqu faster simpler, requir line code wrap standard spars eigensolver. object proposals: class-independ method gener object hypothes divid output imag window gen- erat segment proposals. former, alex et al. [16] propos ob- ject measur score randomly-sampl imag win- dow base low-level featur comput superpixel [21]. manen et al. [25] propos us random prim algorithm, zitnick et al. [26] group contour directli produc object windows, cheng et al. [27] gener box propos 300 imag second. contrast approaches, focu finer-grain task pixel-accur object extraction, window selection. however, tak- ing bound box segment proposals, result state art window proposals. method produc segment propos- als, carreira sminchisescu [18] hypothes set placement fore- background seed and, configuration, solv constrain parametr min-cut (cpmc) problem gener pool object hypotheses. endr hoiem [19] base category-independ object propos iter gener hierarchi regions, base contour detector [20] occlus boundari [28]. kim grauman [17] propos match part shape exemplar objects, regardless class, detect contour [20]. infer presenc shape propos object adapt match object comput super- pixels. uijl et al. [12] present select search algorithm base segmentation. start superpixel [21] varieti color spaces, produc set segment hierarchi region merging, produc set object proposals. advantag differ hierarchi gain diversity, leverag multiscal inform differ 3 color spaces. recently, work propos train cascad classifi learn set region merg form objects. ren shankhnarovich [29] produc region hierarchi iter merg pair region adapt classifi differ scales. weiss taskar [30] special classifi size class annot instanc produc object proposals. malisiewicz efro [4] took step combinatori grouping, run multipl segment differ paramet merg adjac regions. [8], step taken consid hierarch segment differ- ent scale combin pair triplet adjac region coarser scale produc object proposals. recent wave object propos algorithm repres [13], [14], [15], qualiti semin propos work improv speed considerably. krahenbuhl koltun [13] object propos identifi critic level set geodes distanc transforms, base seed place learnt place image. rantalankila et al. [14] perform global local search space set superpixels. humayun et al. [15] reus graph perform parametr min-cut differ seed order speed process up. substanti differ approach previou work that, instead reli pre- comput hierarchi superpixels, propos uni- fi approach produc group high-qual multiscal regions. respect combinatori ap- proach [4], [8], main contribut develop effici algorithm explor larger combinato- rial space take account set object examples, increas likelihood have complet object pool proposals. approach flexibl adapt specif applic type objects, produc propos trade-off number accuracy. 3 segment algorithm consid segment imag region partit domain s = {si}i. segment hierarchi famili partit {s,s1, ...,sl} that: (1) s finest set superpixels, (2) sl complet domain, (3) region coars level union region fine levels. hierarchi level si assign real-valu index repres dendrogram, region tree height node index. furthermore, repres ultrametr contour map (ucm), imag obtain weight boundari pair adjac region hierarchi index merg [31], [32]. represent unifi problem contour detect hierarch imag segmentation: th re ho ld merging-sequencepartit * 1 2 l region tree (dendrogram) * # # # sl s2 s1 s* ultrametr contour map fig. 3. dualiti ucm region tree: schemat view dual represent seg- mentat hierarchi region dendrogram ultrametr contour map. threshold level ucm produc segmen- tation si. figur 3 schemat concepts. first, lower left corner show probabl boundari ucm. main properti ucm threshold contour strength certain value, obtain close boundari map, partition. threshold differ i, therefore, obtain so-cal merging-sequ partit (left column figur 3); name fact step sequenc correspond merg set region share boundari strength exactli i. instance, boundari wheel floor strength 1, threshold contour 1 make wheel merg floor. repres region partit node graph, repres result merg parent tree. result sweep valu repres region tree, root region repres imag (right figur 3). given merg associ contour strength, region tree fact region dendogram. example, gpb-ucm algorithm [20], brightness, color textur gradient fix disk size computed. local contour cue global spectral graph-partitioning, result gpb contour detector. hierarch segment perform iter merg adjac region base averag gpb strength common boundary. algorithm produc tree region multipl level homogen brightness, color texture, boundari strength ucm interpret measur contrast. coarse-to-fin power process strategi vision. exploit differ wai develop efficient, scalabl high-perform segment algorithm: (1) speed-up spectral graph partit (2) creat align segment hi- erarchies. 4 3.1 fast downsampl eigenvector comput normal cut criterion kei global mechan recent high-perform contour detec- tor [20], [22]. powerful, spectral graph partit signific comput cost memori footprint limit scalability. section, present effici normal cut approx- imat practic preserv perform contour detection, have low memori require- ment provid 20 speed-up. given symmetr affin matrix a, like comput k smallest eigenvector laplacian a. directli comput eigenvector costli sophist solvers, larg size a. present techniqu effici approxim eigenvector comput take advantag multiscal natur problem: model affin pixel image, imag natur lend multiscal pyramid-lik represent algorithms. algorithm inspir observations: 1) bistochast (the row column sum 1) eigenvector laplacian equal eigenvector laplacian a2, 2) scale-similar natur images, eigenvector downsampl version pixel remov similar eigen- vector a. let defin pixel decim (a), take affin matrix return set indic rows/column correspond decim version imag constructed. is, = pixel decim (a), [i, i] decim matrix altern row column im- ag removed. comput eigenvector [i, i] work poorly, decim disconnect pixel affin matrix, eigenvector decim squar affin matrix a2 [i, i] similar a, squar matrix decim intuit allow pixel propag inform neighbor graph, maintain connec- tion decimation. algorithm work effici comput a2 [i, i] [:, i]ta [:, i]1 (the naiv approach squar decim prohibit expensive), comput eigenvector a2 [i, i], upsampl eigenvector space origin imag pre-multipli [:, i]. squaring-and-decim procedur appli recurs times, applic improv effici slightli sacrif accuracy. pseudocod algorithm, dncut (downsampl normal cuts) given algorithm 1, affin matrix d number time squaring-and-decim oper applied. algorithm repeatedli appli joint squaring-and-decim procedure, comput 1. matlab-lik notat [:, i] indic keep column matrix indic set i. algorithm 1 dncuts(a, d, k) 1: a0 2: s = [1, 2, . . . , d] 3: pixel decim (as1) 4: bs as1 [ : , ] 5: cs diag(bs~1)1b 6: ct bs 7: end 8: xd ncuts(ad, k) 9: s = [d, d 1, . . . , 1] 10: xs1 csx 11: end 12: return whiten(x0) fig. 4. exampl segment projection. order snap boundari segment r (left) segment s (middle), align, comput (r,s) (right) assign segment s mode label r. smallest k eigenvector final downsam- pled matrix ad standard spars eigensolv ncuts(ad, k), repeatedli upsampl eigen- vectors. bistochast decim orthonorm operation, normal algorithm (line 5) whiten result eigenvector (line 10). valu d = 2 d = 3 work practice. larger valu d yield littl speed improv (a cost spent downsampl a0) start neg affect accuracy. techniqu similar nystrom method comput eigenvector subset a, squaring-and-decim procedur mean depend long-rang connect pixels. 3.2 align segment hierarchi order leverag multi-scal information, ap- proach combin segment hierarchi comput independ multipl imag resolutions. how- ever, subsampl imag remov detail smooth awai boundaries, result ucm mis- aligned, illustr second panel fig. 2. section, propos algorithm align arbitrari segment hierarchi target segment and, sect. 5, effect multi-scal segmentation. basic oper snap boundari segment r = {ri}i segment s = {sj}j , illustr fig. 4. purpose, defin l(sj), 5 new label region sj s, major label pixel r: l(sj) = argmax |sj ri| |sj | (1) segment defin new label region s project r s denot (r,s). order project ucm target segment s , denot (ucm,s), project turn level hierarchi s. note that, level project segmentation, famili project construct hierar- chy segmentations. procedur summar pseudo-cod algorithm 2. algorithm 2 ucm rescal align require: ucm set level [t1, ..., tk ] require: target segment s 1: ucm 0 2: t = [t1, ..., tk ] 3: s samplehierarchy(ucm, t) 4: s rescalesegmentation(s,s) 5: s (s,s) 6: contour extractboundary(s) 7: ucm max(ucm, t contours) 8: end 9: return ucm observ routin samplehierarchi extractboundari comput effici involv threshold oper connect compon labeling. complex domin rescalesegment step 4, nearest neighbor interpolation, project step 5, comput k times. 3.3 multiscal hierarch segment single-scal segmentation: consid input follow local contour cues: (1) brightness, color textur differ half-disk size [33], (2) spars code patch [22], (3) structur forest contour [34]. global contour cue indepen- dentli fast eigenvector gradient sect. 3.1, combin global local cue linearly, construct ucm base mean contour strength. tri learn weight gradient ascent f-measur train set [20], evalu final hierar- chi open contours. observ object favor qualiti contour expens region obtain better overal result optim segment cover metric [20]. hierarchi alignment: construct multiresolu- tion pyramid n scale subsampl / super- sampl origin imag appli single- scale segmenter. order preserv structur details, declar set possibl boundari locat finest superpixel highest-resolution. then, appli recurs algorithm 2, project coarser ucm finer scale align highest resolut superpixels. multiscal hierarchy: alignment, fix set boundari locations, n strength them, come differ scales. formul problem binari boundari classif train classifi combin n featur singl probabl boundari estimation. exper- iment learn strategi combin ucm strengths: (a) uniform weight transform probabl platt method. (b) svm logist regression, linear addit kernels. (c) random forests. (d) algorithm single- scale. result learn method surprisingli similar, agreement observ report [33]. particular learn problem, hand dimens million data points, rel easi perform mainli driven high-perform calibr fea- tures. us simplest option (a). 4 experi bsds500 conduct extens experi bsds500 [35], standard evalu metric follow best practic rule dataset. report result recent evalu metric fop [36], [37], precision- recal object parts, publicly-avail code. single-scal segmentation: tabl 1-top show perform single-scal segment differ type input contour valid set bsds500. obtain high-qual hierarchi cue considered, show gener approach. furthermore, jointli (row comb. panel), segment outperform version individu cues, suggest abil leverag diversifi inputs. term efficiency, fast nor- maliz cut algorithm provid averag 20 speed- [20], start local cues, signific loss accuraci low memori footprint. multiscal segmentation: tabl 1-bottom evalu approach experiment condit upper panel. observ consist improv perform metric inputs, valid architectur multiscal segmentation. experi rang scale n = {0.5, 1, 2} adequ purposes. finer sampl wider rang scale provid notic improvements. test degrad version (not shown table). one, resiz contour origin imag resolution, creat ucm combin method final system. second one, transform per-scal ucm origin resolution, 6 boundari region fb fop sc pri vi input od oi od oi od oi od oi od oi si n g le -s ca le pb [33] 0.702 0.733 0.334 0.370 0.577 0.636 0.801 0.847 1.692 1.490 sc [22] 0.697 0.725 0.264 0.306 0.540 0.607 0.777 0.835 1.824 1.659 sf [34] 0.719 0.737 0.338 0.399 0.582 0.651 0.803 0.851 1.608 1.432 comb. 0.719 0.750 0.358 0.403 0.602 0.655 0.809 0.855 1.619 1.405 m u lt ca le pb [33] 0.713 0.745 0.350 0.389 0.598 0.656 0.807 0.856 1.601 1.418 sc [22] 0.705 0.734 0.331 0.384 0.579 0.647 0.799 0.851 1.637 1.460 sf [34] 0.725 0.744 0.370 0.420 0.600 0.660 0.810 0.854 1.557 1.390 comb. 0.725 0.757 0.371 0.408 0.611 0.670 0.813 0.862 1.548 1.367 tabl 1 bsds500 val set. control experi single-scal (top) multiscal (bottom) hierarch segment differ input contour detector omit strength transfer finest superpixel combin them. ablat version pro- duce interpol artifact smooth awai details, second suffer misalignment. fail improv perform single-scal result, provid addit empir support multiscal approach. observ small degra- dation perform forc input contour detector us origin imag resolution, indic advantag consid multiscal infor- mation stage processing. drastic chang result take input differ individu cue com- bination, sequel us version structur forest effici reasons, denot mcg- ucm-our. comparison state-of-the-art.: figur 5 com- pare multiscal hierarch segment mcg ( ) single-scal hierarch segment scg ( ) bsds500 test set method publicli avail code. compar recent iscra [29] hierarchi ( ), provid precomput authors. obtain consist best result date bsds500 oper regimes, term boundari region quality. note rang object scale bsds500 limited, translat modest absolut gain mcg ( ) respect scg ( ) term boundari evalu (left-hand plot), sig- nific improv term object part (right-hand plot). observ substanti improv respect gpb-ucm ( ) pascal, sbd, coco section 6 (e.g. fig. 9). ground-truth hierarchy: order gain insights, transfer strength ground-truth segment highest-resolut superpixel sn construct combin hierarchy. approxima- tion semant hierarchy, ground-truth hierarchi (gth) fig. 5, upper-bound approach share boundari locat differ strength. strength gth proport number subject mark it, provid natur correct semant ordering, outer object boundari stronger intern parts. recently, mair et al. [38] develop annot tool user encod explicitli perceptu strength contour. approach provid altern semant hierarchi reconstruct sampl flat annot multipl subjects. 5 object propos gener imag segment algorithm present previou section build low-level features, region unlik repres accur complet object heterogen parts. context, object propos techniqu creat set hypotheses, possibl overlapping, like repres object instances. approach object propos gener combinatori look set region seg- mentat hierarchi merg like repres complet objects. section, effici comput certain region de- scriptor segment tree. then, us techniqu effici explor set merg region hierarchy. finally, explain train paramet algorithm object propos rank candid probabl repres object. fast comput descriptors: let assume, instance, want comput area region hierarchy. intuitively, work strictli merging-sequ partitions, need scan pixel partitions. hand, work region tree allow scan imag comput area leaves, propag area parent addit area children. drawback, algorithm intric term code necessari data structures. take, instance, comput neighbor certain region, trivial scan partit merg sequenc (look region label adjac boundari pixels), need tailor data structur algorithm region tree. formally, let assum imag p pixels, build hierarchi base s superpixel (leav tree), m merg (differ ucm strength values). cost comput area region merging-sequ partit cost scan pixel partitions, p(m+1). contrast, cost region tree involv scan imag once, propag area values, p+m, notabl faster. built tailor algorithm data structur comput bound box, perimeter, neighbor region region tree representation. 7 boundari 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 recal p ci si human [0.81-0.21] iscra [0.72] gth [0.96] ncut [0.63] mcg-our [0.74] egb [0.61] scg-our [0.74] mshift [0.60] gpb-ucm [0.73] quadtre [0.41] object part 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 recal p ci si human [0.56-0.05] gth [0.64] mcg-our [0.38] scg-our [0.35] iscra [0.35] gpb-ucm [0.35] mshift [0.23] ncut [0.21] egb [0.16] quadtre [0.06] fig. 5. bsds500 test set. precision-recal curv boundari [35] (left) object part [36] (right). marker curv place optim dataset scale (ods), f measur present bracket legend. isol red asterisk refer human perform assess imag (one human partit rest human annot image) differ imag (one human partit human partit different, randomli selected, image). combinatori group proposals: cast object segment select region hierarchy, words, combinatori optim problem hierarchy. illustr principle, figur 6(a) show simplifi represent hierarchi figur 3. figur 6(b) (c) object proposals, represent region hierarchy. r4 r5 r1 r2 r3 r6 r9 r7 r1 r2 r3 r4 r8 r5 r6 (a) r9 r7 r1 r2 r3 r4 r8 r5 r6 (b) r9 r7 r1 r2 r3 r4 r8 r5 r6 (c) fig. 6. object segment combinatori opti- mization: exampl object (b), (c), form select- ing region hierarchi (a). hierarchi built take low-level fea- ture account, us semant information, object usual optim repres singl region hierarchy. example, figur 6(c) show optimum represent car, consist regions. sensibl approach creat object propos there- fore explor set n-tupl regions. main idea mcg explor set efficiently, take advantag region tree representation, fast comput region neighbors. set tuples, however, huge, feasibl explor exhaustively. approach rank propos height region tree (ucm strength) explor tree top, certain threshold. speed process up, design top-down algorithm comput region neighbor comput certain depth tree. improv results, consid n-tupl result mcg-ucm-our hierar- chy, rest hierarchi comput differ scales. experiments, divers significantli improv propos results. paramet learn pareto optimization: mcg take set divers hierarchi comput n-tupl certain ucm strength. interpret n-tupl hierarchi rank list ni propos creat final set np proposals. train time, like find, differ- ent valu np, number propos rank list n joint pool np propos best achiev quality. frame learn problem pareto optim [39], [40] conflict object functions: number propos achiev quality. test time, select work point pareto front, repres { n } values, base number propos np handl minimum achiev qualiti 8 applic needs, combin n propos hierarchi list. formally, assum r rank list li, exhaust learn algorithm consid possibl valu r-tupl {n1, . . . , nr}, ni {0, . . . , |li|}; ad r 1 |li| parameter try, intract setting. figur 7 illustr learn process. reduc dimension search space, start select rank list l1, l2 (green curves) sampl list s level number propos (green dots). scan s2 differ parameter combin propos (blue dots). words, analyz set propos creat combin n1 l1 (green dots) n2 l2. 10 1 10 2 10 3 10 4 0.3 0.6 0.9 number propos q u al y 10 1 10 2 10 3 10 4 0.3 0.6 0.9 number propos q u al y 10 1 10 2 10 3 10 4 0.3 0.6 0.9 number propos q u al y rank list object propos l 1 l r pareto reduct paramet {n 1 n r} fig. 7. pareto learning: train combinatori gener propos pareto kei step optim consist discard parameter qualiti point pareto (red curve). (i.e., parameter substitut better qualiti number proposals, qualiti proposals.) sampl pareto s point iter process rank list combined. point final pareto correspond particular parameter {n1, . . . , nr}. train time, choos point curve, given number propos nc achiev qualiti interest (black triangle) store pa- ramet { n1, . . . , nr } . test time, combin the{ n1, . . . , nr } propos rank list. number sampl configur propos algorithm (r 1)s2, is, reduc exponenti problem (sr) quadrat one. regress rank proposals: reduc number proposals, train regressor low-level features, [18]. propos form set region reduc set hierarchies, focu featur comput effici bottom-up fashion, explain previ- ously. comput follow features: size location: area perimet can- didate; area, position, aspect ratio bound box; area balanc region candidate. shape: perimet (and sum contour strength) divid squar root area; area region divid bound box. contours: sum contour strength bound- aries, mean contour strength boundaries; mini- mum maximum ucm threshold appear disappear region form candidate. train random forest featur regress object overlap ground truth, diversifi rank base maximum margin relev measur [18]. tune random forest learn half train set valid half. final results, train train set evalu propos valid set pascal 2012. 6 experi pascal voc, sbd, coco section present large-scal empir valid object propos algorithm describ previ- ou section. perform experi annot databases, varieti measur demonstr state-of-the-art perform algorithm. dataset evalu measures: conduct ex- periment follow annot datasets: segment challeng pascal 2012 visual object class (segvoc12) [41], berkelei semant bound- ari dataset (sbd) [42], microsoft common object context (coco) [43]. consist imag annot object differ categories. tabl 2 summar number imag object instanc database. number number number class imag object segvoc12 20 2 913 9 847 sbd 20 12 031 32 172 coco 80 123 287 910 983 tabl 2 size databas perform metrics, measur achiev qualiti respect number pro- posals, is, qualiti oracl select best propos pool. align fact object propos preprocess step algorithm repres classifi them. want, therefore, achiev qualiti propos high possible, reduc number propos final fast possible. measur qualiti specif propos respect annot object, consid jaccard index j , known overlap intersect union; defin size intersect pixel set size union. 9 comput overal qualiti database, select best propos annot instanc respect j . jaccard index instanc level (ji) defin mean best overlap ground-truth instanc database, known best spatial support score (bss) [4] averag best overlap (abo) [12]. comput mean best overlap objects, ji, hide distribut qualiti differ objects. example, ji = 0.5 mean algorithm cover half object perfectli complet miss half, mean object cover exactli j = 0.5. inform us decid algorithm use. comput histogram best overlap provid rich information, result plot 3d (number proposals, bins, bin counts). alternatively, propos plot differ per- centil histogram. interestingly, certain percentil histogram best overlap consist comput number object best overlap certain jaccard threshold, interpret best achiev- abl recal techniqu certain threshold. comput recal differ thresholds: j =0.5, j=0.7, j=0.85. learn strategi evaluation: estim loss perform sweep possibl valu {n1, . . . , nr} combin propos list propos greedi strategy. so, compar strategi combin reduc problem feasible. specifically, combin 4 rank list come single- ton scales, instead 16 list come singletons, pairs, triplets, 4-tuples. limit search 20 000 proposals, speed process up. situation, mean loss achiev qualiti curv parameter ji = 0.0002, maximum loss ji=0.004 (0.74%). exchange, propos learn strategi 16 rank list take 20 second comput train set segvoc12, singleton-limit combin take 4 dai (the combin months). combinatori grouping: evalu pareto optim strategi train set segvoc12. before, extract list propos scale multiscal hierarchy, singletons, pairs, triplets, 4-tupl regions, lead 16 lists, rank minimum ucm strength region form proposal. figur 8 show pareto evolut ji respect number propos 1, 2, 3, 4 region propos (4, 8, 12, 16 lists, respectively) train test time segvoc12. baselines, plot raw singleton mcg-ucm-our, gpb- ucm, quadtree; uniform combin scales. 103 104 105 0 20 40 60 80 100 number propos r io n d tr ib u ti p er ce n ta g e scale 2.0 scale 1.0 scale 0.5 multi-scal fig. 10. region distribut learnt pareto optim segvoc12. improv consid combin 1-region propos ( ) 3 scale mcg-ucm-our respect raw mcg-ucm-our ( ) significant, corrobor gain diver- siti obtain hierarchi differ scales. turn, addit 2- 3-region propos ( ) notic improv achiev quality. show hierarchi object singl regions, make sens given built low- level featur only. improv ad 4- tupl ( ) margin number propos considering. analyz equal distribut propos scale ( ), propos consider, relev pareto optim becomes. select work point, gain pareto optim 2 points. figur 10 show distribut propos scale combin pareto front. coars scale (0.5) pick low number proposals, rest come plai increas number, afford detail proposals. multi-scal hierarchi weight, creat three. pareto select ranking: figur 8, red asterisk ( ) mark select configuration{ n1, . . . , nr } pareto (black triangl fig- ur 7), select practic level proposals. red plu sign ( ) repres set propos remov duplic propos overlap lead jaccard higher 0.95. propos point on rank learnt regressor ( ). test time (right-hand plot), directli combin learnt { n1, . . . , nr } propos rank list. note pareto optim overfit, given similar result train valid datasets. remov duplic rank results. case, note differ regress result train valid sets, reflect overfit- ting, despit benefici respect non-regress result. 10 train 102 103 104 105 106 0.4 0.5 0.6 0.7 0.8 0.9 number propos ja cc ar d d ex st ce le v el (j ) valid 102 103 104 105 106 0.4 0.5 0.6 0.7 0.8 0.9 number propos ja cc ar d d ex st ce le v el (j ) pareto 4-tupl pareto triplet pareto pair pareto singleton raw ours-multi singl. raw gpb-ucm singl. raw quadtre singl. equal distribut select configur filter candid regress rank fig. 8. pareto evaluation. achiev qualiti propos singletons, pairs, triplets, 4-tuples; raw propos hierarchi pascal segvoc12 train (left) valid (right) sets. pascal segvoc12 102 103 104 0.3 0.4 0.5 0.6 0.7 0.8 0.9 number propos ja cc ar d d ex st ce le v el (j ) sbd 102 103 104 0.3 0.4 0.5 0.6 0.7 0.8 0.9 number propos ja cc ar d d ex st ce le v el (j ) coco 102 103 104 0.3 0.4 0.5 0.6 0.7 0.8 0.9 number propos ja cc ar d d ex st ce le v el (j ) mcg-our scg-our cpmc [18] ci [19] gop [13] gl [14] rigor [15] shsh [17] sese [12] mcg-ucm-our gpb-ucm quadtre fig. 9. object proposals: jaccard index instanc level. result segvoc12, sbd, coco. valid set segvoc12, set propos (i.e., combin 16 lists) contain million propos image. multiscal com- binatori group allow reduc number propos 5 086 high achiev ji 0.81 ( ). regress rank ( ) allow reduc number propos point. segment proposals: comparison state art: compar result method produc segment object propos [13], [14], [15], [12], [16], [17], [18], [19], implemen- tation respect authors. train mcg train set segvoc12, us learnt paramet valid set segvoc12, sbd, coco. figur 9 show achiev qualiti instanc level (ji) method valid set segvoc12, sbd, coco. plot raw region mcg- ucm-our, gpb-ucm, quadtre baselin available. evalu faster single-scal version mcg (single-scal combinatori group - scg), take hierarchi nativ scale combin 4 region proposal. approach decreas comput load order magnitud keep competit results. mcg propos ( ) significantli outperform state-of-the-art regimes. bigger databas is, better mcg result respect rest, show techniqu better gener unseen imag (recal mcg train segvoc12). comment measur description, ji show mean aggreg results, mask distribu- tion qualiti object database. figur 11 show recal differ jaccard levels. first, plot highlight challeng coco is, observ signific drop performance, pronounc measur ji jc. interest result come observ evolut plot differ jaccard values. instanc perform gop ( ) mcg-our ( ) sbd. j=0.5 gop slightli outperform mcg, higher threshold, better mcg. overall, mcg special good result higher j values. words, look propos high accuracy, mcg method highest recall, regim databases. measur databases, scg ( ) obtain competit results, especi account 11 pascal segvoc12 102 103 104 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 j=0.5 j=0.7 j=0.85 number propos r ec al l sbd 102 103 104 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 j = 0.5 j = 0.7 j = 0.85 number propos r ec al l coco 102 103 104 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 j = 0.5 j = 0.7 j = 0.85 number propos r ec al l mcg-our scg-our cpmc [18] ci [19] gop [13] gl [14] rigor [15] shsh [17] sese [12] quadtre fig. 11. segment object proposals: recal differ jaccard levels. percentag annot object propos overlap segment ground-truth shape (not boxes) j = 0.5, j = 0.7, j = 0.85, differ number propos image. result segvoc12, sbd, coco. pascal segvoc12 102 103 104 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 j = 0.5 j = 0.7 j = 0.85 number propos r ec al l sbd 102 103 104 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 j = 0.5 j = 0.7 j = 0.85 number propos r ec al l coco 102 103 104 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 j = 0.5 j = 0.7 j = 0.85 number propos r ec al l mcg-our scg-our cpmc [18] ci [19] gop [13] gl [14] rigor [15] shsh [17] sese [12] rp [25] eb [26] bing [27] obj [16] quadtre fig. 12. bounding-box proposals: recal differ jaccard levels. percentag annot object bound box propos overlap ground-truth box j = 0.5, j = 0.7, j = 0.85, differ number propos image. result segvoc12, sbd, coco. 7 faster mcg, sections. complementar mcg respect propos techniques, combin pareto optim studi [44]. box proposals: comparison state art: focus provid segment object proposals, mcg provid box proposals, take bound box segment propos dedupl them. add state art box propos [26], [27], [25], [16] comparison. figur 12 show recal valu box result compar bound box annot objects, differ jaccard thresholds. techniqu specif tailor box propos competit j =0.5, perfor- manc drop significantli higher jaccard thresholds. despit tailor segment proposals, mcg clearli outperform state art look precis local bound boxes. again, scg competitive, especi take speed account. mcg scg time image: tabl 3 show time imag main step approach, raw imag contours, hierarch segmentation, propos generation. time comput singl core linux machine. mcg take 25 s. imag comput multiscal hierarchies, 17 s. gener rank 5 038 propos valid set segvoc12. single-scal scg produc segment hierarchi better qualiti gpb-ucm [20] 3 second signific memori footprint. 12 fig. 13. coco qualit results: image, ground truth, multi-scal ucm best mcg propos 500 best ranked. (more qualit exampl supplement material.) contour hierarch candid total detect segment gener mcg 4.6 1.3 20.5 5.6 17.0 9.8 42.2 14.8 scg 1.0 0.3 2.7 0.7 2.6 0.4 6.2 1.1 tabl 3 time second imag mcg scg tabl 4 show time-per-imag result compar rest state art segment propos gen- eration, run single-cor linux machine. propos gener mcg (our) 42.2 14.8 scg (our) 6.2 1.1 gop [13] 1.0 0.3 gl [14] 7.9 1.7 sese [12] 15.9 5.2 rigor [15] 31.6 16.0 cpmc [18] 120 ci [19] 120 shsh [17] 120 tabl 4 time comparison consid state-of-the-art techniqu produc segment proposals. run single-cor linux machine. practic considerations: kei aspect object propos size pool generate. depend application, need preci- sion bigger pool, need speed small pool exchang loss quality. mcg scg provid rank set 5 000 2 000 proposals, respectively, n case specif applic need smaller pool. practic point view, mean need re-parameter specif need certain application. contrast, techniqu provid rank proposals, need re-parameter adapt differ number proposals, desir practice. that, result mcg scg outstand gener power unseen imag (recal result sbd coco obtain learnt paramet segvoc12), mean mcg scg offer best chanc obtain competit result unseen databas need re-train. figur 13 show qualit result coco. 7 conclus propos multiscal combinatori group (mcg), unifi approach bottom-up segment object propos generation. approach produc 13 state-of-the-art contours, hierarch regions, object proposals. core fast eigenvector comput normalized-cut segment effici algorithm combinatori merg hierarch regions. present single-scal combinatori group (scg), speed version techniqu produc competit result second image. perform extens valid bsds500, segvoc12, sbd, coco, show quality, ro- bust scalabl mcg. recently, indepen- dent studi [45], [46] provid evid mcg current state-of-the-art object propos generation. moreover, object candi- date emploi integr high perform recognit system [47]. order promot reproduc research percep- tual grouping, resourc project code, pre-comput results, evalu protocol publicli available2. acknowledgements: iter work jordi pont-tuset prof. luc van gool vision lab (cvl) ethz, switzerland. work partli develop framework project biggraph-tec2013-43935-r fpu grant ap2008-01164; financ span- ish ministerio economa y competitividad, eu- ropean region develop fund (erdf). work partial support onr muri n000141010933. refer [1] p. viola m. jones, robust real-tim face detection, ijcv, vol. 57, no. 2, 2004. [2] n. dalal b. triggs, histogram orient gradient human detection, cvpr, 2005. [3] p. felzenszwalb, r. girshick, d. mcallester, d. ramanan, object detect discrimin train base mod- els, tpami, vol. 32, no. 9, 2010. [4] t. malisiewicz a. a. efros, improv spatial support object multipl segmentations, bmvc, 2007. [5] c. gu, j. lim, p. arbelaez, j. malik, recognit regions, cvpr, 2009. [6] j. carreira, f. li, c. sminchisescu, object recognit sequenti figure-ground ranking, ijcv, vol. 98, no. 3, pp. 243 262, 2012. [7] a. ion, j. carreira, c. sminchisescu, probabilist joint imag segment label figure-ground composition, ijcv, vol. 107, no. 1, pp. 4057, 2014. [8] p. arbelaez, b. hariharan, c. gu, s. gupta, l. bourdev, j. malik, semant segment region parts, cvpr, 2012. [9] j. carreira, r. caseiro, j. batista, c. sminchisescu, semant segment second-ord pooling, eccv, 2012. [10] r. girshick, j. donahue, t. darrell, j. malik, rich featur hierarchi accur object detect semant segmenta- tion, cvpr, 2014. [11] n. zhang, j. donahue, r. girshick, t. darrell, part-bas r-cnn fine-grain categori detection, eccv, 2014. [12] j. r. r. uijlings, k. e. a. van sande, t. gevers, a. w. m. smeulders, select search object recognition, ijcv, vol. 104, no. 2, pp. 154171, 2013. 2. www.eecs.berkeley.edu/research/projects/cs/vision/grouping/mcg/ [13] p. krahenbuhl v. koltun, geodes object proposals, eccv, 2014. [14] p. rantalankila, j. kannala, e. rahtu, gener object segment propos global local search, cvpr, 2014. [15] a. humayun, f. li, j. m. rehg, rigor: recycl infer graph cut gener object regions, cvpr, 2014. [16] b. alexe, t. deselaers, v. ferrari, measur object imag windows, tpami, vol. 34, pp. 21892202, 2012. [17] j. kim k. grauman, shape share object segmentation, eccv, 2012. [18] j. carreira c. sminchisescu, cpmc: automat object segment constrain parametr min-cuts, tpami, vol. 34, no. 7, pp. 13121328, 2012. [19] i. endr d. hoiem, category-independ object propos divers ranking, tpami, vol. 36, no. 2, pp. 222234, 2014. [20] p. arbelaez, m. maire, c. c. fowlkes, j. malik, contour detect hierarch imag segmentation, tpami, vol. 33, no. 5, pp. 898916, 2011. [21] p. f. felzenszwalb d. p. huttenlocher, effici graph-bas imag segmentation, ijcv, vol. 59, p. 2004, 2004. [22] x. ren l. bo, discrimin train spars code gradient contour detection, nips, 2012. [23] c. j. taylor, fast accur segmentation, cvpr, 2013. [24] m. mair s. x. yu, progress multigrid eigensolv multiscal spectral segmentation, iccv, 2013. [25] s. manen, m. guillaumin, l. van gool, prime object pro- posal random prim algorithm, iccv, 2013. [26] c. l. zitnick p. dollar, edg boxes: locat object propos edges, eccv, 2014. [27] m.-m. cheng, z. zhang, w.-y. lin, p. h. s. torr, bing: binar norm gradient object estim 300fps, cvpr, 2014. [28] d. hoiem, a. efros, m. hebert, recov occlus bound- ari image, ijcv, vol. 91, no. 3, pp. 328346, 2011. [29] z. ren g. shakhnarovich, imag segment cascad region agglomeration, cvpr, 2013. [30] d. weiss b. taskar, scalpel: segment cascad local prior effici learning, cvpr, 2013. [31] l. najman m. schmitt, geodes salienc watersh contour hierarch segmentation, tpami, vol. 18, no. 12, pp. 11631173, 1996. [32] p. arbelaez, boundari extract natur imag ultra- metric contour maps, pocv, june 2006. [33] d. martin, c. fowlkes, j. malik, learn detect natur imag boundari local brightness, color textur cues, tpami, vol. 26, no. 5, pp. 530549, 2004. [34] p. dollar c. zitnick, structur forest fast edg detec- tion, iccv, 2013. [35] projects/cs/vision/grouping/resources.html. [36] j. pont-tuset f. marques, supervis evalu imag segment object propos techniques, pami, 2015. [37] , measur meta-measur supervis evalu imag segmentation, cvpr, 2013. [38] m. maire, s. x. yu, p. perona, hierarch scene annotation, bmvc, 2013. [39] m. everingham, h. muller, b. thomas, evalu imag segment algorithm pareto front, eccv, 2006. [40] m. ehrgott, multicriteria optimization. springer, 2005. [41] m. everingham, l. van gool, c. k. i. williams, j. winn, a. zisserman, pascal visual object class challeng 2012 (voc2012) results, network.org/challenges/voc/voc2012/workshop/index.html. [42] b. hariharan, p. arbelaez, l. bourdev, s. maji, j. malik, semant contour invers detectors, iccv, 2011. [43] t.-y. lin, m. maire, s. belongie, j. hays, p. perona, d. ramanan, p. dollar, c. zitnick, microsoft coco: common object context, eccv, 2014. [44] j. pont-tuset l. v. gool, boost object proposals: pascal coco, iccv, 2015. [45] j. hosang, r. benenson, b. schiele, good detect proposals, really? bmvc, 2014. [46] j. hosang, r. benenson, p. dollar, b. schiele, make effect detect proposals? pami, 2015. 14 [47] b. hariharan, p. arbelaez, r. girshick, j. malik, simultane- ou detect segmentation, eccv, 2014. jordi pont-tuset post-doctor research ethz, switzerland, prof. luc van gool vision group (2015). receiv degre mathemat 2008, degre electr engin 2008, m.sc. research inform commun technolog 2010, ph.d honor 2014; universitat politecnica catalunya, barcelonatech (upc). work disnei research, zurich (2014). pablo arbelaez receiv phd honor appli mathemat universit paris- dauphin 2005. research scientist vision group uc berke- lei 2007 2014. current hold faculti posit universidad lo and colombia. research interest com- puter vision, work number problems, includ perceptu grouping, ob- ject recognit analysi biomed images. jonathan t. barron senior research sci- entist google, work vision comput photography. receiv phd scienc univers california, berkelei 2013, advis jitendra malik, receiv honour bsc scienc univers toronto 2007. research inter- est includ vision, machin learning, comput photography, shape reconstruc- tion, biolog imag analysis. receiv nation scienc foundat graduat research fellowship 2009, c.v. ramamoorthi distinguish research award 2013. ferran marqu receiv degre elec- trical engin ph.d. uni- versitat politecnica catalunya, barcelonat- ech (upc), current professor depart signal theori commu- nications. term 2002-2004, serv presid european associ signal process (eurasip). serv associ editor ieee transact imag process (2009-2012) area editor signal processing: imag communi- cation, elsevi (2010-2014). 2011, receiv jaum vicen vive distinct univers teach quality. currently, serv dean electr engin school (etsetb-telecombcn) upc. publish 150 confer journal papers, 2 books, hold 4 intern patents. jitendra malik arthur j. chick professor depart electr engin scienc univers california berkeley, hold appoint vision scienc cognit science. re- ceiv phd degre scienc stanford univers 1985. januari 1986, join uc berkelei faculti mem- ber eec depart serv chair scienc divis 2002-2006, depart eec dur- ing 2004-2006. jitendra malik group work vision, comput model biolog vision, graphic machin learning. well-known concept algorithm aros work, anisotrop diffusion, normal cuts, high dynam rang imaging, shape context poselets. accord googl scholar, paper receiv thousand citat each. graduat 33 phd students. jitendra award longuet-higgin award contribut stood test time twice, 2007 2008. fellow ieee acm, member nation academi engineering, fellow american academi art sciences. receiv pami distinguish research award vision 2013 k.s. fu prize 2014. 1 introduct 2 relat work 3 segment algorithm 3.1 fast downsampl eigenvector comput 3.2 align segment hierarchi 3.3 multiscal hierarch segment 4 experi bsds500 5 object propos gener 6 experi pascal voc, sbd, coco 7 conclus refer biographi jordi pont-tuset pablo arbelez jonathan t. barron ferran marqu jitendra malik