



















































































Visual analytics of urban transportation from a bike-sharing and taxi perspective


REGULAR PAPER

Haoran Dai • Yubo Tao • Hai Lin

Visual analytics of urban transportation from a
bike-sharing and taxi perspective

Received: 15 February 2020 / Revised: 15 April 2020 / Accepted: 13 June 2020 / Published online: 20 July 2020
� The Visualization Society of Japan 2020

Abstract The urban transportation system is the footstone of a city’s infrastructure, and the booming bike-
sharing system has become a vital part of urban transportation. Understanding the bike-sharing system and
traditional taxi system as well as their similarities and differences are essential for bike-sharing rebalancing,
taxi dispatching, and urban planning. However, due to the sparseness of record data and the difference in
service regions, the relationship between them is indeed obscure, and previous solutions mostly focus only
on a single system. In this paper, we propose a visual analytics system to investigate the similarities and
differences between bike-sharing and taxi systems. The service region for each bike station is created to fuse
bike-sharing data and taxi data. We harness two three-order tensors to represent them in a unified framework
to generate potential patterns by tensor decomposition. The visual analytics system integrates two spa-
tiotemporal data sources by analyzing the patterns that are typical of each data source and the patterns that
are common to both data sources to assist users in better discovering the relationships between the taxi
system and the bike-sharing system. We demonstrate the effectiveness of our system through real-world
case studies. The urban transportation system is the footstone of a city’s infrastructure, and the booming
bike-sharing system has become a vital part of urban transportation. Understanding the bike-sharing system
and traditional taxi system as well as their similarities and differences are essential for bike-sharing
rebalancing, taxi dispatching, and urban planning. However, due to the sparseness of record data and the
difference in service regions, the relationship between them is indeed obscure, and previous solutions mostly
focus only on a single system. In this paper, we propose a visual analytics system to investigate the
similarities and differences between bike-sharing and taxi systems. The service region for each bike station
is created to fuse bike-sharing data and taxi data. We harness two three-order tensors to represent them in a
unified framework to generate potential patterns by tensor decomposition. The visual analytics system
integrates two spatiotemporal data sources by analyzing the patterns that are typical of each data source and
the patterns that are common to both data sources to assist users in better discovering the relationships
between the taxi system and the bike-sharing system. We demonstrate the effectiveness of our system
through real-world case studies.

Keywords Tensor decomposition � Taxi � Bike-sharing � Visual analytics

1 Introduction

Optimizing urban transport requires understanding the links between its internal components, e.g., bus, taxi,
subway, bike-sharing. As the subway and bus have fixed schedules and routes, it sometimes introduces

H. Dai � Y. Tao (&) � H. Lin
State Key Lab of CAD&CG, Zhejiang University, Hangzhou, China
E-mail: taoyubo@cad.zju.edu.cn

J Vis (2020) 23:1053–1070
https://doi.org/10.1007/s12650-020-00673-8

http://orcid.org/0000-0003-1780-186X
http://crossmark.crossref.org/dialog/?doi=10.1007/s12650-020-00673-8&amp;domain=pdf
https://doi.org/10.1007/s12650-020-00673-8


inconvenience and increases people’s commuting cost. For instance, people usually turn to taxis or bikes
once the location they want to go is not covered by routes and schedules. However, the proliferation of the
sharing economy provides a new way, the bike-sharing, to solve this problem. For example, people can
conveniently borrow one bike from a bike station near them and return it at another bike station near the
destination. By February 2020, Citibike, the greatest bike-sharing program in the USA, has over 13,000
bikes and 850 stations across New York City (NYC).

1
In contrast, the number of the yellow cab in NYC is

just over 13,000.
2

The burgeoning bike-sharing have become as critical as the taxi in city transportation.
Due to various user demands, the taxi and bike-sharing systems sometimes fail to satisfy users. There is

an urgent need for a smarter taxi dispatching strategy, a better bike rebalancing method, and understanding
the relationship between their demands. To address this problem and offer some recommendations for the
dynamic bike-sharing equilibrium and taxi dispatching optimization, operators need to determine potential
patterns hidden in massive records and understand their relationships.

By analyzing the taxi trip and bike-sharing trip records, we can determine the underlying behavior
patterns. However, there are some challenges, e.g., both taxi and bike-sharing data are sparse, and their
service regions are difficult to define. Peng et al. (2012) proposed a non-negative matrix factorization and
optimization method and found that people had three main patterns on weekdays: commuting, traveling,
leisure activities, etc.. They did not provide an interactive interface for users, although they visualized their
patterns by word clouds, line charts, and heat maps. Yan et al. (2018) proposed a tensor factorization
method to capture potential patterns of bike-sharing data and designed an interactive visual analytics system.
They provided intuitive views, including the heatmap, sunburst graph, and stack bar chart to analyze the
underlying patterns in data. However, it is less useful to explore urban transportation from one perspective
alone, e.g., the bike or the taxi, and it is arduous to gain insights into urban transportation from two or more
data sources simultaneously.

In this paper, we introduce a visual analytics system for interactively probing dormant user activity
patterns in taxi and bike-sharing data, and assisting users in finding their similarities and differences. To
compare the patterns between them, based on the assumption that people always choose the nearest bike
station and the bike-sharing system solves the ‘‘last-mile’’ problem, we first construct the service area of
each bike station so that we could fuse the taxi and bike-sharing data. We then establish two tensors to
represent these data in time, space, and destination dimensions and harness the tensor decomposition method
to extract potential patterns. By computing the similarities between them, we discover the patterns that are
common to both data. Furthermore, we generate typical patterns in each data by hierarchical clustering. To
help users compare patterns more effectively, we design multiple linked views to display these patterns
simultaneously from different aspects.

The main contributions are:

• To make taxi data and bike-sharing data comparable, we define the service region for each bike station
by combing the Voronoi diagram, one-mile buffer, and geographical boundaries, and then fusing the data
based on spatial relations.

• To portray people’s activities, we present two tensor-based models to obtain the underlying patterns in
the taxi and bike-sharing data. We then extract patterns that are common to both data and patterns that
are typical in each data.

• We design an analytics system to synchronously visualize the time, space, and destination dimensions
and assist users in effectively understanding the similarities and differences between the taxi and bike-
sharing data.

This paper is an extended version of our previous work Dai et al. (2019), including four main extensions.
First, we enrich the content of related work (Sect. 2) to include more background on tensor decomposition
algorithms. Second, we demonstrate more detailed description of heterogeneous data fusion process
(Sect. 4). Third, we modify the proposed system to provide more visual hints and interactions for optimizing
the workflow of analysis (Sect. 5). Fourth, we present more case studies to demonstrate the effectiveness of
the proposed system to explore bike-sharing data and taxi data (Sect. 6).

1
https://www.citibikenyc.com/how-it-works.

2
https://www1.nyc.gov/site/tlc/vehicles/get-a-vehicle-license.page.

1054 H. Dai et al.

https://www.citibikenyc.com/how-it-works
https://www1.nyc.gov/site/tlc/vehicles/get-a-vehicle-license.page


2 Related work

In this section, we review previous work on tensor decomposition, urban user activity analysis, and visu-
alizations of spatiotemporal data.

2.1 Tensor decomposition

Tensor decomposition, which is widely applied ranging from psychometrics and neuroscience to graph
analysis and data mining, goes back to Hitchcock (1927, 1928). Until the work of Tucker in the 1960s
(Tucker 1963, 1966), this concept received scant attention. Tucker’s method decomposes a tensor into a
small core tensor and a band of matrices. In the 1970s, Carroll and Chang (1970) and Harshman Harshman
et al. (1970) introduced CANDECOMP (canonical decomposition)/PARAFAC (parallel factors) (CP)
method in tensor decomposition, and the core tensor is restricted to be diagonal. All of them can be
considered a higher-order generalization of the matrix principal component analysis (PCA) and singular
value decomposition (SVD). Later, Ruiz-Tolosa and Castillo (2006) contribute a MATLAB package for
working with tensors.

2.2 Urban user activity analysis

Recently, there has been a spike of interest in exploiting spatiotemporal data to understand urban user
activities. Noulas et al. (2011) presented the first large-scale study of user behavior on Location-based
Social Networks (LBSNs) data and provided a method to uncover human daily and weekly patterns. Karduni
et al. (2017) introduced new insights into human activities by analyzing demographic data and geo-located
tweet content and position and then identified distinct types of activities in the city and their density.
However, social media data are usually messy and may bring about some notable risks, such as the privacy
problem and inaccurate information. Pei et al. (2018) analyzed buses dataset based on the node importance
evaluation of bus stops, which could help understand traffic congestion patterns. Lu et al. (2016) helped
users to analyze taxi patterns by introducing graphic filters. Furthermore, Statistics-based (Ju and Liu 2012;
Yamanishi et al. 2004), classification-based (Chen et al. 2001; Wong et al. 2003), and distance-based (De
Vries et al. 2010; Papadimitriou et al. 2003) approaches have been used in urban user activity anomaly
detection, but these methods cannot simultaneously analyze the multifaceted features of the data.

To solve these problems, tensor-based methods have been introduced to simultaneously consider the
influence of multiple dimensions. Zhang et al. (2013) analyzed taxi trajectory and gas station data. They
presented urban refueling behavior using a three-way tensor and adopted Tucker decomposition to deter-
mine customer refueling patterns. Yang et al. (2014) used a nonnegative tensor factorization method to
probe the potential patterns between time and user. Chen et al. (2017) designed a tensor cofactorization-
based fusion framework to decompose the mobility tensor into several basic patterns to detect urban events,
and evaluated the framework’s performance using bike-sharing data and LBSNs data. Yan et al. (2018)
represented bike-sharing data by a three-order tensor and used CANDECOMP, a nonnegative tensor fac-
torization method, to extract urban activities in the time, space, and user dimension. Furthermore, Liu et al.
(2019) proposed a piecewise rank-one tensor, i.e., vector, decomposition to recommend the best way to slice
spatiotemporal data and then extracted the latent patterns in each partition. Based on the tensor decom-
position of trajectory data, Shi et al. (2019a) further integrated point of interests data, providing more
interpretability. Inspired by these works, we consider more data sources, because people have various
options when traveling, and then analyze the common and typical patterns between different data sources.

2.3 Spatiotemporal data visualization

Spatiotemporal visualization, the main feature that distinguishes Geography Information Science (GIS) from
other disciplines, are paid main attention by GIS researchers. Langran and Chrisman G and NR (1988)
defined four methods for visualizing spatiotemporal data: the time-space cube, time-slice snapshot, a base
map with overlays, and the space-time composite. Over the last two decades, for meeting the demands of
non-professional GIS users, it becomes an interdisciplinary topic. Andrienko et al. (2003) created a catalog
of contemporary techniques, data characteristics, and data analysis tasks. Furthermore, they divided these
tasks into elementary tasks (e.g., represent the situation at a specific time) and general tasks (e.g., compare

Visual analytics of urban transportation 1055



behaviors on disparate time intervals or subsets), and established links between exploratory approaches and
tasks for which they are suitable and the types of data.

Many spatiotemporal data visualization systems have been produced based on these tasks. Guo et al.
(2006) proposed a geovisual analytic method and strengthened the parallel coordinate plot, which helped
users to explore patterns from different perspectives. Ferreira et al. (2013) built an interactive analysis
environment involving a map, a time selection widget, and a data summary view to visualize massive taxi
trips. Karduni et al. (2017) extracted user trajectories from geo-located tweets and visualized the pulse of
city activity by the tweet flow, word cloud, tweet density, and timeline. Wu et al. (2015) introduced a
contour-based treemap to reveal spatiotemporal features. Andrienko et al. (2017) designed a novel visu-
alization method by simplifying and analyzing the data from spatial and temporal dimensions. Shi et al.
(2019b) focused on bike-sharing data and proposed a visual analytics system with multiple inter-linked
view, which enables users finding clusters in region, station, and core station levels. As a response to the
burgeoning data, Cao et al. (2018) proposed a visual anomaly detection system for streaming spatiotemporal
data based on a novel anomaly analysis algorithm. They presented the possibility of anomalous events using
special symbols on the map, together with time context, to help users better understand events. In our
system, we take advantage of previous design guidelines and techniques. After extracting latent patterns by a
tensor-based method, we present patterns in time, space, and destination dimension by multiple linked
views. To better help users understanding the taxi and bike-sharing systems, our system supports pattern
comparison in/between data sources.

3 System overview

Through conversations with the operators of a bike-sharing company and a taxi company, we learned that
they mainly focus on three aspects during the operation process. First, learn the operation status (e.g., know
the bike-sharing/taxi flow information). Second, understand the characteristics of users (e.g., know where
people who start from a specific area at a certain time most often go). Third, understand the impact of
possible competitors (e.g., understand the circumstances under which the customer may choose a particular
service, and explore the feasibility of working with different transportation methods to achieve a win-
win situation). Based on these requirements, we propose a visual analytics system that includes easy-to-
understand designs for analyzing the urban activity from a bike-sharing and taxi perspective to help the
managers of these companies allocate resources reasonably and the city planners to optimize urban
transportation.

Figure 1 shows the visual analytics pipeline. The system consists of the heterogeneous data fusion
module, the pattern extraction module, and the visual analytics module. To make bike-sharing data and taxi
data comparable, the data fusion module partitions the urban region into a set of service regions, and fuses
the taxi and bike-sharing data based on their spatial association information. The pattern extraction module
constructs two three-order tensors to represent the taxi and bike-sharing data in time, space, and destination
dimension. Subsequently, a tensor decomposition approach is used to simultaneously extract temporal,
spatial, and destination patterns, and capture people’s activities comprehensively. After extracting patterns,
the module computes the similarity between patterns in different data and generates common patterns. Then,
a hierarchical clustering algorithm is used to generate the relationships between the typical patterns in each
data source. The visual analytics module visualizes the hierarchical relation of patterns and provides
multiple coordinated views to display patterns in time, space, and destination dimensions.

4 Data analysis

In this section, we briefly describe four critical steps for transforming raw data into activity patterns.

4.1 Heterogeneous data fusion

Our system focuses on the taxi trip data and bike-sharing trip data. Different from taxi trajectories, the taxi
trip records in our system only contain start and end latitudes and longitudes. The bike-sharing trip records
represent them by bike station IDs. Thus, these two data are heterogeneous, which makes it difficult to fuse
them directly. An appropriate method is needed to address this problem.

1056 H. Dai et al.



A straightforward strategy is to use the neighborhood in which the bike station is located or use a
Voronoi tessellation Wu et al. (2017) as the service region of the station. However, people usually choose
the closest station when there are several stations near them. When the distance to the station is greater than
a certain threshold, even if it is the nearest station, people will not go to that station. In addition, geo-
graphical boundaries, such as the land boundaries of cities and islands, also limit users’ choices. For
example, people usually do not choose the station on the other side of the river, even if the distance to the
station is less than the threshold. Using only the Voronoi diagram may cause some biases. Thus, we
introduce a method based on the Voronoi diagram, one-mile buffer, and geographical boundaries to
determine the service region of each bike station. Specifically, the urban area is initially divided into regions
by geographical boundaries. Then, a Voronoi diagram is established in each part, and finally, the service
area of each bicycle station is obtained by clipping according to its one-mile buffer. Then, the urban area is
divided into sub-regions, based on which the heterogeneous data can be fused through its natural spatial
relationship.

Mathematically, let X be a metric space with a Euclidean distance function d, which stands for the urban
area, and G stands for the land of the city in X. Let N be a set of indices that means total bike stations in
urban, Pnðn 2 NÞ stands for the nth bike station. The service region Sn, associated with the nth bike station is
the set of all points in X whose distance to Pn is not greater than one mile and their distance to the other
stations Pk, where k is any index different from n. The service region of n-th station can be defined as
follows

Sn ¼
x 2 G j dðx;PnÞ� dðx;PkÞ for all k 6¼ n

and dðx;PnÞ� d

� �
ð1Þ

where d is a const distance, one mile in our experiment. Taking NYC as an example, the service regions of
all stations in NYC are shown in Fig. 2, and the number of service regions is 484.

4.2 Tensor construction

A tensor is a multidimensional array, denoted as X, and the order of a tensor is the number of dimensions.
The dimensionality of each dimension depends on how many elements it contains. For instance, a third-
order tensor X 2 RI1�I2�I3 , i.e., a cube, has dimensions with the dimensionality of I1; I2; I3 and all elements
in tensor X are nonnegative elements. According to the user characteristics that are of interest to operators in
Sect. 3, user activities can be considered to contain the characteristics of time, space, and destination
dimension. Therefore, the third-order tensor is suitable for user behavior modeling. We construct two third-
order tensors to represent bike-sharing data and taxi data, respectively.

For the spatial dimension, because we have already defined the service region of each bike station, users
can choose to use bike-sharing or take a taxi in a region. To present where people are, we choose the service
region of the bike station from which the bike-sharing/taxi trip starts as the spatial dimension of tensor
models.

Fig. 1 The system derives and presents the typical and common patterns in the taxi and bike-sharing data via three primary
modules: (1) the heterogeneous data fusion module, (2) the pattern extraction module, and (3) the visual analytics module

Visual analytics of urban transportation 1057



For the temporal dimension, we focus on when there is a need, i.e., when the trip starts. Thus, we employ
a one-hour interval to divide a week into 168 regions. Because we concentrate on people’s daily activities,
time intervals that are too short will capture people’s random changes, e.g., a person may go to work at 8.10
a.m. today, but at 8.15 a.m. tomorrow for reasons to which we are indifferent in this study. Because people’s
activities are periodic, we consider a week as a circle, and one hour as the time granularity to illustrate when
people start a trip.

For the destination dimension, to demonstrate where people want to go, we use the bike station service
region where the bike-sharing/taxi trip ends as the destination dimension of the tensor models.

Subsequently, we count the number of records grouped by the starting time, starting region, and ending
region for each data source, and then construct two third-order tensors B 2 RIS�IT�IDþ and Ta 2 R

IS�IT�ID
þ ,

with the shape 484 � 168 � 484. Note that all elements in both tensors are nonnegative.

4.3 Tensor decomposition

After representing the taxi data and bike-sharing data as two tensors, extracting patterns in one dimension
directly will break the relationship with other dimensions, which results in poor interpretability. Thus, we
apply a tensor decomposition method to simultaneously extract patterns that are hidden in the tensors in
three angles.

Fig. 2 The service regions of each bike station in NYC

Fig. 3 Tensor decomposition

1058 H. Dai et al.



We adopt CP decomposition to factorize a nonnegative tensor into a series of vectors. We decompose the
tensor B and tensor Ta in the same way. Taking tensor B as an example, Fig. 3 illustrates the CP
decomposition.

The tensor B̂ can be represented as follows:

B̂ �
XN
n¼1

knDn � Sn � Tn ð2Þ

where N is the number of components, and Dn 2 ND, Sn 2 NS, and Tn 2 NT , for n ¼ 1; . . .;N represents the
destination factor, space factor, and time factor, respectively. The symbol ‘‘�’’ denotes the vector outer
product. The vector k 2 NN stands for the weight of each component. For simplicity, we hypothesize that all
components have equal importance, i.e., ki ¼ 1 for i ¼ 1; . . .;N. Then, the tensor B̂ can be written as:

B̂i;j;k �
XN
n¼1

DinSjnTkn for i ¼ 1; . . .; I; j ¼ 1; . . .; J; k ¼ 1. . .;K ð3Þ

Thus, the main goal of tensor decomposition is to compute a tensor with N components that best
approximates B, i.e., optimize the following function:

minkB� B̂k with B̂ ¼
XN
n¼1

DnSnTn ð4Þ

where k � k denotes the Frobenius norm of a tensor.
After optimization, the tensor B̂ can also be represented as:

B̂ ¼
XN
n¼1

B̂
n ¼

XN
n¼1

Dn � Sn � Tn ð5Þ

where B̂
n

stands for the nth latent pattern, and Dn, Sn, and Tn are, respectively, the corresponding desti-
nation, spatial, and temporal dimensional factors of B̂

n
.

The number N of latent patterns can be evaluated by root-mean-square error (RMSE):

RMSE =

ffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiP
ðBðd; s; tÞ � B̂ðd; s; tÞÞ2

jjBjj

s
ð6Þ

The more patterns we divide into, the smaller the RMSE, i.e., the better reconstruction accuracy. A large
N will lead to capturing subtle activities, which may be less interesting for users. However, a small N will
result in a large RMSE, which may lose important patterns. In the trade-off between quality and quantity, we
use a large N to keep RMSE small and generate more patterns, which will be hierarchically clustered to
facilitate further exploration. Specifically, we choose N = 50 in our experiment.

Therefore, 50 potential patterns in the bike-sharing data produce a corresponding RMSE of 0.7550, and
50 latent patterns in the taxi data produce a corresponding RMSE of 0.3711.

4.4 Common and typical patterns analysis

Although we obtain potential patterns in the taxi and bike-sharing data, it is difficult for users to probe the
relationships between them and find their similarities and differences. By computing the similarity, we
identify common patterns in the taxi and bike-sharing data and identify typical patterns in each data set.

To make different patterns comparable, we normalize each dimension of all patterns. Taking the des-
tination dimension of the nth pattern as an example:

PI
i¼1 Tin ¼ 1, where I stands for the number of

elements in the destination dimension, i.e., 484 regions. Din reveals the destination distribution of the nth
pattern. Then we can compute the destination similarity between the lth pattern and the hth pattern from a
destination perspective as follows:

S PlD;P
h
D

� �
¼

X
jDil � Dihjð Þ for i ¼ 1; . . .; I ð7Þ

Similarly, the spatial similarity and the temporal similarity between the lth pattern and the hth pattern can be
calculated, respectively:

Visual analytics of urban transportation 1059



S PlS;P
h
S

� �
¼

X
ðjSjl � SjhjÞ for j ¼ 1; . . .; J ð8Þ

S PlT ;P
h
T

� �
¼

X
ðjTkl � TkhjÞ for k ¼ 1; . . .;K ð9Þ

For finding common patterns and typical patterns, we calculate the similarity between patterns in different
data by the following function:

S0ðPl;PhÞ ¼ S PlD;P
h
D

� �
þ S PlS;P

h
S

� �
þ S PlT ;P

h
T

� �
ð10Þ

Based on the similarity, we establish the connection between two groups of patterns, which enables us to
figure out the common patterns in both data sets, then the rest of patterns in each group are their typical
patterns. Specifically, a bike pattern and a taxi pattern are coupled according to similarity, generating a total
of 25 pairs, whose similarity that exceeds the user-specified threshold will become common patterns. In our
implementation, we set 1 as the threshold and then generate 15 common patterns in both data sets and 35
typical patterns in each data set.

As most patterns are typical patterns and part of them are similar, which increases the cognitive load for
users, the patterns need to be clustered to make the relationships between them clearer. Due to it is
complicated to determine the number of clusters for an unfamiliar data, k-means clustering and spectral
clustering are not appropriate. For generating the relations between typical patterns, we employ a hierar-
chical clustering algorithm, which can adequately demonstrate the relationships between patterns in any
level. Specifically, we use a ’bottom-up’ approach to cluster patterns. Each pattern is a cluster initially, and
then we merge two most similar clusters based on the distance metric in Eq. 10. The distance between one
original cluster and the new cluster is the average distance between the original cluster and the two merged
clusters. We repeat the iterative merging process until there is only one or a few clusters. In our experiment,
considering that people’s behavior patterns mainly include travel, commuting and leisure activities (Peng
et al. 2012), we stop the process when there are three clusters left. Consequently, a tree-like hierarchical
relationship is established between the patterns, allowing users to explore from different levels.

In addition, we compute the variance vector for each cluster to represent how diverse the elements within
the cluster is. Taking a group clustered by the temporal dimension as an example: its variance vector V can
be calculated as follows

Vi ¼
XN
n¼1

ðTkn � avgÞ2

N
with avg ¼

XN
n¼1

Tkn
N

for k ¼ 1; . . .;K ð11Þ

where N stands for the number of patterns in the cluster.

5 Visualization and interaction

The system has two analysis modes: pattern analysis mode (focus on single data) and comparative analysis
mode (focus on both data). Users can switch modes by clicking a button, as shown in Fig. 4(1). In this
section, we describe the visualization and interaction components in our system. We start with the design
requirements and then discuss the technical details of each component.

5.1 Design requirements

Taking into account the concerns of the operators mentioned in Sect. 3, we focused our attention on three
requirements as follows.

5.1.1 R1: Explicit expression of the relations between patterns

The patterns reflect the overall situation in the region. To guide users in selecting patterns of interest, it is
essential to illustrate the relationships between them.

1060 H. Dai et al.



5.1.2 R2: Facilitating pattern analysis from all dimensions

Each pattern has its characteristics, which are reflected in its space, time, and destination dimensions. To
help users understand a pattern from all perspectives, the system should be designed to allow users to
comprehensibly visualize and analyze different patterns from all aspects.

5.1.3 R3: Effective illustration of raw data

The raw data contain evidence that can confirm or refute the latent patterns and the inflow and outflow
information in a region. For better understanding, the system should be able to explore and illustrate raw
data effectively.

Based on these requirements, we design our system’s visualization and interaction components. As
shown in Fig. 4, the interface of our system consists of a series of views to satisfy all requirements: (1) The
hierarchical relation view (Fig. 4a) shows patterns and their relationships (R1). (2) The main map view
(Fig. 4c) presents the raw records statistics in each region or the spatial dimension of patterns. (3) The
assistant map view (Fig. 4d) illustrates the destination dimension of patterns. (4) The timeline view (Fig. 4e)
visualizes the temporal dimension of patterns. The main map view, the assistant map view, and the timeline
view are simultaneously interconnected to present patterns in all aspects (R2). (5) In pattern analysis mode,
the raw data analysis view (Fig. 4b) plots the inflow and outflow of a region or a pattern. In comparative
analysis mode, this view illustrates the inflow/outflow of a region’s bike-sharing and taxi data (R3).

5.2 Hierarchical relation view

By tensor decomposition and hierarchical clustering, we obtain a set of typical patterns with a hierarchical
structure in the bike-sharing data and taxi data. To reduce user memory burden, each pattern is assigned with
different color that allows users to compare them easily. Compared to the tree diagram, a sunburst diagram
can fully display their hierarchical relationship in very little space, as shown in Fig. 5. We employ a
sunburst diagram to present the structure of patterns. The sunburst diagram is depicted by concentric circles
and is appropriate for hierarchical data. Circles that are closer to the center represent higher levels. A sector
of an inner circle has a hierarchical relation to those sectors of the outer circle that lie within its range. Each
sector is rendered in its corresponding color in the pattern list (Fig. 4(3)), which makes it easy for users to

Fig. 4 System overview. a The hierarchical relation view lists patterns and visualizes the relationships between them. b The
raw data analysis view illustrates the statistics of trip records of a region or a pattern. c The main map view displays the spatial
dimension of patterns by heat maps. d The assistant map view presents the destination aspect of patterns by heat maps. e The
timeline view plots their temporal dimension

Visual analytics of urban transportation 1061



understand the relationships between patterns. The larger the sector area, the more patterns it contains,
which means it is more common in the real world. In addition, when the mouse hovers on a sector, the sector
and all its previous sectors are highlighted, and their relationships are shown in the legend. Through the
sunburst diagram, users can preview the overall distribution of patterns and their similarity as well as find
interesting patterns, e.g., users can quickly notice No. 84 or No. 91 cluster as each of them only has a small
sector at the high level, indicating that they are different from other patterns at the same level. More detailed
analysis is presented in Sect. 6.2.1.

In pattern analysis mode, the pattern list contains all patterns. In the other mode, it lists the common
patterns and puts them in descending order by similarity. A common pattern contains one pattern from each
data set. Users can select a pattern to display by choosing from the list or clicking the sunburst diagram’s
sector. In our previous work, each pattern in the pattern list was presented in a different color, but with the
same font, which confused patterns that had been analyzed with patterns that had not. To better distinguish
them, we additionally use a bold and regular font. Besides, users can rename the pattern to further reduce
confusion.

5.3 Pattern views

We designed multiple coordinated views, including the main map view, the assistant map view, and the
timeline view, to present the time, space, and destination dimension patterns simultaneously. As for the
layout design, since illustrating spatial dimension and destination dimension by overlapping maps in one
view is not conducive to visual comparing short trips or multiple patterns, we apply juxtaposition design
rather than explicit encoding or superposition. Specifically, we put the main map view and the assistant map
view side by side and unify the scope of the map they display at all times to create a sense of contrast.

5.3.1 Spatial dimension

As the spatial dimension of the pattern indicates the spatial aggregation degree of starting positions, we use
the heat map to visualize it in the main map view (Fig. 4c). Based on the base map from OpenStreetMap, we
generate a set of overlayers from patterns. Each overlayer is identified by its pattern ID or the corresponding
color. In addition, we create individual overlayers of bike stations and service regions. To allow users to
study a specific region, like the main map view shown in Fig. 1, users can focus on a region of interest by
selecting. Specifically, our system will render other regions based on the inflow from the selected region,
i.e., we visualize the inflow from the selected region by a choropleth map. Also, users can get more details
shown by the tooltip, e.g., the accurate value of inflow.

5.3.2 Temporal dimension

Unlike the real-world space, which has geographic coordinates, the time dimension is linear. As shown in
Fig. 4e, we visualize the temporal distribution of patterns by the line chart, and each line’s color corresponds

Fig. 5 Sunbrust diagram. The tree-like relationship (left) between the patterns is transformed into the circles-layer relationship
in the sunburst diagram (right) in terms of patterns and their hierarchical relationships

1062 H. Dai et al.



to the color of the pattern in the pattern list. The line chart’s horizontal axis represents the hours and
weekdays in a week, and the vertical axis represents the normalized value of Tn. For patterns generated by
hierarchical clustering, an auxiliary area is generated to illustrate the standard deviation of a pattern’s
internal elements. It has a color that is similar to the corresponding pattern.

5.3.3 Destination dimension

In previous user activity analysis in Sect. 4.2, the destination factor represented where people want to go,
which can be naturally visualized on a map. Thus, similar to the main map view, in the assistant map view
(Fig. 4d), the pattern of the destination dimension is shown in heat maps.

5.4 Raw data analysis view

In pattern analysis mode, the raw data analysis view illustrates the inflow and outflow of a region or a
pattern. We design the raw data analysis view with two horizontal axes and two vertical axes. As shown in
Fig. 4b, the upper one represents the weekday and the other one represents the hours in each weekday, and
the left/right vertical axis denotes the inflow/outflow. In the other mode, they stand for the outflow/inflow
calculated using the bike-sharing and taxi data, respectively. To be consistent with the time interval during
tensor construction, this view presents the raw data based on a one-hour interval and one-week period. When
users click on a region or select a pattern, it will automatically update. Also, when the mouse moves over the
chart, a tooltip shows the current weekday, hour, and two vertical axes’ value.

5.5 Interaction

We provide the following interactions to help with data analysis:

5.5.1 Filtering and querying

In the hierarchical relationship view, users can select patterns of interest and filter the data shown in the raw
data analysis view. In addition, users can query the raw data based on time, weekday, and a specific station
by clicking on the main map view or setting the query condition in the navigation bar (Fig. 4(2)) to enhance
their understanding of patterns.

5.5.2 Merging and deleting

Users’ domain knowledge can more accurately find the similarities between patterns and confirm the
correctness of patterns, and they can choose several patterns that they think are similar for merging, create a
more exact pattern, and delete some patterns that they consider improper.

5.5.3 Dynamic zooming and panning

Users can scroll the mouse wheel to zoom in and out as well as drag the mouse to pan in both the main map
view and the assistant map view, and the scale will update automatically.

5.5.4 Renaming and noting

The pattern identified by its id is meaningless. Users can assign a more specific name and attach comments
to the pattern by double-clicking on the corresponding pattern in the pattern list, e.g., renaming ‘Pattern 84’
to ’commuting pattern (Lower Manhattan on Workdays)’.

5.5.5 Highlighting

The sunburst diagram highlights the sector over which the mouse moves and the sector’s ancestors. In
addition, when the mouse moves over the raw data view and the main map view, the tooltip shows the
corresponding information.

Visual analytics of urban transportation 1063



6 Case study

In this section, we present case studies that illustrate the effectiveness of our model and system by analyzing
taxi and bike-sharing data. The taxi data we used is produced by the NYC Taxi and Limousine Commission
(TLC). It contains trip records from April to June 2016 in NYC and includes more than 40 million trips.
Each record contains times and positions of pick-up and drop-off, trip distances, itemized fares, etc.. The
bike-sharing trip data is provided by Citibike. The period of bike-sharing data is the same as the taxi data,
with a total of 3,118,670 records. Each record includes start and stop times, start and stop station names,
station IDs, station latitudes and longitudes, bike IDs, user type, and gender. We first present the similarities
between the two data using comparative analysis mode and then examine their characteristics using pattern
analysis mode.

6.1 Comparative analysis mode

In comparative analysis mode, the manager can explore the common patterns in both data sets, understand
their similarities, and gain more insight into their potential competitors. The system has found common
patterns and adds them to the pattern list. The manager can select a common pattern with a higher similarity
in the pattern list, i.e., the pattern with a higher ranking.

For example, as shown in Fig. 6a, the manager selects a common pattern, including pattern No. 0 from
the bike-sharing data and pattern No. 32 from the taxi data. Figure 6b, c shows the spatial and destination
distributions that are present in both data sets, and indicate that the trip records happened around Central
Park. From the line chart (Fig. 6d), the manager finds that the peak of these patterns is between 12 p.m. and
6 p.m., and that they have a higher value on weekends. Therefore, the manager infers that these patterns are
relevant to people’s leisure activities near Central Park and may call them Leisure Central Park Patterns.
Furthermore, they reflect that people’s activities near Central Park are more frequent on weekends. In
response, the manager may further analyze whether the services provided near Central Park on weekends
meet people’s needs and whether there exists customer loss.

In addition, the manager further finds GCT Workday Morning Patterns in both data. They have a similar
temporal distribution (Fig. 7c) and spatial and destination distributions (Fig. 7a, b). In these patterns, people
primarily start their trip at Grand Central Terminal (GCT) between 6 a.m. and 12 p.m. on workdays. Most of
them end in Midtown North and Midtown West, where companies are scattered. The manager considers that
these patterns are related to people getting off trains at GCT and going to work, and notices that the bike-
sharing pattern’s destination dimension coverage is farther than the taxi’s. This difference may be because

Fig. 6 Leisure central park patterns. a The pattern list. b Both patterns spatial dimension. c Both patterns destination
dimension. d Both patterns temporal dimension

1064 H. Dai et al.



the taxi is not as efficient as the bike-sharing at medium distances during peak hours, leading to a preference
for bike-sharing in this situation.

6.2 Pattern analysis mode

In pattern analysis mode, the manager can further explore the differences between the bike-sharing and taxi
data. The manager is guided by the hierarchical relation view and can select typical patterns to analyze, and
confirm them by checking the raw data. Below we describe manager analysis scenarios for some typical
patterns.

6.2.1 Typical pattern analysis of taxi data

All week midnight pattern Guided by the hierarchical relation view in Fig. 4a, the manager notices that
pattern No. 84 is at the second highest level but contains only two sub-patterns, which arouses the manager’s
interest. As shown in Fig. 4e, there are almost no trip records before 6 p.m., and after 6 p.m., the number of
records begins to increase and peaks at midnight. As people are reluctant to ride a bike at midnight, this
pattern is absent from the bike-sharing data. In this pattern, people’s trips mainly start from the Lower East
Side, where there are many pubs and clubs (Fig. 4c), and the destination scatters in most parts of NYC
(Fig. 4d). Therefore, the manager infers that this pattern is related to people going home after evening
recreational activities. In addition, the number of records on Friday and Saturday are much higher than other
days, and their peaks are later by nearly one hour compared with other days, which can be interpreted as
people tending to enjoy nightlife more when they do not have to work the next day. To verify this
assumption, the manager checks the outflow of the corresponding region based on raw data. As shown in
Fig. 4b, the outflow peaks at midnight each day and has a higher peak value on Friday and Saturday, which
supports this inference. Also, the enlargement of the auxiliary area at peaks in the timeline view indicates
that the patterns included have a significant difference in value at that time, reminding the manager to
analyze further.

Penn station workday morning pattern As shown in Fig. 8c, the distribution of the temporal dimension of
workday morning pattern is mainly concentrated on the workday from 6 a.m. to 12 p.m. and reaches its peak
at 8 a.m.. The people’s trip mainly starts near Penn Station (Fig. 8a) and ends near Baruch College, Borough
of Manhattan Community College (BMCC) and some corporations (Fig. 8b). The manager infers this
pattern may relate to the go school or go work activity of people living far from Manhattan. They first take
the subway to Penn Station and then take a taxi to the destination, having a medium-and-long distance trip,
which is inconvenient to ride bicycles.

6.2.2 Typical pattern analysis of bike-sharing data

BMCC workday patterns Similar to the analysis of taxi data, the manager finds the BMCC workday
patterns, which contain two types of patterns: going to school (yellow) and after school (blue). The two
patterns are opposite regarding spatial dimensions and destination dimensions, i.e., one trip is from BPT, a
bus station, to BMCC, whereas the other trip is from BMCC to BPT (Fig. 9a, b). Their temporal distribution
is almost entirely on workdays and peaks at 7 a.m. or 6 p.m. on workdays (Fig. 9c). When students need to
take a bus near the college, they may be more willing to use a bike-sharing than to take a relatively

Fig. 7 GCT workday morning patterns. a Bike (purple) and taxi (light green) patterns’ spatial dimension. b Both patterns’
destination dimension. c The temporal dimension of both patterns

Visual analytics of urban transportation 1065



expensive taxi. Therefore, the manager speculates that these patterns are related to BMCC student com-
muting activities and imply BMCC’s class time. In addition, the inflow of the region near BMCC (Fig. 9d)
reflects the same trend as these patterns. Based on the raw data view, the manager can estimate the number
of bike-sharing required for student activities.

Lower Manhattan workday morning short distance pattern The manager notices that its records are
significant between 7 a.m. and 12 p.m. on workdays (Fig. 10c), and that they mainly start with a station near
the World Trade Centre and end in the Financial District (Fig. 10a, b); the distance involved is obviously
short. In rush hour, riding a bike may be faster than taking a taxi in these regions, which may motivate
people to choose to be a rider. The manager speculates that this pattern is related to short-distance com-
muting and considers whether more resources should be invested in the area.

GCT workday evening patterns Figure 11 illustrates the GCT workday evening patterns in bike-sharing
data that the manager finds. It contains two patterns. In the blue one, the short-distance trips are main

Fig. 8 Penn Station workday morning pattern. a Patterns’ spatial dimension. b Patterns’ destination dimension. c Patterns’
temporal dimension

Fig. 9 BMCC workday patterns. a Patterns spatial dimension. b Patterns destination dimension. c The inow and outflow of the
region where BMCC is located. d Patterns temporal dimension

1066 H. Dai et al.



starting at Midtown Manhattan (Fig. 11a), where has the headquarters of famous companies, and ending in
GCT (Fig. 11b). The brown one is contrary to the blue one, people’s trips mainly start from GCT and end in
Midtown Manhattan. The temporal distribution of them are both between 6 p.m. and 8 p.m. only on
workdays (Fig. 11d). The manager thus infers that the blue pattern is related to people who get off work, i.e.,
they take a bike from company to station and then take a subway to the next place, whereas the brown
pattern may relate to people who work at night. In addition, the inflow of the region near GCT (Fig. 11c)
also reflects the same trend as these patterns, i.e., it has notable both inflow and outflow peaks around 8 p.m.
only on workdays. The manager will further explore whether the bike-sharing rebalancing problem can be
optimized by matching the departure and arrival times of trains in the GCT station.

6.3 System implementation

To facilitate sharing and access, our system is established on the browser/server structure. The browser side
is implemented by Bootstrap, and the other side is driven by Node and PostgreSQL. For the visual analytics
module, we use the ECharts, D3, and Leaflet libraries to implement the user interface and its user
interaction.

Fig. 10 Lower Manhattan workday morning short distance pattern. a Pattern’s spatial dimension. b Pattern’s destination
dimension. c Pattern’s temporal dimension

Fig. 11 GCT workday evening patterns. a Patterns spatial dimension. b Patterns destination dimension. c Patterns temporal
dimension

Visual analytics of urban transportation 1067



6.4 Discussion and limitation

The bike-sharing and taxi systems are both vital components of urban transportation and play a critical role
in people’s daily lives. Abundant activity patterns make up their trip records. Using two analysis modes, we
explore the human activities in NYC from a bike-sharing and taxi perspective, find several common or
unique characteristics in both systems, and provide suggestions for optimization. Furthermore, the bike-
sharing system is used almost exclusively during the daytime, while the taxi system is used all day; both are
used in commuting. In addition, people’s recreational activities increase and last longer on weekends. By
comparing different patterns, we also identify the BMCC student commuting activities. Based on these
findings, we can propose some suggestions for rebalancing of bike-sharing and taxi dispatching. For
example, Citibike should guarantee the service supply at 7 a.m. at the BPT bus station as well as 6 p.m. at
BMCC on workdays, and the TLC should dispatch taxis to the Lower East Side around midnight and
schedule more taxis on weekends.

Via case studies, our system is demonstrated to effectively analyze the patterns hidden in trip records
from both the taxi system and bike-sharing system and support comparisons between them, as well as
propose some recommendations for optimization of both systems. However, it still has a few limitations.

6.4.1 Algorithm limitations

Due to the limitation of the three-order tensor, the user information dimension is absent from the tensor, we
cannot depict user groups further and more precisely, e.g., we cannot confirm whether the users in the
BMCC workday patterns are all teenagers. Besides, we decomposed the two tensors separately. It needs to
ensure that both data have common patterns that are introduced by the similarity between users’ travel
habits, which reduces the generalization ability of the algorithm. In addition, the one-mile buffer of each
bike station is constructed based on Euclidean distance. However, the walking distance from the user
location in the one-mile buffer to the station may be significantly different from Euclidean distance between
them due to the complex road network. It would be better to take the road network into account when
calculating the service region of each station through the dynamic accessibility (Kamw et al. 2020).

6.4.2 Visualization limitations

The map only provides basic geographic information, and users that are not familiar with the study region
may be confused. In addition, the system just provides basic renaming function. To increase collaboration, it
is better to integrate more advanced interaction e.g., provenance recording and result reporting into system.

7 Conclusion and future work

In this paper, we propose a visual analytics system for interactively discovering urban activity patterns from
a bike-sharing and taxi perspective. We introduce an ad hoc approach to define the service region of each
bike station and fuse the taxi and bike-sharing data. Then, we mine patterns hidden in data by tensor
decomposition and analyze their common patterns and typical patterns. Furthermore, we present patterns by
multiple interlinked views and visualized the hierarchical relationships between typical patterns. Using real-
world data, we demonstrate the usefulness and effectiveness of the system by discovering common and
typical patterns.

As an increasing ‘sharing economy’ also enlarges the Vehicle for Hire market, in the future, we intend to
consider more data in our system, like Uber and Lyft, to increase understanding of urban activities. In
addition, the three-order tensors only partially depict the user’s behavior, so we will pay more attention to
the users themselves in the future, i.e., add some user characteristics in a higher-order tensor. Besides, we
also consider applying the joint decomposition of two tensors, which forces both them to partially share the
same basis vectors, to generate common patterns. Furthermore, we plan to improve our system to help users
understand latent patterns with richer context, e.g., providing some demographic information about regions
of interest.

Acknowledgements This work was supported by the National Key Research & Development Program of China
(2017YFB0202203), National Natural Science Foundation of China (61672452, 61890954, and 61972343), and NSFC-
Guangdong Joint Fund (U1611263).

1068 H. Dai et al.



References

Andrienko N, Andrienko G, Gatalsky P (2003) Exploratory spatio-temporal visualization: an analytical review. J Vis Lang
Comput 14(6):503–541

Andrienko G, Andrienko N, Fuchs G, Wood J (2017) Revealing patterns and trends of mass mobility through spatial and
temporal abstraction of origin-destination movement data. IEEE Trans Vis Comput Gr 23(9):2120–2136

Cao N, Lin C, Zhu Q, Lin YR, Teng X, Wen X (2018) Voila: Visual anomaly detection and monitoring with streaming
spatiotemporal data. IEEE Trans Vis Comput Gr 24(1):23–33

Carroll JD, Chang JJ (1970) Analysis of individual differences in multidimensional scaling via an n-way generalization of
‘‘eckart-young’’ decomposition. Psychometrika 35(3):283–319

Chen Y, Zhou XS, Huang TS (2001) One-class SVM for learning in image retrieval. In: ICIP (1), Citeseer, pp 34–37
Chen L, Jakubowicz J, Yang D, Zhang D, Pan G (2017) Fine-grained urban event detection and characterization based on

tensor cofactorization. IEEE Trans Hum Mach Syst 47(3):380–391
Dai H, Tao Y, Lin H (2019) Visual analytics of urban transportation from a bike-sharing and taxi perspective. In: Proceedings

of the 12th international symposium on visual information communication and interaction, VINCI’2019. Association for
Computing Machinery, New York, NY, USA. https://doi.org/10.1145/3356422.3356433

De Vries T, Chawla S, Houle ME (2010) Finding local anomalies in very high dimensional space. In: 2010 IEEE international
conference on data mining, IEEE, pp 128–137

Ferreira N, Poco J, Vo HT, Freire J, Silva CT (2013) Visual exploration of big spatio-temporal urban data: a study of new york
city taxi trips. IEEE Trans Vis Comput Gr 19(12):2149–2158

Guo D, Chen J, MacEachren AM, Liao K (2006) A visualization system for space-time and multivariate patterns (vis-stamp).
IEEE Trans Vis Comput Gr 12(6):1461–1474

Harshman RA et al (1970) Foundations of the parafac procedure: models and conditions for an ‘‘explanatory’’ multimodal
factor analysis

Hitchcock FL (1927) The expression of a tensor or a polyadic as a sum of products. J Math Phys 6(1–4):164–189. https://doi.
org/10.1002/sapm192761164

Hitchcock FL (1928) Multiple invariants and generalized rank of a p-way matrix or tensor. J Math Phys 7(1–4):39–79. https://
doi.org/10.1002/sapm19287139

Ju Z, Liu H (2012) Fuzzy Gaussian mixture models. Pattern Recognit 45(3):1146–1158
Kamw F, Al-Dohuki S, Zhao Y, Eynon T, Sheets D, Yang J, Ye X, Chen W (2020) Urban structure accessibility modeling and

visualization for joint spatiotemporal constraints. IEEE Trans Intell Transp Syst 21(1):104–116
Karduni A, Cho I, Wessel G, Ribarsky W, Sauda E, Dou W (2017) Urban space explorer: a visual analytics system for urban

planning. IEEE Comput Gr Appl 37(5):50–60
Langran G, Chrisman NR (1988) A framework for temporal geographic information. Cartogr Int J Geogr Inf Geovis 25(3):1–14
Liu D, Xu P, Ren L (2019) Tpflow: progressive partition and multidimensional pattern extraction for large-scale spatio-

temporal data analysis. IEEE Trans Vis Comput Gr 25(1):1–11
Lu M, Liang J, Wang Z, Yuan X (2016) Exploring od patterns of interested region based on taxi trajectories. J Vis

19(4):811–821
Noulas A, Scellato S, Mascolo C, Pontil M (2011) An empirical study of geographic user activity patterns in foursquare. In:

Fifth international AAAI conference on weblogs and social media, pp 570–573
Papadimitriou S, Kitagawa H, Gibbons PB, Faloutsos C (2003) Loci: fast outlier detection using the local correlation integral.

In: Proceedings 19th international conference on data engineering, IEEE, pp 315–326
Pei W, Wu Y, Wang S, Xiao L, Jiang H, Qayoom A (2018) Bvis: urban traffic visual analysis based on bus sparse trajectories.

J Vis 21(5):873–883. https://doi.org/10.1007/s12650-018-0489-z
Peng C, Jin X, Wong KC, Shi M, Liò P (2012) Collective human mobility pattern from taxi trips in urban area. PLoS ONE

7(4):e34487
Ruiz-Tolosa JR, Castillo E (2006) From vectors to tensors. Springer, Berlin
Shi X, Lv F, Seng D, Xing B, Chen B (2019a) Visual exploration of mobility dynamics based on multi-source mobility datasets

and poi information. J Vis 22(6):1209–1223
Shi X, Wang Y, Lv F, Liu W, Seng D, Lin F (2019b) Finding communities in bicycle sharing system. J Vis 22(6):1177–1192
Tucker LR (1963) Implications of factor analysis of three-way matrices for measurement of change. Probl Meas Change

15:122–137
Tucker LR (1966) Some mathematical notes on three-mode factor analysis. Psychometrika 31(3):279–311. https://doi.org/10.

1007/BF02289464
Wong WK, Moore AW, Cooper GF, Wagner MM (2003) Bayesian network anomaly pattern detection for disease outbreaks.

In: Proceedings of the 20th international conference on machine learning, pp 808–815
Wu W, Xu J, Zeng H, Zheng Y, Qu H, Ni B, Yuan M, Ni LM (2015) Telcovis: visual exploration of co-occurrence in urban

human mobility based on telco data. IEEE Trans Vis Comput Gr 22(1):935–944
Wu W, Zheng Y, Cao N, Zeng H, Ni B, Qu H, Ni LM (2017) Mobiseg: interactive region segmentation using heterogeneous

mobility data. In: 2017 IEEE Pacific visualization symposium (PacificVis), IEEE, pp 91–100
Yamanishi K, Takeuchi J, Williams G, Milne P (2004) On-line unsupervised outlier detection using finite mixtures with

discounting learning algorithms. Data Min Knowl Discov 8(3):275–300. https://doi.org/10.1023/B:DAMI.0000023676.
72185.7c

Yan Y, Tao Y, Xu J, Ren S, Lin H (2018) Visual analytics of bike-sharing data based on tensor factorization. J Vis
21(3):495–509

Yang D, Zhang D, Zheng VW, Yu Z (2014) Modeling user activity preference by leveraging user spatial temporal
characteristics in lbsns. IEEE Trans Syst Man Cybern Syst 45(1):129–142

Visual analytics of urban transportation 1069

https://doi.org/10.1145/3356422.3356433
https://doi.org/10.1002/sapm192761164
https://doi.org/10.1002/sapm192761164
https://doi.org/10.1002/sapm19287139
https://doi.org/10.1002/sapm19287139
https://doi.org/10.1007/s12650-018-0489-z
https://doi.org/10.1007/BF02289464
https://doi.org/10.1007/BF02289464
https://doi.org/10.1023/B:DAMI.0000023676.72185.7c
https://doi.org/10.1023/B:DAMI.0000023676.72185.7c


Zhang F, Wilkie D, Zheng Y, Xie X (2013) Sensing the pulse of urban refueling behavior. In: Proceedings of the 2013 ACM
international joint conference on pervasive and ubiquitous computing, UbiComp ’13, ACM, New York, NY, USA,
pp 13–22. https://doi.org/10.1145/2493432.2493448

Publisher’s Note Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional
affiliations.

1070 H. Dai et al.

https://doi.org/10.1145/2493432.2493448

	Visual analytics of urban transportation from a bike-sharing and taxi perspective
	Abstract
	Introduction
	Related work
	Tensor decomposition
	Urban user activity analysis
	Spatiotemporal data visualization

	System overview
	Data analysis
	Heterogeneous data fusion
	Tensor construction
	Tensor decomposition
	Common and typical patterns analysis

	Visualization and interaction
	Design requirements
	R1: Explicit expression of the relations between patterns
	R2: Facilitating pattern analysis from all dimensions
	R3: Effective illustration of raw data

	Hierarchical relation view
	Pattern views
	Spatial dimension
	Temporal dimension
	Destination dimension

	Raw data analysis view
	Interaction
	Filtering and querying
	Merging and deleting
	Dynamic zooming and panning
	Renaming and noting
	Highlighting


	Case study
	Comparative analysis mode
	Pattern analysis mode
	Typical pattern analysis of taxi data
	All week midnight pattern
	Penn station workday morning pattern

	Typical pattern analysis of bike-sharing data
	BMCC workday patterns
	Lower Manhattan workday morning short distance pattern
	GCT workday evening patterns


	System implementation
	Discussion and limitation
	Algorithm limitations
	Visualization limitations


	Conclusion and future work
	Acknowledgements
	References




