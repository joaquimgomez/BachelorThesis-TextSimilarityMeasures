individual-bas model tuberculosi user-friendli interface: understand epidemiolog role popul heterogen citi origin research published: 12 januari 2016 doi: 10.3389/fmicb.2015.01564 edit by: jrg linde, leibniz-institut natur product research infect biologi -hans-knoell-institute, germani review by: para jain, albert einstein colleg medicine, usa jennif linderman, univers michigan, usa *correspondence: clara prat specialti section: articl submit infecti diseases, section journal frontier microbiolog received: 22 septemb 2015 accepted: 24 decemb 2015 published: 12 januari 2016 citation: prat c, montaola-sal c, gilabert-navarro jf, vall j, casanovas-garcia j, vilaplana c, cardona p-j lpez d (2016) individual-bas model tuberculosi user-friendli interface: understand epidemiolog role popul heterogen city. front. microbiol. 6:1564. doi: 10.3389/fmicb.2015.01564 individual-bas model tuberculosi user-friendli interface: understand epidemiolog role popul heterogen citi clara prats1*, cristina montaola-sales2, joan f. gilabert-navarro2, joaquim valls1, josep casanovas-garcia2, cristina vilaplana3, pere-joan cardona3 daniel lpez1 1 departa fsica, escola superior dagricultura barcelona, universitat politcnica catalunyabarcelonatech, barcelona, spain, 2 departa destadstica investigaci operativa, facultat dinformtica barcelona, universitat politcnica catalunyabarcelonatech, barcelona supercomput centr (bsc-cns), barcelona, spain, 3 unitat tuberculosi experimental, fundaci institut dinvestigaci en cinci la salut german tria pujol, universitat autnoma barcelona, badalona, spain millennia tuberculosi (tb) shown success strategi survive, make world deadliest infecti diseases. resili behavior base remain hidden infect population, show slow evolut sick people. cours diseas popul highli relat heterogeneity. thus, classic epidemiolog approach top-down perspect succeed understand dynamics. past decad individual-bas model built, preserv top- view make difficult studi heterogen population. propos individual-bas model develop bottom-up approach studi dynam pulmonari tb certain population, consid constant. individu belong follow classes: healthy, infected, sick, treatment, treat probabl relapse. variabl paramet account age, origin (nativ immigrant), immunodeficiency, diabetes, risk factor (smoke alcoholism). time infect state controlled, sick individu cavit diseas condit infectiousness. implement netlogo allow non-model perform virtual experi user- friendli interface. simul conduct data ciutat vella, district barcelona incid 67 tb case 100,000 inhabit 2013. virtual experi perform relat diseas dynam structur infect subpopul (e.g., distribut infect times). moreover, short- term effect health control polici modifi structur studied. result characterist popul crucial local epidemiolog tb. develop user-friendli tool readi test control strategi diseas citi short-term. keywords: tuberculosis, epidemiology, individual-bas model, diagnosi delay, contact tracing, risk factors, hiv-tuberculosis, immigr frontier microbiolog | www.frontiersin.org 1 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac introduct tuberculosi (tb) infecti diseas co- evolv human success strategi remain unperceiv act slowli latent infection. estim 2013, 9 million peopl develop tb, 1.5 million di diseas (world health organ [who], 2014). reduc tb incid goal share player (unit nations, 2000; cain et al., 2006). globally, signific improv world level observ 1990. nevertheless, challeng face (suli et al., 2014). countri low incidence, case western european states, especi appropri evalu real viabil control elimin tb. evolut tb big citi countri outlin unansw question viabil objectives. cases, incid index higher correspond nation averages. 1990 2011 differ dynam tb indic observ (de vri et al., 2014). instance, incid london (great britain) increas significantly. contrast, decreas citi like barcelona (spain), decreas rate slow recent years. western europ context, current tb situat particularli alarming. issu particularli case citi london, rotterdam, barcelona, others, heterogen tb incid district evid (de vri et al., 2014). therefore, present control strategi effect enough; need improv procedur new tool serv test bed assess effect efficiency. improv requir develop mathemat model adapt studi tb epidemiolog citi level and, particular, neighborhood level. model account relev factor relat social health divers (e.g., native/immigr origin hiv+/, others). time, design incorpor test differ control strategies. mathemat model estim long-term dynam tb epidem (ozcaglar et al., 2012; zwerl et al., 2015). model classic built structur top-down strategi (ferrer et al., 2009). case, popul divid differ class (e.g., susceptible, exposed, infected, recov case seir model) specif flux fix groups. strategi feasibl size class satisfi continuum hypothesis. instance, ozcaglar et al. (2012) outcom simul seir seil model sick compart 103 individuals. moreover, castillo-chavez song (2004) provid simul result tb-sick popul 104 individuals. nevertheless, small percentag sick peopl infect (on average, 10% infect peopl develop activ disease), studi popul big result number sick individu us differenti equat question. furthermore, dynam tb infect insid host depend particular characterist host. fact, factor identifi critic specif dynamics. mention immunodefici dramat increas probabl develop primari activ tb, patient cavit higher spread rate non-cavit patient, others. heterogen hard account top-down approach, long-term consequences. furthermore, consid popul sick fraction big satisfi continuum hypothesis, condit homogen calibr feasible. reason li divers possibl situat differ subpopul inher heterogen studi system. altern complementari strategi top- approach bottom-up perspective, i.e., studi simul part interact dynam global emerg lowest level. methodolog known individual-bas model (ibm), agent-bas model wider sense. ibm mathemat bottom-up approach consist model element part relationship order obtain behavior (grimm, 1999). fundament unit model individuals, entiti set defin rule evolv accord them. level depth achiev kind model allow model obtain phenomena present model compart model overlook. course, level come price bigger comput cost. however, increas comput capac possibl offer high- perform comput (hpc),the drawback repres notori compens benefit model. individual-bas model multipl fields, simul social scienc business, cours biologi epidemiology. consequ variety, ibm model descript procedur model developed. deal differ descript system standard descript models, overview, design concepts, detail (odd) protocol develop (grimm et al., 2006, 2010). protocol consist formal simul model blocks, subdivid seven option subcategories: purpose, entities, state variabl scales, process overview scheduling, design concepts, initialization, input data, submodels. decade, ibm introduc studi tb epidemiolog (montaola-sal et al., 2015). publish model fundament conceiv top-down perspect regard evolut infect individu (i.e., seir-typ model extrapol individual-level; murray, 2002; guzzetta et al., 2011; kasai et al., 2013, 2014). despit top-down approach, work includ sophist model transmiss rout take account socio-demograph structur popul differ degre contact social groups. these, guzzetta et al. (2011) dealt particular realiti (arkansas), model fit global data. consid relev heterogen population, includ factor like frontier microbiolog | www.frontiersin.org 2 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac kind disease, possibl immunodeficiency, smoking/drink habits, immigrant-n origin simultaneously. final purpos epidemiolog model us tb control units, public health agents, politician order help decision-making. therefore, implement model user-friendli interfac necessari step end. avail user interfac leverag design virtual experi test futur hypothet situat effect immigr flow local tb epidemiology. moreover, platform test differ control strategi health policies. netlogo agent-bas program languag integr model environ includ user-friendli interfac schedul simul perform virtual experi (tisu wilensky, 2004). therefore, adequ platform consid look user-friendli ibm tool. paper, present individual-bas model tb spread commun implement user- friendli platform netlogo, aim offer us tool epidemiolog studi diseas cities. model describ follow updat odd protocol (grimm et al., 2010). calibr valid data ciutat vella (barcelona) perform virtual experi potential. odd descript individual-bas model overview purpos object ibm analyz evolut pulmonari tb incid community. fit ciutat vella neighborhood, consid popul constant, possibl effect epidemiolog control strategi public health decis check virtual experiments. entities, state variables, scale fundament entiti model persons. consid person infect states: healthy, infect (i.e., latent tb infection), sick (i.e., activ tb), treatment, recovered. person states, healthy, simul individuals. consid characterist healthi popul remain constant (e.g., native/immigr distribut hiv+ percentage, others). moreover, healthi collect larger infect sick collectives. therefore, necessari control healthi individu one-by-one; consid properti space (i.e., number healthi peopl spatial cell). healthi person acquir individu he/sh enter infect cycle. strategi import optim drastic reduc comput time. previous test provid result compar obtain consid healthi peopl individu (montaola-sal et al., 2015). state variabl individu mainli refer statu tb infect cycl time spent phase individu diagnost time get sick. individu state variabl paramet age, native/immigr origin, risk factor (e.g., smoking), diabetes, possibl immunosuppress (mainli hiv infection). person get infected, presenc (or not) pulmonari cavit considered. state diagram model present figur 1. popul simul 105,123 people, repres peopl ciutat vella (2012). themodel partial spatial explicit, i.e., space consid mimic real space ciutat vella. simul occur discret area 501 501 spatial cells. spatial cell repres local abstract space person meet, bacilli spread day. time step set 1 day, simul cover period 1 years. process overview schedul model built netlogo (tisu wilensky, 2004), suit model broad rang agent-bas system user-friendli interface. simul start set-up initi configuration, popul randomli gener accord input distribut paramet randomli distribut 501 501 grid. model assum discret time step 1 day, mentioned. day, individu execut seri actions, variabl updat immediately. individu action be: age, move, infected, sick, diagnosed, start treatment, abandon finish treatment, recover, die. action place daili individu (e.g., ag movement) procedur daili evalu necessari (e.g., possibl sick individu diagnos daili assess final occurs). individu dies, new person introduc particular random characterist accord initi distribut individu parameters, gener popul heterogen assum remain constant simulation. end time, step global variabl updated. figur 2 show flow diagram comput model. design concept basic principl model base gener knowledg natur histori tb (cardona, 2010). essenti characterist tb taken account epidemiolog model. hand, infect individu necessarili develop activ disease; average, 10% infect peopl sick. moreover, person remain infect extend period develop activ tb years, probabl develop diseas decreas time (ferebee, 1970; cardona ruiz-manzano, 2004). infect peopl usual diagnosed. hand, tb sick dissemin infection. infect rate increas patient tb cavitation. tb sick diagnosed, pharmaceut treatment take 6 month (world health organ [who], 2010). treatment finished, possibl get sick tb reactiv remain 1% 2 years. moreover, experi frontier microbiolog | www.frontiersin.org 3 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac figur 1 | state diagram model, state individu possibl transit shown. output grai dot arrow refer deaths; input dot arrow correspond entranc randomli select individu order popul constant. treatment detect infect individu included. treatment longer given person activ tb. last 9 month administ infect individu prevent develop activ diseas detect screen process (world health organ [who], 2015). probabl relaps infect state calcul similarli treatment. emerg emerg phenomena mainli relat long-term dynam infect popul level. hand, non-treat peopl activ tb spread disease. therefore, diagnosi time essenti paramet preval disease. hand, infect person develop activ tb year infection. therefore, global consequ particular condit precis moment detect year later. interact local interact individu explicitli model crucial dynam system. refer meet person favor spatial proxim possibl individu activ tbmai infect person. stochast random introduc level simulation. initi distribut individu properti randomli execut accord input distributions. movement assum random. action associ certain probabl execut accord stochast number. collect collect distinguished, accord individu origin: nativ immigrant. differ diagnosi time. social patterns, consid immigr liabl infect immigr nativ like infect native. observ output data daili evolut number (or prevalence) healthi people, infect people, sick people, peopl treatment, person treated. data export extern data file, annual report shown user interfac screen. detail initi user chang initi condit begin simulation. particular study, input paramet taken offici reports. initi popul fix 105,123 individuals. percentag shown tabl 1 calcul configur initi population: rate sick, treatment recov individu 100,000 inhabitants; mean diagnosi delai (mdd); mean treatment abandon rate; individu risk factor hiv infection. initi variabl assign randomly: individu ag (follow percentag shown tabl 1), time spent infect state assigned. submodel ag individu increas ag 1 dai time step. person randomli surround local space, day. infect number individu suscept tb (healthi treated) differ zero proxim sick individual, mean four-neighbor spatial cells, sick person infect certain probability. total suscept neighbor individu comput infect process repeat time healthi treat peopl found. infect probabl depend type tb diseas sick person has, cavit non-cavitated. cavit consid doubl infect frontier microbiolog | www.frontiersin.org 4 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac figur 2 | flow diagram model, involv process subprocesses. box asterisk () contain action place specif condit satisfied. detail submodel shown blue (get sick finish treatment), text detail submodels. probability. valu infect probabl close link spatial tempor scales, i.e., probabl infect insepar spatiotempor scale. chang scale entail revis value. therefore, real infect probabl sick individu meet healthi person, effect infect probabl given particular spatio-tempor constraints. case (501 501 spatial cell 105123 individuals), valu probabl fix 49.7%. person infected, newli infect individu creat properti randomli assign accord data tabl 1. new person set nativ immigr depend characterist infect individual. therefore, consid probabl immigr infect immigr higher infect native. like manner, likelihood nativ infect nativ greater infect immigrant, accord social behavior communities. infect time new individu set zero start increas time step. sick infected, individu develop activ tb accord particular annual probabl decreas infect time 7 year post-infect (ferebee, 1970; cardona ruiz-manzano, 2004). neglect subsequ year (t > 7 years). simul time cover frontier microbiolog | www.frontiersin.org 5 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac period longer 10 years, approxim good enough. immunodefici people, certain factor multipli probability. happen risk factor (smoking, alcoholism) patient diabetes. chanc tb sick individu evalu time step infect persons. globally, averag 10% infect develop activ diseas satisfied. possibl relaps (get sick again) recov patient evalu daili accord individu relaps probabl (see below). person get sick, diseas time counter start run individu diagnost time reached. diagnos start treatment individu particular diagnost time randomli assign get sick. individu time assum distribut follow normal distribut center mean diagnosi time shown intabl 1 standard deviat 4 days. sick time counter reach values, individu diagnosed. diagnosed, medic treatment assum start tb stop spreading. individu time treatment initi fix zero updat time step. abandon treatment certain probabl individu abandon treatment finish it. possibl evalu daili patient treatment, accord input abandon probability. person leav treatment initi 15 dai post-diagnosis, he/sh ill again. tabl 1 | offici data ciutat vella simul (ajunta barcelona, 2012; garca olalla et al., 2012; bartol et al., 2013; orcau palau et al., 2013; bartoll, 2014). district ciutat vella valu unit total popul 105,123 person immigr popul 43.2% percentag popul <=10 year old 7.57% percentag popul 1065 year old 77.7% percentag popul > 65 year old 14.73% percentag total annual mortal 0.83% percentag detect case tb 64 person detect case tb (native) 11 person detect case tb (immigrant) 53 person cavit form 22% percentag diagnosi delai (median) 39 dai diagnosi delai nativ (median) 42 dai diagnosi delai immigr (median) 33 dai treatment abandon rate 2.2% percentag aliv case vih+ 440 person detect case tb/vih+ 32 person risk factor 24.1% percentag diabet case 5.6% percentag data correspond ciutat vella demographi tb indic 2012, defin initi popul input parameters. percentag respect total popul ciutat vella, ( ) respect total number tb sick people. he/sh abandon treatment 15180 dai post-diagnosis, model consid him/her recov certain probabl relaps follow 2 years. probabl assum decreas linearli 100% 15-dai abandon 1% 180-dai treatment period. recov sick individu diagnos treat 180 days, he/sh recov relaps probabl 1% assign (the chanc get sick follow 2 years). 2 years, individu consid healthy. die individu certain probabl dy accord his/her age. probabl fix demograph data ciutat vella 2012. accordingly, daili dy probabl consid 6.88 105 % individu 10, 5.45 104% individu 10 65, 1.22 102% individu 65, simplif real mortal distribution. furthermore, tb sick peopl distinct probabl dy tb. probabl evalu daili sick individual, take account 40% non-treat tb sick die 5 years. time individu dies, new individu introduc simul world aim maintain constant population. individu characterist fix accord distribut initi population. result sensit analysi calibr step, paramet deduc bibliographi fix (tabl 1). then, establishedminimum maximum limit paramet calibrated. design seri simul explor system behavior insid intervals. result, establish influenc paramet outcom variables. specifically, identifi simul output indic affect parameter. instance, individu multipl factor hiv+/tb coinfect develop activ diseas infect strongli determin result percentag coinfect tb patients. similar way, multipl factor assign peopl diabet risk factor (smoking, alcoholism) develop activ tb determin percentag collect tb patients. paramet crucial maintain report proport immigr nativ tb patient probabl infect occur collective. sensit paramet initi number infect people. simul show critic valu dynam tb population. nevertheless, difficult, impossible, determin real popul accuracy. therefore, case, simul provid order magnitud valu particular community. frontier microbiolog | www.frontiersin.org 6 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac sensit analysi finished, calibr process sensit paramet perform offici data tb 2012 (orcau palau et al., 2013) initi condit offici data tb 2013 (orcau palau et al., 2015) check result 1 year simul time.t 2 show valu obtain parameters, affect output simulation. specifically, displai median 30 simul paramet set obtain calibr valu literatur tb 2013. valu relev epidemiolog perspective, provid inform imposs obtain experimentally. figur 3 show boxplot correspond 30 simul run set calibr paramet (tabl 2). affect simul output shown valu literature. boxplot idea inher dispers simulations. virtual experi long-term effect increas diagnosi delai immigr context auster polici governments, new regul access public health system introduced. instance, septemb 1, 2012, spanish govern approv health care reform explicitli exclud adult undocu immigr peopl pai social secur public health (boe-a-2012-10477). measur fulli implement local govern barcelona, ibm test hypothet effect tb epidemiology. assum effect delai tb diagnosi immigr direct consequ reform. specifically, examin effect increas immigr mean diagnosi time 50 days, keep diagnosi time 42 dai natives. look impact long-term, 10-year period, consid possibl scenarios: perman reform (i.e., 50-dai mean diagnosi time immigr simul period), 5-year transitori reform (i.e., averag diagnosi delai 50 dai immigr 5 years, follow recov current 33-dai immigrant-mean diagnosi time), 2-year transitori reform (i.e., mdd 50 dai immigr 2 years, follow recov current 33-dai immigrant-mean diagnosi time). figur 4 show result experiment, compar annual tb case situat control case. perman reform entail 52% increas mdd immigr tripl tb incid 10 years. furthermore, simul result effect transitori reform remain initi situat restored, 5 2-year change. restor initi condit halt increas tb incidence, 10 year tb incid level control scenario. worst case, perman reform entail incid increase, increas acceler way. rough econom evalu consequ studi delays. accord diel et al. (2014), averag per-cas tb costs, includ direct indirect costs, old eu-15 state plu cyprus, malta slovenia 10,000. differ accumul number tb case 10 year extrem simul situat (no reform perman reform) 700. evalu worst case simulated, perman reform increas mdd immigr 50 dai repres budget overrun 7 million. number signific 105 peopl neighborhood probabl compens save achiev budget reduction. fact, increas health problem deriv late tb diagnosis. role infect time distribut tb dynam ibm allow studi certain mesoscale, i.e., individu (micro) commun (macro) (ferrer et al., 2008). typic variabl mesoscal distribut individu properti population. particular dynam distribut emerg interact part determin dynam system. focus relev individu property: infect time, i.e., time elaps individu infected. time peopl infect import probabl develop activ diseas decreas infect time. mention above, assum activ potenti maximum infect time 7 years. therefore, talk distribut infect time tabl 2 | valu fit input parameters, affect output 1-year simul compar valu literatur (orcau palau et al., 2015). paramet fit valu affect output simul value1 literatur valu initi number infect individu 4500 number sick individu 78.5 78 immunodefici multipl factor 18.5 percentag hiv/tb coinfect 6.12% 6.08% diabet multipl factor 1.2 percentag diabet sick individu 6.22 % 6.99 % risk-factor multipl factor 2.0 percentag sick individu risk factor 40.97% 40.5% probabl infect affect own-collect 90% percentag immigr sick individu 79.88% 83.33% 1median 30 simulations. valu correspond tb indic ciutat vella 2013. frontier microbiolog | www.frontiersin.org 7 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac figur 3 | result calibr process (see tabl 2 text). relev output 30 run calibr dataset shown boxplots: (a) accumul sick people, (b) percentag sick diabetes, (c) percentag sick tb/hiv coinfection, (d) percentag sick risk factors. dot line plot data literatur (orcau palau et al., 2015). figur 4 | evolut annual tb case 10 year accord virtual experiments. scenario considered: current situat (control), green; 2-year health care reform, blue; 5-year reform, orange; perman reform, red. health care reform exclud adult undocu immigr public health consequ increas diagnosi delay. assum current 33-dai period non-reform case 50-dai period reform cases. population. us window size 1 year. global number infect peopl difficult estim real community, time infect took place difficult evaluate. except case infect sourc known. calibration, estim initi number infect individu assum uniform distribution, accord occam razor. nevertheless, wonder potenti effect distribut evalu result dynam system. consid opposit possibl cases. first, case commun high incid author bold measur tb manag decreas incid remarkably. years, commun signific number individu long infect time smaller number peopl young infection. situat model distribut shape posit exponenti function. second, examin commun low incid experi sudden tb outbreak. explos caus exampl immigr wave countri high incid tb. situat presum signific number infect distribut present larg number recent infect individu lower level older infections. situat model distribut shape neg exponenti function. figur 5 show initi infect time distribut simul correspond uniform assumpt situat present above. distributions, execut 30 run simul durat 1 year. end year record number new tb cases. figur 6 present boxplot diagram obtain results. danger situat lead decreas exponenti distribut infect times. outcom confirm worth concentr public health effort tackl new infections, order drastic reduc column infect time distribution. observ evolut infect time distribut 10 years. seen figur 7, distribut evolv lose origin shape quasi-homogen distribution, reveal stationari state. fact, slight decreas slope. signific differ final distribut that, shape similar, global number infect peopl greatli differ: averag 5,856 infect individu uniform distribution, 715 exponenti increas one, 11,367 exponenti decreas one. compar valu initi infect individu (4,500), repres 30% increase, 84% decreas 152% increase, respectively, constant popul 105,123 inhabitants. infect popul crucial evolut tb population, seen sensit analysi process, conclud structur popul term infect time determinant. ibm platform test screen goal screen campaign detect diseas affect individu symptoms. particularli us tb control long time person remain latent infect phase. well-establish type screenings. others, mention mass screening, act bulk population; select target screening, oper particular sector popul present risk factors; contact tracing, act contact diagnos individu greatest probabl have infected. object virtual experi determin differ propos screen type frontier microbiolog | www.frontiersin.org 8 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac figur 5 | infect time distribut (homogeneous, blue; increas exponential, red; decreas exponential, green) initi condit simulations, correspond popul 4,500 infect individuals. figur 6 | boxplot virtual experi results, show effect distribut initi infect time (figur 5) number new tb case simul year. effective. test serv demonstr capabl develop simul public health decision- making. introduc new sub-model simul follows. screen certain infect screened, is, identifi infect medic author undergo prevent treatment. therefore, infect individu chang new class call treatment-screen equival treatment type longer durat (9 months). propos differ virtual experi exampl illustr differ possibl order check model versatil us test bed, try cover differ implement strategies. - one-year contact tracing: assum hypothet intervent year allow detect certain percentag infect population. test hypothet detect rate 25, 50, 75, 100% newli infected, studi effect long-term. - select screening:w select object subpopulations, immigr individu hiv infection. select screen consist one-tim identif 20% infect immigr 80% person hiv/tb co-infection. one-tim intervent carri middl simul year. - perman contact tracing: assum detect certain number infect individu time tb case diagnosed. detect model constant procedur simul period. number detect infect tb case estim follow data correspond barcelona (millet et al., 2015): 2009 2011, 541 tb case allow diagnosi extra 43 case tb 1,239 tst posit cases. therefore, set identif infect individu tb case diagnosed, 10% probabl identifi extra tb case. figur 8 show evolut annual tb case above-ment screenings. 1-year variabl contact trace caus decreas number tb case respect non- intervention, expected. decreas particularli notabl year simul differ frontier microbiolog | www.frontiersin.org 9 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac figur 7 | infect time distribut observ virtual experi 1, 4, 6, 10 years, depend initi infect time distribut 4,500 infected-subpopul (blue: initi uniform distribution; green: initi decreas exponenti distribution; red: initi increas exponenti distribution; shown figur 5). figur 8 | evolut annual tb case 10 simul years, depend type screen implemented, compar no-intervent scenario. (a) 1-year contact trace 25, 50, 75, 100% success detect new infections; (b) 1-year contact trace 100% success detect new infections, select screen (immigr hiv+), perman contact trace (see detail text). 15 individu 25% success screen rate. 100% success case, differ 30 case less. years, import reduct number tb case one-tim select screening. however, simul went on, increas tb incidence, result better no-intervent value. situat perman contact trace utterli different. years, effect negligible, slowli took shape end year simulation. on, number tb case stop go down. end simul (10 years), number new tb case contact trace procedur lowest, differ 30 individu no-intervent case. frontier microbiolog | www.frontiersin.org 10 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac observ distribut infect time infect subpopul 10 year (figur 9), similar shape substanti differ global number infect individuals: final number 5,695 infect individu non-intervent (26% increas respect initi conditions), 4,040 perman contact trace (10% decrease), 4,667 select screen (3% increase), 3,854 100% 1-year contact trace (14% decrease). 1-year contact trace screen detect 100% new infect peopl provid good result perceiv long-term, entir unrealist scenario. fact, select screen perman (partial) contact trace strategi current implement citi like barcelona. condit impos simulations, perman contact trace provid better longstand results. appar irrelev effect select screen simul explain factors. commun appli subpopulations; therefore, global consequ outstanding. case assum singl screen contact trace carri time new tb case diagnosed. point mention screen simul design real applic point-of-view, experiment perspect test potenti ibm. order us decision-making, precis intervent incorpor design collabor health control specialist adapt specif case tackled. discuss develop ibm tb spread city-level. simul implement user-friendli platform netlogo aim facilit us non-modelers. calibr validatedwith avail data fromciutat vella, neighborhood barcelona incid 67 tb case 100,000 inhabit 2013. virtual experi test potential, mainli focus popul heterogeneity. virtual experi aim especi import subpopul ciutat vella: immigrants. show increas mdd collect revert popul tb dynamics, effect persist long-term. second virtual experi aim explor import structur infect subpopul regard infect time. keep initi number infect individuals, shape distribut crucial direct dynam tb. virtual experi design test platform tool help decision-making. quickli allow incorpor strategi direct global commun specif collectives, analysi consequ structur infect subpopulation. fact, second experi demonstr import hidden infect collect dynam tb disease. thus, figur 9 | effect differ test screen evolut infect time distribut observ virtual experi 10 simul years. start homogen distribut 4,500 infected. essenti direct effort control popul cohort. result specif case report paper, want emphas methodolog approach. mathemat model epidemiolog improv understand predict purposes. historically, model express mainli differenti equations. continu model especi us studi spread diseas follow ecolog r-strategy, i.e., rapid increas incid (fierer et al., 2007). strategi usual guarante fraction popul simultan affect small period larg statist signific support continuum hypothesis. moreover, guarante short-term predict enough, import environment social condit affect dynam diseas spread difficult control long- term periods. contrast, talk diseas follow ecolog k-strategi (fierer et al., 2007), i.e., slow dynam small incid greater persist community, usual remain hidden years. case, us continu model controversial, limit size simultan affect population. tuberculosi consid k-strategi disease. such, number peopl simultan activ diseas certain commun rel small. altern increas model popul feasibl inher heterogen situat complic parameter interpret results. model strategi propos paper us individual-bas approach studi tb spread frontier microbiolog | www.frontiersin.org 11 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac commun neighborhood cities. scale, popul characterist socio-econom environ delimit controlled. approach allow proper definit individu behavior simpl rules, possibl reproduc divers possibl situations. output model studi variat global dynam emerg action community. fact, realiti complex dynamic, wide varieti unexpect socio-econom chang influenc epidem diseas like tb occur. thus, ibm simul aim predict futur evolut realist perspective, provid virtual platform test differ situations. question like effect migrat flux differ infect profiles, impact variat certain act protocols, effect chang social habit specif socio-econom situations, others, address one-by-on (i.e., independ others) combination. general, ibm simul design answer issu requir chang model code. answer question help healthcar commun improv polici decision-making. author contribut cp co-lead research project, design model virtual experiments, supervis model implementation, carri virtual experiments, analyz discuss result lead write manuscript. cm- design supervis model implementation, design virtual experiments, analyz discuss result co-lead write manuscript. jg implement model, carri virtual experiments, analyz result particip write manuscript. jv jc-g design supervis model implementation, analyz discuss obtain result critic revis manuscript. cv p-jc design model virtual experiments, analyz discuss obtain result critic revis manuscript. dl conceiv lead research project, design model virtual experiments, analyz discuss obtain result particip write manuscript. acknowledg studi partial support secretaria duniversitat recerca la generalitat catalunya. project fund plan nacion i+d+i co- financ isciii-subdireccin gener evaluacin fondo-eu desarrollo region (feder) project pi11/01702 pi14/01038, miguel servet contract cp13/00174. refer ajunta barcelona (2012). demograph statistics. avail at: bcn.cat/estadistica/angles/ bartoll, x. (2014). la salut barcelona 2012. barcelona: agncia salut pblica barcelona. bartoll, x., salvador, m., allu, n., borrell, c. (2013). enquesta salut barcelona 2011. barcelona: agncia salut pblica barcelona. caines, k., koek, i., maher, d., narayanan, p. r., tapia, r. (2006). global plan stop tb 2006-2015. action life. world free tuberculosis. edit stop tb partnership. geneva: world health organization. cardona, p.-j. (2010). inclus constant reinfection, host tolerance, damage-respons framework lead better understand latent infect evolut activ disease. arch. immunol. ther. exp. 58, 714. doi: 10.1007/s00005-009-0062-5 cardona, p.-j., ruiz-manzano, j. (2004). natur mycobacterium tuberculosis-lat bacilli. eur. respir. j. 24, 10441051. doi: 10.1183/09031936.04.00072604 castillo-chavez, c., song, b. (2004). dynam model tuberculosi applications.math. biosci. eng. 1, 361404. doi: 10.3934/mbe.2004.1.361 vries, g., aldridge, r. w., cayla, j. a., haas, w. h., sandgren, a., van hest, n. a., et al. (2014). epidemiolog tuberculosi big citi european union european econom area countries. eurosurveil 19, 20726. doi: 10.2807/1560-7917.es2014.19.9.20726 diel, r., vandeputte, j., vries, g., stillo, j., wanlin, m., nienhaus, a. (2014). cost tuberculosi diseas european union: systemat analysi cost calculation. eur. respir. j. 43, 554565. doi: 10.1183/09031936.00079413 ferebee, s. h. (1970). control chemoprophylaxi trial tuberculosis. gener review. bibl. tuberc. 26, 28106. ferrer, j., prats, c., lpez, d. (2008). individual-bas modelling: essenti tool microbiology. j. biol. phys. 34, 1937. doi: 10.1007/s10867-008-9082-3 ferrer, j., prats, c., lpez, d., vives-rego, j. (2009). mathemat model methodolog predict food microbiology: swot analysis. int. j. food microbiol. 134, 28. doi: 10.1016/j.ijfoodmicro.2009. 01.016 fierer, n., bradford, m. a., jackson, r. b. (2007). ecolog classif soil bacteria. ecolog 88, 13541364. doi: 10.1890/05-1839 garca olalla, p., clos, r., orcau palau, a., cayl, j. a. (2012). sida barcelona. vigilncia epidemiolgica. barcelona: agncia salut pblica barcelona. grimm, v. (1999). year individual-bas model ecology: learn learn future? ecol. model. 115, 129148. doi: 10.1016/s0304-3800(98)00188-4 grimm, v., berger, u., bastiansen, f., eliassen, s., ginot, v., giske, j., et al. (2006). standard protocol describ individual-bas agent-bas models. ecol. modell. 198, 115126. doi: 10.1016/j.ecolmodel.2006.04.023 grimm, v., berger, u., deangelis, d. l., gari polhill, j., giske, j., railsback, s. f. (2010). odd protocol: review update. ecol. modell. 221, 27602768. doi: 10.1016/j.ecolmodel.2010.08.019 guzzetta, g., ajelli, m., yang, z., merler, s., furlanello, c., kirschner, d. (2011). model socio-demographi captur tuberculosi transmiss dynam low burden setting. j. theor. biol. 289, 197205. doi: 10.1016/j.jtbi.2011.08.032 kasaie, p., dowdy, d. w., kelton, w. d. (2013). agent-bas simul tuberculosi epidemic: understand time transmission, proceed 2013 winter simul conference, ed r. pasupathy, s.- h. kim, a. tolk, r. hill, m. e. kuhl (piscataway, nj: ieee press), 22272238. kasaie, p., dowdy, d. w., kelton, w. d. (2014). estim proport tuberculosi recent transmiss simulation, proceed 2014 winter simul conference, ed a. tolk, s. y. diallo, i. o. ryzhov, l. yilmaz, s. buckley, j. a. miller (piscataway, nj: ieee press), 14691480. millet, j. p., hoff, s. t., jrgensen, b. b. (2015). tesec-06. estudio sobr una nueva tuberculina. implementacin en barcelona. da mundial la tuberculosis, unidad investigacin en tuberculosi barcelona, agncia salut pblica barcelona. avail at: frontier microbiolog | www.frontiersin.org 12 januari 2016 | volum 6 | articl 1564 prat et al. ibm tuberculosi user-friendli interfac montaola-sales, c., gilabert-navarro, j. f., casanovas, j., prats, c., lpez, d., valls, j., et al. (2015). model tuberculosi barcelona: solut speed-up agent-bas simulations, proceed 2015 winter simul conference, ed l. yilmaz, w. k. v. chan, i. moon, t. m. k. roeder, c. macal, m. d. rossetti (huntington beach, ca: ieee press), 12951306. murray, m. (2002). determin cluster distribut molecular epidemiolog tuberculosis. proc. natl. acad. sci. usa 99, 15381543. doi: 10.1073/pnas.022618299 orcau palau, ., arca ferr, m., cayl buqueras, j. a., garca olalla rizo, p. (2015). la tuberculosi barcelona. inform 2013. avail at: orcau palau, ., cayl buqueras, j. a., garca olalla rizo, p. (2013). la tuberculosi barcelona. inform 2012. avail at: ozcaglar, c., shabbeer, a., vandenberg, s. l., yener, b., bennett, k. p. (2012). epidemiolog model mycobacterium tuberculosi complex infections. math. biosci. 236, 7796. doi: 10.1016/j.mbs.2012. 02.003 sulis, g., roggi, a., matteelli, a., raviglione, m. c. (2014). tuberculosis: epidemiolog control. mediterr. j. hematol. infect. dis. 6, e2014070. doi: 10.4084/mjhid.2014.070 tisue, s., wilensky, u. (2004). netlogo: simpl environ model complexity, proceed intern confer complex systems, boston, 1621. unit nation (2000). millenium develop goal 2015. goal 6: combat hiv/aids, malaria diseases. avail at: org/millenniumgoals/aids.shtml world health organ [who] (2010). treatment tuberculosis: guidelines, 4th edn. geneva: world health organization. world health organ [who] (2014). global tuberculosi report 2014. geneva: world health organization. world health organ [who] (2015). guidelin manag latent tuberculosi infection. geneva: world health organization. zwerling, a., shrestha, s., dowdy, d. w. (2015). mathemat model tuberculosis: advanc diagnost novel therapies. adv. med. 2015, 907267. doi: 10.1155/2015/907267 conflict statement: author declar research conduct absenc commerci financi relationship constru potenti conflict interest. copyright 2016 prats, montaola-sales, gilabert-navarro, valls, casanovas- garcia, vilaplana, cardona lpez. open-access articl distribut term creativ common attribut licens (cc by). use, distribut reproduct forum permitted, provid origin author(s) licensor credit origin public journal cited, accord accept academ practice. use, distribut reproduct permit compli terms. frontier microbiolog | www.frontiersin.org 13 januari 2016 | volum 6 | articl 1564 individual-bas model tuberculosi user-friendli interface: understand epidemiolog role popul heterogen citi introduct odd descript individual-bas model overview purpos entities, state variables, scale process overview schedul design concept basic principl emerg interact stochast collect observ detail initi submodel ag infect sick diagnos start treatment abandon treatment recov die result sensit analysi calibr virtual experi long-term effect increas diagnosi delai immigr role infect time distribut tb dynam ibm platform test screen screen discuss author contribut acknowledg refer